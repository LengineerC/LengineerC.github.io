"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[518],{6263:(t,e,i)=>{i.d(e,{A:()=>I});var n=i(5043),o=i(8139),a=i.n(o),r=i(5296),s=i(8887),l=i(3944),c=i(4414),u=i(8855),h=i(8446);const p=t=>{const{componentCls:e,calc:i}=t;return{[e]:Object.assign(Object.assign({},(0,c.dF)(t)),{margin:0,padding:0,listStyle:"none",["".concat(e,"-item")]:{position:"relative",margin:0,paddingBottom:t.itemPaddingBottom,fontSize:t.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:t.itemHeadSize,insetInlineStart:i(i(t.itemHeadSize).sub(t.tailWidth)).div(2).equal(),height:"calc(100% - ".concat((0,l.zA)(t.itemHeadSize),")"),borderInlineStart:"".concat((0,l.zA)(t.tailWidth)," ").concat(t.lineType," ").concat(t.tailColor)},"&-pending":{["".concat(e,"-item-head")]:{fontSize:t.fontSizeSM,backgroundColor:"transparent"},["".concat(e,"-item-tail")]:{display:"none"}},"&-head":{position:"absolute",width:t.itemHeadSize,height:t.itemHeadSize,backgroundColor:t.dotBg,border:"".concat((0,l.zA)(t.dotBorderWidth)," ").concat(t.lineType," transparent"),borderRadius:"50%","&-blue":{color:t.colorPrimary,borderColor:t.colorPrimary},"&-red":{color:t.colorError,borderColor:t.colorError},"&-green":{color:t.colorSuccess,borderColor:t.colorSuccess},"&-gray":{color:t.colorTextDisabled,borderColor:t.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:i(t.itemHeadSize).div(2).equal(),insetInlineStart:i(t.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:t.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:i(i(t.fontSize).mul(t.lineHeight).sub(t.fontSize)).mul(-1).add(t.lineWidth).equal(),marginInlineStart:i(t.margin).add(t.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{["> ".concat(e,"-item-tail")]:{display:"none"},["> ".concat(e,"-item-content")]:{minHeight:i(t.controlHeightLG).mul(1.2).equal()}}},["&".concat(e,"-alternate,\n        &").concat(e,"-right,\n        &").concat(e,"-label")]:{["".concat(e,"-item")]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:i(t.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:i(t.tailWidth).div(2).equal()}},"&-left":{["".concat(e,"-item-content")]:{insetInlineStart:"calc(50% - ".concat((0,l.zA)(t.marginXXS),")"),width:"calc(50% - ".concat((0,l.zA)(t.marginSM),")"),textAlign:"start"}},"&-right":{["".concat(e,"-item-content")]:{width:"calc(50% - ".concat((0,l.zA)(t.marginSM),")"),margin:0,textAlign:"end"}}}},["&".concat(e,"-right")]:{["".concat(e,"-item-right")]:{["".concat(e,"-item-tail,\n            ").concat(e,"-item-head,\n            ").concat(e,"-item-head-custom")]:{insetInlineStart:"calc(100% - ".concat((0,l.zA)(i(i(t.itemHeadSize).add(t.tailWidth)).div(2).equal()),")")},["".concat(e,"-item-content")]:{width:"calc(100% - ".concat((0,l.zA)(i(t.itemHeadSize).add(t.marginXS).equal()),")")}}},["&".concat(e,"-pending\n        ").concat(e,"-item-last\n        ").concat(e,"-item-tail")]:{display:"block",height:"calc(100% - ".concat((0,l.zA)(t.margin),")"),borderInlineStart:"".concat((0,l.zA)(t.tailWidth)," dotted ").concat(t.tailColor)},["&".concat(e,"-reverse\n        ").concat(e,"-item-last\n        ").concat(e,"-item-tail")]:{display:"none"},["&".concat(e,"-reverse ").concat(e,"-item-pending")]:{["".concat(e,"-item-tail")]:{insetBlockStart:t.margin,display:"block",height:"calc(100% - ".concat((0,l.zA)(t.margin),")"),borderInlineStart:"".concat((0,l.zA)(t.tailWidth)," dotted ").concat(t.tailColor)},["".concat(e,"-item-content")]:{minHeight:i(t.controlHeightLG).mul(1.2).equal()}},["&".concat(e,"-label")]:{["".concat(e,"-item-label")]:{position:"absolute",insetBlockStart:i(i(t.fontSize).mul(t.lineHeight).sub(t.fontSize)).mul(-1).add(t.tailWidth).equal(),width:"calc(50% - ".concat((0,l.zA)(t.marginSM),")"),textAlign:"end"},["".concat(e,"-item-right")]:{["".concat(e,"-item-label")]:{insetInlineStart:"calc(50% + ".concat((0,l.zA)(t.marginSM),")"),width:"calc(50% - ".concat((0,l.zA)(t.marginSM),")"),textAlign:"start"}}},"&-rtl":{direction:"rtl",["".concat(e,"-item-head-custom")]:{transform:"translate(50%, -50%)"}}})}},d=(0,u.OF)("Timeline",(t=>{const e=(0,h.oX)(t,{itemHeadSize:10,customHeadPaddingVertical:t.paddingXXS,paddingInlineEnd:2});return[p(e)]}),(t=>({tailColor:t.colorSplit,tailWidth:t.lineWidthBold,dotBorderWidth:t.wireframe?t.lineWidthBold:3*t.lineWidth,dotBg:t.colorBgContainer,itemPaddingBottom:1.25*t.padding})));var g=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i};const f=t=>{var{prefixCls:e,className:i,color:o="blue",dot:s,pending:l=!1,position:c,label:u,children:h}=t,p=g(t,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:d}=n.useContext(r.QO),f=d("timeline",e),v=a()("".concat(f,"-item"),{["".concat(f,"-item-pending")]:l},i),m=/blue|red|green|gray/.test(o||"")?void 0:o,y=a()("".concat(f,"-item-head"),{["".concat(f,"-item-head-custom")]:!!s,["".concat(f,"-item-head-").concat(o)]:!m});return n.createElement("li",Object.assign({},p,{className:v}),u&&n.createElement("div",{className:"".concat(f,"-item-label")},u),n.createElement("div",{className:"".concat(f,"-item-tail")}),n.createElement("div",{className:y,style:{borderColor:m,color:m}},s),n.createElement("div",{className:"".concat(f,"-item-content")},h))};var v=i(436),m=i(164),y=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i};const _=t=>{var{prefixCls:e,className:i,pending:o=!1,children:r,items:s,rootClassName:l,reverse:c=!1,direction:u,hashId:h,pendingDot:p,mode:d=""}=t,g=y(t,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const _=(t,i)=>"alternate"===d?"".concat(e,"right"===t?"-item-right":"left"===t||i%2===0?"-item-left":"-item-right"):"left"===d?"".concat(e,"-item-left"):"right"===d||"right"===t?"".concat(e,"-item-right"):"",S=(0,v.A)(s||[]),b="boolean"===typeof o?null:o;o&&S.push({pending:!!o,dot:p||n.createElement(m.A,null),children:b}),c&&S.reverse();const x=S.length,M="".concat(e,"-item-last"),I=S.filter((t=>!!t)).map(((t,e)=>{var i;const r=e===x-2?M:"",s=e===x-1?M:"",{className:l}=t,u=y(t,["className"]);return n.createElement(f,Object.assign({},u,{className:a()([l,!c&&o?r:s,_(null!==(i=null===t||void 0===t?void 0:t.position)&&void 0!==i?i:"",e)]),key:(null===t||void 0===t?void 0:t.key)||e}))})),w=S.some((t=>!!(null===t||void 0===t?void 0:t.label))),O=a()(e,{["".concat(e,"-pending")]:!!o,["".concat(e,"-reverse")]:!!c,["".concat(e,"-").concat(d)]:!!d&&!w,["".concat(e,"-label")]:w,["".concat(e,"-rtl")]:"rtl"===u},i,l,h);return n.createElement("ul",Object.assign({},g,{className:O}),I)};var S=i(2149);const b=function(t,e){return t&&Array.isArray(t)?t:(0,S.A)(e).map((t=>{var e,i;return Object.assign({children:null!==(i=null===(e=null===t||void 0===t?void 0:t.props)||void 0===e?void 0:e.children)&&void 0!==i?i:""},t.props)}))};var x=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i};const M=t=>{const{getPrefixCls:e,direction:i,timeline:o}=n.useContext(r.QO),{prefixCls:l,children:c,items:u,className:h,style:p}=t,g=x(t,["prefixCls","children","items","className","style"]),f=e("timeline",l);const v=(0,s.A)(f),[m,y,S]=d(f,v),M=b(u,c);return m(n.createElement(_,Object.assign({},g,{className:a()(null===o||void 0===o?void 0:o.className,h,S,v),style:Object.assign(Object.assign({},null===o||void 0===o?void 0:o.style),p),prefixCls:f,direction:i,items:M,hashId:y})))};M.Item=f;const I=M},1334:(t,e,i)=>{i.d(e,{a:()=>_});var n=i(1422),o=i(4682),a=i(6159),r=i(3175),s=i(6402),l=i(7718);const c=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=l.yh.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,i,n,o,a){var r=this._getBrush(),s=this._getGradient(o,"inRange"),l=this._getGradient(o,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,h=u.getContext("2d"),p=t.length;u.width=e,u.height=i;for(var d=0;d<p;++d){var g=t[d],f=g[0],v=g[1],m=n(g[2]);h.globalAlpha=m,h.drawImage(r,f-c,v-c)}if(!u.width||!u.height)return u;for(var y=h.getImageData(0,0,u.width,u.height),_=y.data,S=0,b=_.length,x=this.minOpacity,M=this.maxOpacity-x;S<b;){m=_[S+3]/256;var I=4*Math.floor(255*m);if(m>0){var w=a(m)?s:l;m>0&&(m=m*M+x),_[S++]=w[I],_[S++]=w[I+1],_[S++]=w[I+2],_[S++]=w[I+3]*m*256}else S+=4}return h.putImageData(y,0,0),u},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=l.yh.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},t.prototype._getGradient=function(t,e){for(var i=this._gradientPixels,n=i[e]||(i[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,r=0;r<256;r++)t[e](r/255,!0,o),n[a++]=o[0],n[a++]=o[1],n[a++]=o[2],n[a++]=o[3];return n},t}();var u=i(7653),h=i(2441);var p=i(7533);function d(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}const g=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,n.C6)(e,t),e.prototype.render=function(t,e,i){var n;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(i){i===t&&(n=e)}))})),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):d(o)&&this._renderOnGeo(o,t,n,i)},e.prototype.incrementalPrepareRender=function(t,e,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,i,n){var o=e.coordinateSystem;o&&(d(o)?this.render(e,i,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){o.traverseElements(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,i,n,o){var r,l,c,u,h=t.coordinateSystem,d=function(t,e){return t.type===e}(h,"cartesian2d");if(d){var g=h.getAxis("x"),f=h.getAxis("y");0,r=g.getBandWidth()+.5,l=f.getBandWidth()+.5,c=g.scale.getExtent(),u=f.scale.getExtent()}for(var v=this.group,m=t.getData(),y=t.getModel(["emphasis","itemStyle"]).getItemStyle(),_=t.getModel(["blur","itemStyle"]).getItemStyle(),S=t.getModel(["select","itemStyle"]).getItemStyle(),b=t.get(["itemStyle","borderRadius"]),x=(0,p.lx)(t),M=t.getModel("emphasis"),I=M.get("focus"),w=M.get("blurScope"),O=M.get("disabled"),z=d?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],D=i;D<n;D++){var C=void 0,T=m.getItemVisual(D,"style");if(d){var V=m.get(z[0],D),A=m.get(z[1],D);if(isNaN(m.get(z[2],D))||isNaN(V)||isNaN(A)||V<c[0]||V>c[1]||A<u[0]||A>u[1])continue;var L=h.dataToPoint([V,A]);C=new a.A({shape:{x:L[0]-r/2,y:L[1]-l/2,width:r,height:l},style:T})}else{if(isNaN(m.get(z[1],D)))continue;C=new a.A({z2:1,shape:h.dataToRect([m.get(z[0],D)]).contentShape,style:T})}if(m.hasItemOption){var R=m.getItemModel(D),k=R.getModel("emphasis");y=k.getModel("itemStyle").getItemStyle(),_=R.getModel(["blur","itemStyle"]).getItemStyle(),S=R.getModel(["select","itemStyle"]).getItemStyle(),b=R.get(["itemStyle","borderRadius"]),I=k.get("focus"),w=k.get("blurScope"),O=k.get("disabled"),x=(0,p.lx)(R)}C.shape.r=b;var P=t.getRawValue(D),H="-";P&&null!=P[2]&&(H=P[2]+""),(0,p.qM)(C,x,{labelFetcher:t,labelDataIndex:D,defaultOpacity:T.opacity,defaultText:H}),C.ensureState("emphasis").style=y,C.ensureState("blur").style=_,C.ensureState("select").style=S,(0,s.Lm)(C,I,w,O),C.incremental=o,o&&(C.states.emphasis.hoverLayer=!0),v.add(C),m.setItemGraphicEl(D,C),this._progressiveEls&&this._progressiveEls.push(C)}},e.prototype._renderOnGeo=function(t,e,i,n){var o=i.targetVisuals.inRange,a=i.targetVisuals.outOfRange,s=e.getData(),l=this._hmLayer||this._hmLayer||new c;l.blurSize=e.get("blurSize"),l.pointSize=e.get("pointSize"),l.minOpacity=e.get("minOpacity"),l.maxOpacity=e.get("maxOpacity");var h=t.getViewRect().clone(),p=t.getRoamTransform();h.applyTransform(p);var d=Math.max(h.x,0),g=Math.max(h.y,0),f=Math.min(h.width+h.x,n.getWidth()),v=Math.min(h.height+h.y,n.getHeight()),m=f-d,y=v-g,_=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],S=s.mapArray(_,(function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=d,o[1]-=g,o.push(n),o})),b=i.getExtent(),x="visualMap.continuous"===i.type?function(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}(b,i.option.range):function(t,e,i){var n=t[1]-t[0],o=(e=u.Tj(e,(function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}}))).length,a=0;return function(t){var n;for(n=a;n<o;n++)if((r=e[n].interval)[0]<=t&&t<=r[1]){a=n;break}if(n===o)for(n=a-1;n>=0;n--){var r;if((r=e[n].interval)[0]<=t&&t<=r[1]){a=n;break}}return n>=0&&n<o&&i[n]}}(b,i.getPieceList(),i.option.selected);l.update(S,m,y,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},x);var M=new r.Ay({style:{width:m,height:y,x:d,y:g,image:l.canvas},silent:!0});this.group.add(M)},e.type="heatmap",e}(h.A);var f=i(3875),v=i(1170),m=i(7486);const y=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,n.C6)(e,t),e.prototype.getInitialData=function(t,e){return(0,v.A)(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=m.A.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(f.A);function _(t){t.registerChartView(g),t.registerSeriesModel(y)}},940:(t,e,i)=>{i.d(e,{a:()=>b});var n=i(1422),o=i(7653),a=i(5507),r=i(2334);function s(t,e){var i,n=t.cellSize;1===(i=o.cy(n)?n:t.cellSize=[n,n]).length&&(i[1]=i[0]);var a=o.Tj([0,1],(function(t){return(0,r.Qf)(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]}));(0,r.YA)(t,e,{type:"box",ignoreSize:a})}const l=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,n.C6)(e,t),e.prototype.init=function(e,i,n){var o=(0,r.vs)(e);t.prototype.init.apply(this,arguments),s(e,o)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),s(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(a.A);var c=i(6159),u=i(82),h=i(7315),p=i(7533),d=i(863),g=i(8369),f=i(3780),v=i(3170);const m=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,n.C6)(e,t),e.prototype.render=function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,a=o.getRangeInfo(),r=o.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,a,n),this._renderLines(t,a,r,n),this._renderYearText(t,a,r,n),this._renderMonthText(t,s,r,n),this._renderWeekText(t,s,a,r,n)},e.prototype._renderDayRect=function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),a=n.getCellWidth(),r=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,u=new c.A({shape:{x:l[0],y:l[1],width:a,height:r},cursor:"default",style:o});i.add(u)}},e.prototype._renderLines=function(t,e,i,n){var o=this,a=t.coordinateSystem,r=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=r.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,u=0;c.time<=e.end.time;u++){p(c.formatedDate),0===u&&(c=a.getDateInfo(e.start.y+"-"+e.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=a.getDateInfo(h)}function p(e){o._firstDayOfMonth.push(a.getDateInfo(e)),o._firstDayPoints.push(a.dataToRect([e],!1).tl);var l=o._getLinePointsOfOneWeek(t,e,i);o._tlpoints.push(l[0]),o._blpoints.push(l[l.length-1]),s&&o._drawSplitline(l,r,n)}p(a.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,i),r,n),s&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,i),r,n)},e.prototype._getEdgesPoints=function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},e.prototype._drawSplitline=function(t,e,i){var n=new u.A({z2:20,shape:{points:t},style:e});i.add(n)},e.prototype._getLinePointsOfOneWeek=function(t,e,i){for(var n=t.coordinateSystem,o=n.getDateInfo(e),a=[],r=0;r<7;r++){var s=n.getNextNDay(o.time,r),l=n.dataToRect([s.time],!1);a[2*s.day]=l.tl,a[2*s.day+1]=l["horizontal"===i?"bl":"tr"]}return a},e.prototype._formatterLabel=function(t,e){return(0,o.Kg)(t)&&t?(0,d.io)(t,e):(0,o.Tn)(t)?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,i,n,o){var a=e[0],r=e[1],s=["center","bottom"];"bottom"===n?(r+=o,s=["center","top"]):"left"===n?a-=o:"right"===n?(a+=o,s=["center","top"]):r-=o;var l=0;return"left"!==n&&"right"!==n||(l=Math.PI/2),{rotation:l,x:a,y:r,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,i,n){var o=t.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),r=o.get("position");r||(r="horizontal"!==i?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2,u="horizontal"===i?0:1,d={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],c],right:[s[u][0],c]},g=e.start.y;+e.end.y>+e.start.y&&(g=g+"-"+e.end.y);var f=o.get("formatter"),v={start:e.start.y,end:e.end.y,nameMap:g},m=this._formatterLabel(f,v),y=new h.Ay({z2:30,style:(0,p.VB)(o,{text:m}),silent:o.get("silent")});y.attr(this._yearTextPositionControl(y,d[r],i,r,a)),n.add(y)}},e.prototype._monthTextPositionControl=function(t,e,i,n,o){var a="left",r="top",s=t[0],l=t[1];return"horizontal"===i?(l+=o,e&&(a="center"),"start"===n&&(r="bottom")):(s+=o,e&&(r="middle"),"start"===n&&(a="right")),{x:s,y:l,align:a,verticalAlign:r}},e.prototype._renderMonthText=function(t,e,i,n){var a=t.getModel("monthLabel");if(a.get("show")){var r=a.get("nameMap"),s=a.get("margin"),l=a.get("position"),c=a.get("align"),u=[this._tlpoints,this._blpoints];r&&!(0,o.Kg)(r)||(r&&(e=(0,v.A4)(r)||e),r=e.get(["time","monthAbbr"])||[]);var d="start"===l?0:1,g="horizontal"===i?0:1;s="start"===l?-s:s;for(var f="center"===c,m=a.get("silent"),y=0;y<u[d].length-1;y++){var _=u[d][y].slice(),S=this._firstDayOfMonth[y];if(f){var b=this._firstDayPoints[y];_[g]=(b[g]+u[0][y+1][g])/2}var x=a.get("formatter"),M=r[+S.m-1],I={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:M},w=this._formatterLabel(x,I),O=new h.Ay({z2:30,style:(0,o.X$)((0,p.VB)(a,{text:w}),this._monthTextPositionControl(_,f,i,l,s)),silent:m});n.add(O)}}},e.prototype._weekTextPositionControl=function(t,e,i,n,o){var a="center",r="middle",s=t[0],l=t[1],c="start"===i;return"horizontal"===e?(s=s+n+(c?1:-1)*o[0]/2,a=c?"right":"left"):(l=l+n+(c?1:-1)*o[1]/2,r=c?"bottom":"top"),{x:s,y:l,align:a,verticalAlign:r}},e.prototype._renderWeekText=function(t,e,i,n,a){var r=t.getModel("dayLabel");if(r.get("show")){var s=t.coordinateSystem,l=r.get("position"),c=r.get("nameMap"),u=r.get("margin"),d=s.getFirstDayOfWeek();if(!c||(0,o.Kg)(c))c&&(e=(0,v.A4)(c)||e),c=e.get(["time","dayOfWeekShort"])||(0,o.Tj)(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}));var f=s.getNextNDay(i.end.time,7-i.lweek).time,m=[s.getCellWidth(),s.getCellHeight()];u=(0,g.lo)(u,Math.min(m[1],m[0])),"start"===l&&(f=s.getNextNDay(i.start.time,-(7+i.fweek)).time,u=-u);for(var y=r.get("silent"),_=0;_<7;_++){var S,b=s.getNextNDay(f,_),x=s.dataToRect([b.time],!1).center;S=Math.abs((_+d)%7);var M=new h.Ay({z2:30,style:(0,o.X$)((0,p.VB)(r,{text:c[S]}),this._weekTextPositionControl(x,n,l,u,m)),silent:y});a.add(M)}}},e.type="calendar",e}(f.A);var y=864e5;function _(t){var e=t.calendarModel,i=t.seriesModel;return e?e.coordinateSystem:i?i.coordinateSystem:null}const S=function(){function t(e,i,n){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=g._U(t)).getFullYear(),i=t.getMonth()+1,n=i<10?"0"+i:""+i,o=t.getDate(),a=o<10?"0"+o:""+o,r=t.getDay();return{y:e+"",m:n,d:a,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+a,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,n=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[i,7]:[7,i];o.__([0,1],(function(t){h(a,t)&&(s[n[t]]=a[t]*l[t])}));var c={width:e.getWidth(),height:e.getHeight()},u=this._rect=r.dV(s,c);function h(t,e){return null!=t[e]&&"auto"!==t[e]}o.__([0,1],(function(t){h(a,t)||(a[t]=u[n[t]]/l[t])})),this._sw=a[0],this._sh=a[1]},t.prototype.dataToPoint=function(t,e){o.cy(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,a=i.formatedDate;if(e&&!(i.time>=n.start.time&&i.time<n.end.time+y))return[NaN,NaN];var r=i.day,s=this._getRangeInfo([n.start.time,a]).nthWeek;return"vertical"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},t.prototype.convertToPixel=function(t,e,i){var n=_(e);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,e,i){var n=_(e);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(o.cy(e)&&1===e.length&&(e=e[0]),o.cy(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var n=this.getDateInfo(i),a=n.date;a.setMonth(a.getMonth()+1);var r=this.getNextNDay(a,-1);t=[n.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(e=!0,i.reverse());var n=Math.floor(i[1].time/y)-Math.floor(i[0].time/y)+1,o=new Date(i[0].time),a=o.getDate(),r=i[1].date.getDate();o.setDate(a+n-1);var s=o.getDate();if(s!==r)for(var l=o.getTime()-i[1].time>0?1:-1;(s=o.getDate())!==r&&(o.getTime()-i[1].time)*l>0;)n-=l,o.setDate(s-l);var c=Math.floor((n+i[0].day+6)/7),u=e?1-c:c-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:n,weeks:c,nthWeek:u,fweek:i[0].day,lweek:i[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return null;var o=7*(t-1)-n.fweek+e,a=new Date(n.start.time);return a.setDate(+n.start.d+o),this.getDateInfo(a)},t.create=function(e,i){var n=[];return e.eachComponent("calendar",(function(o){var a=new t(o,e,i);n.push(a),o.coordinateSystem=a})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])})),n},t.dimensions=["time","value"],t}();function b(t){t.registerComponentModel(l),t.registerComponentView(m),t.registerCoordinateSystem("calendar",S)}},440:(t,e,i)=>{i.d(e,{a:()=>Nt});var n=i(2444),o=i(1422),a=i(7653),r={get:function(t,e,i){var n=a.o8((s[t]||{})[e]);return i&&a.cy(n)?n[n.length-1]:n}},s={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const l=r;var c=i(8259),u=i(8369),h=a.__,p=a.Gv,d=-1,g=function(){function t(e){var i=e.mappingMethod,n=e.type,o=this.option=a.o8(e);this.type=n,this.mappingMethod=i,this._normalizeData=I[i];var r=t.visualHandlers[n];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._normalizedToVisual=r._normalizedToVisual[i],"piecewise"===i?(f(o),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,a.__(e,(function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(o)):"category"===i?o.categories?function(t){var e=t.categories,i=t.categoryMap={},n=t.visual;if(h(e,(function(t,e){i[t]=e})),!a.cy(n)){var o=[];a.Gv(n)?h(n,(function(t,e){var n=i[e];o[null!=n?n:d]=t})):o[-1]=n,n=M(t,o)}for(var r=e.length-1;r>=0;r--)null==n[r]&&(delete i[e[r]],e.pop())}(o):f(o,!0):(a.vA("linear"!==i||o.dataExtent),f(o))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return a.oI(this._normalizeData,this)},t.listVisualTypes=function(){return a.HP(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,i){a.Gv(t)?a.__(t,e,i):e.call(i,t)},t.mapVisual=function(e,i,n){var o,r=a.cy(e)?[]:a.Gv(e)?{}:(o=!0,null);return t.eachVisual(e,(function(t,e){var a=i.call(n,t,e);o?r=a:r[e]=a})),r},t.retrieveVisuals=function(e){var i,n={};return e&&h(t.visualHandlers,(function(t,o){e.hasOwnProperty(o)&&(n[o]=e[o],i=!0)})),i?n:null},t.prepareVisualTypes=function(t){if(a.cy(t))t=t.slice();else{if(!p(t))return[];var e=[];h(t,(function(t,i){e.push(i)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,i){for(var n,o=1/0,r=0,s=e.length;r<s;r++){var l=e[r].value;if(null!=l){if(l===t||a.Kg(l)&&l===t+"")return r;i&&p(l,r)}}for(r=0,s=e.length;r<s;r++){var c=e[r],u=c.interval,h=c.close;if(u){if(u[0]===-1/0){if(w(h[1],t,u[1]))return r}else if(u[1]===1/0){if(w(h[0],u[0],t))return r}else if(w(h[0],u[0],t)&&w(h[1],t,u[1]))return r;i&&p(u[0],r),i&&p(u[1],r)}}if(i)return t===1/0?e.length-1:t===-1/0?0:n;function p(e,i){var a=Math.abs(e-t);a<o&&(o=a,n=i)}},t.visualHandlers={color:{applyVisual:y("color"),getColorMapper:function(){var t=this.option;return a.oI("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),_.call(this,t)}:function(e,i,n){var o=!!n;return!i&&(e=this._normalizeData(e)),n=c.ad(e,t.parsedVisual,n),o?n:c.As(n,"rgba")},this)},_normalizedToVisual:{linear:function(t){return c.As(c.ad(t,this.option.parsedVisual),"rgba")},category:_,piecewise:function(t,e){var i=x.call(this,e);return null==i&&(i=c.As(c.ad(t,this.option.parsedVisual),"rgba")),i},fixed:S}},colorHue:v((function(t,e){return c.Yu(t,e)})),colorSaturation:v((function(t,e){return c.Yu(t,null,e)})),colorLightness:v((function(t,e){return c.Yu(t,null,null,e)})),colorAlpha:v((function(t,e){return c.hm(t,e)})),decal:{applyVisual:y("decal"),_normalizedToVisual:{linear:null,category:_,piecewise:null,fixed:null}},opacity:{applyVisual:y("opacity"),_normalizedToVisual:b([0,1])},liftZ:{applyVisual:y("liftZ"),_normalizedToVisual:{linear:S,category:S,piecewise:S,fixed:S}},symbol:{applyVisual:function(t,e,i){i("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:m,category:_,piecewise:function(t,e){var i=x.call(this,e);return null==i&&(i=m.call(this,t)),i},fixed:S}},symbolSize:{applyVisual:y("symbolSize"),_normalizedToVisual:b([0,1])}},t}();function f(t,e){var i=t.visual,n=[];a.Gv(i)?h(i,(function(t){n.push(t)})):null!=i&&n.push(i);e||1!==n.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(n[1]=n[0]),M(t,n)}function v(t){return{applyVisual:function(e,i,n){var o=this.mapValueToVisual(e);n("color",t(i("color"),o))},_normalizedToVisual:b([0,1])}}function m(t){var e=this.option.visual;return e[Math.round((0,u.Cb)(t,[0,1],[0,e.length-1],!0))]||{}}function y(t){return function(e,i,n){n(t,this.mapValueToVisual(e))}}function _(t){var e=this.option.visual;return e[this.option.loop&&t!==d?t%e.length:t]}function S(){return this.option.visual[0]}function b(t){return{linear:function(e){return(0,u.Cb)(e,t,this.option.visual,!0)},category:_,piecewise:function(e,i){var n=x.call(this,i);return null==n&&(n=(0,u.Cb)(e,t,this.option.visual,!0)),n},fixed:S}}function x(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=i[g.findPieceIndex(t,i)];if(n&&n.visual)return n.visual[this.type]}}function M(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=a.Tj(e,(function(t){var e=c.qg(t);return e||[0,0,0,1]}))),e}var I={linear:function(t){return(0,u.Cb)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=g.findPieceIndex(t,e,!0);if(null!=i)return(0,u.Cb)(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?d:e},fixed:a.lQ};function w(t,e,i){return t?e<=i:e<i}const O=g;var z=i(4040),D=a.__;function C(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function T(t,e,i){var n={};return D(e,(function(e){var o=n[e]=function(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}();D(t[e],(function(t,n){if(O.isValidType(n)){var r={type:n,visual:t};i&&i(r,e),o[n]=new O(r),"opacity"===n&&((r=a.o8(r)).type="colorAlpha",o.__hidden.__alphaForOpacity=new O(r))}}))})),n}var V=i(555),A=i(5507),L=O.mapVisual,R=O.eachVisual,k=a.cy,P=a.__,H=u.Y6,E=u.Cb,N=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return(0,o.C6)(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,e){var i=this.option;!e&&function(t,e,i){var n;a.__(i,(function(t){e.hasOwnProperty(t)&&C(e[t])&&(n=!0)})),n&&a.__(i,(function(i){e.hasOwnProperty(i)&&C(e[i])?t[i]=a.o8(e[i]):delete t[i]}))}(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=a.oI(t,this),this.controllerVisuals=T(this.option.controller,e,t),this.targetVisuals=T(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,i){e.push(i)})):e=V.qB(t),e},e.prototype.eachTargetSeries=function(t,e){a.__(this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);n&&t.call(e,n)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(i){i===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,i){var n,o=this.option,r=o.precision,s=this.dataBound,l=o.formatter;i=i||["<",">"],a.cy(t)&&(t=t.slice(),n=!0);var c=e?t:n?[u(t[0]),u(t[1])]:u(t);return a.Kg(l)?l.replace("{value}",n?c[0]:c).replace("{value2}",n?c[1]:c):a.Tn(l)?n?l(t[0],t[1]):l(t):n?t[0]===s[0]?i[0]+" "+c[1]:t[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1]:c;function u(t){return t===s[0]?"min":t===s[1]?"max":(+t).toFixed(Math.min(r,20))}},e.prototype.resetExtent=function(){var t=this.option,e=H([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var i=t.dimensions,n=i.length-1;n>=0;n--){var o=i[n],a=t.getDimensionInfo(o);if(!a.isCalculationCoord)return a.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),o=e.controller||(e.controller={});a.h1(n,i),a.h1(o,i);var r=this.isCategory();function s(i){k(e.color)&&!i.inRange&&(i.inRange={color:e.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get("gradientColor")}}s.call(this,n),s.call(this,o),function(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},P(n,(function(t,e){if(O.isValidType(e)){var i=l.get(e,"inactive",r);null!=i&&(o[e]=i,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}.call(this,n,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get("inactiveColor"),o=this.getItemSymbol()||"roundRect";P(this.stateList,(function(s){var l=this.itemSize,c=t[s];c||(c=t[s]={color:r?n:[n]}),null==c.symbol&&(c.symbol=e&&a.o8(e)||(r?o:[o])),null==c.symbolSize&&(c.symbolSize=i&&a.o8(i)||(r?l[0]:[l[0],l[0]])),c.symbol=L(c.symbol,(function(t){return"none"===t?o:t}));var u=c.symbolSize;if(null!=u){var h=-1/0;R(u,(function(t){t>h&&(h=t)})),c.symbolSize=L(u,(function(t){return E(t,[0,h],[0,l[0]],!0)}))}}),this)}.call(this,o)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(A.A);const B=N;var W=i(8213),G=[20,140],F=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,o.C6)(e,t),e.prototype.optionUpdated=function(e,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=G[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=G[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):a.cy(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),a.__(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=u.Y6((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)}),this),e.push({seriesId:i.id,dataIndex:n})}),this),e},e.prototype.getVisualMeta=function(t){var e=j(this,"outOfRange",this.getExtent()),i=j(this,"inRange",this.option.range.slice()),n=[];function o(e,i){n.push({value:e,color:t(e,i)})}for(var a=0,r=0,s=i.length,l=e.length;r<l&&(!i.length||e[r]<=i[0]);r++)e[r]<i[a]&&o(e[r],"outOfRange");for(var c=1;a<s;a++,c=0)c&&n.length&&o(i[a],"outOfRange"),o(i[a],"inRange");for(c=1;r<l;r++)(!i.length||i[i.length-1]<e[r])&&(c&&(n.length&&o(n[n.length-1].value,"outOfRange"),c=0),o(e[r],"outOfRange"));var u=n.length;return{stops:n,outerColors:[u?n[0].color:"transparent",u?n[u-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=(0,W.G_)(B.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(B);function j(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],a=[],r=0;r<=200&&o<i[1];r++)a.push(o),o+=n;return a.push(i[1]),a}const X=F;var q=i(1629),Y=i(7981),K=i(6159),U=i(863),$=i(2334),Z=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return(0,o.C6)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,i,n){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,i,n):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,i=U.QX(e.get("padding")||0),n=t.getBoundingRect();t.add(new K.A({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,i){var n=(i=i||{}).forceState,o=this.visualMapModel,r={};if("color"===e){var s=o.get("contentColor");r.color=s}function l(t){return r[t]}function c(t,e){r[t]=e}var u=o.controllerVisuals[n||o.getValueState(t)],h=O.prepareVisualTypes(u);return a.__(h,(function(n){var o=u[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=u.__alphaForOpacity),O.dependsOn(n,e)&&o&&o.applyVisual(t,l,c)})),r[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,i=this.api;$.m$(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,e,i,n){},e.type="visualMap",e}(i(3780).A);const Q=Z;var J=i(7315),tt=i(5741),et=i(4682),it=i(1694);function nt(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function ot(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var at=[["left","right","width"],["top","bottom","height"]];function rt(t,e,i){var n=t.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},r="horizontal"===n.orient?1:0,s=at[r],l=[0,null,10],c={},u=0;u<3;u++)c[at[1-r][u]]=l[u],c[s[u]]=2===u?i[0]:n[s[u]];var h=[["x","width",3],["y","height",0]][r],p=(0,$.dV)(c,a,n.padding);return s[(p.margin[h[2]]||0)+p[h[0]]+.5*p[h[1]]<.5*a[h[1]]?0:1]}function st(t,e){return a.__(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var lt=i(2995),ct=i(6402),ut=i(6340),ht=i(3175),pt=i(3821),dt=i(7533),gt=i(5382),ft=u.Cb,vt=a.__,mt=Math.min,yt=Math.max;function _t(t,e,i,n){return new it.A({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){Y.ds(t.event)},ondragend:n})}function St(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function bt(t){return"vertical"===t?"ns-resize":"ew-resize"}const xt=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return(0,o.C6)(e,t),e.prototype.init=function(e,i){t.prototype.init.call(this,e,i),this._hoverLinkFromSeriesMouseOver=a.oI(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=a.oI(this._hideIndicator,this)},e.prototype.doRender=function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],s),c=this._applyTransform(0===i?"bottom":"top",s),u=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new J.Ay({style:(0,dt.VB)(h,{x:l[0],y:l[1],verticalAlign:"horizontal"===u?"middle":c,align:"horizontal"===u?c:"center",text:n})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,o=this._orient,r=this._useHandle,s=rt(e,this.api,n),l=i.mainGroup=this._createBarGroup(s),c=new tt.A;l.add(c),c.add(i.outOfRange=_t()),c.add(i.inRange=_t(null,r?bt(this._orient):null,a.oI(this._dragHandle,this,"all",!1),a.oI(this._dragHandle,this,"all",!0))),c.setClipPath(new K.A({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var u=e.textStyleModel.getTextRect("\u56fd"),h=yt(u.width,u.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(e,l,0,n,h,o),this._createHandle(e,l,1,n,h,o)),this._createIndicator(e,l,n,h,o),t.add(l)},e.prototype._createHandle=function(t,e,i,n,o,r){var s=a.oI(this._dragHandle,this,i,!1),l=a.oI(this._dragHandle,this,i,!0),c=(0,lt.lo)(t.get("handleSize"),n[0]),u=(0,ut.v5)(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=bt(this._orient);u.attr({cursor:h,draggable:!0,drift:s,ondragend:l,onmousemove:function(t){Y.ds(t.event)}}),u.x=n[0]/2,u.useStyle(t.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,ct.ix)(u,!0),e.add(u);var p=this.visualMapModel.textStyleModel,d=new J.Ay({cursor:h,draggable:!0,drift:s,onmousemove:function(t){Y.ds(t.event)},ondragend:l,style:(0,dt.VB)(p,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var g=[c,0],f=this._shapes;f.handleThumbs[i]=u,f.handleLabelPoints[i]=g,f.handleLabels[i]=d},e.prototype._createIndicator=function(t,e,i,n,o){var r=(0,lt.lo)(t.get("indicatorSize"),i[0]),s=(0,ut.v5)(t.get("indicatorIcon"),-r/2,-r/2,r,r,null,!0);s.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var l=t.getModel("indicatorStyle").getItemStyle();if(s instanceof ht.Ay){var c=s.style;s.useStyle(a.X$({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else s.useStyle(l);e.add(s);var u=this.visualMapModel.textStyleModel,h=new J.Ay({silent:!0,invisible:!0,style:(0,dt.VB)(u,{x:0,y:0,text:""})});this.group.add(h);var p=[("horizontal"===o?n/2:6)+i[0]/2,0],d=this._shapes;d.indicator=s,d.indicatorLabel=h,d.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():St(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[ft(e[0],i,n,!0),ft(e[1],i,n,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];!function(t,e,i,n,o,a){t=t||0;var r=i[1]-i[0];if(null!=o&&(o=ot(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===n){var s=Math.abs(e[1]-e[0]);s=ot(s,[0,r]),o=a=ot(s,[o,a]),n=0}e[0]=ot(e[0],i),e[1]=ot(e[1],i);var l=nt(e,n);e[n]+=t;var c,u=o||0,h=i.slice();l.sign<0?h[0]+=u:h[1]-=u,e[n]=ot(e[n],h),c=nt(e,n),null!=o&&(c.sign!==l.sign||c.span<o)&&(e[1-n]=e[n]+l.sign*o),c=nt(e,n),null!=a&&c.span>a&&(e[1-n]=e[n]+c.sign*a)}(e,n,o,t,0);var a=i.getExtent();this._dataInterval=[ft(n[0],o,a,!0),ft(n[1],o,a,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],a=t?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:r.barColor}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(a,r)},e.prototype._createBarVisual=function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),r=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],s=this._createBarPoints(i,r);return{barColor:new q.A(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;o<100;o++){var a=t[0]+n*o;if(a>t[1])break;i.push({color:this.getControllerVisual(a,"color",e),offset:o/100})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},e.prototype._createBarPoints=function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new tt.A("horizontal"!==e||i?"horizontal"===e&&i?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||i?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels,r=n.itemSize,s=n.getExtent(),l=this._applyTransform("left",i.mainGroup);vt([0,1],(function(c){var u=o[c];u.setStyle("fill",e.handlesColor[c]),u.y=t[c];var h=ft(t[c],[0,r[1]],s,!0),p=this.getControllerVisual(h,"symbolSize");u.scaleX=u.scaleY=p/r[0],u.x=r[0]-p/2;var d=et.applyTransform(i.handleLabelPoints[c],et.getTransform(u,this.group));if("horizontal"===this._orient){var g="left"===l||"top"===l?(r[0]-p)/2:(r[0]-p)/-2;d[1]+=g}a[c].setStyle({x:d[0],y:d[1],text:n.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=this._shapes,c=l.indicator;if(c){c.attr("invisible",!1);var u=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(t,"symbolSize"),p=ft(t,a,s,!0),d=r[0]-h/2,g={x:c.x,y:c.y};c.y=p,c.x=d;var f=et.applyTransform(l.indicatorLabelPoint,et.getTransform(c,this.group)),v=l.indicatorLabel;v.attr("invisible",!1);var m=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;v.setStyle({text:(i||"")+o.formatValueText(e),verticalAlign:y?m:"middle",align:y?"center":m});var _={x:d,y:p,style:{fill:u}},S={style:{x:f[0],y:f[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var b={duration:100,easing:"cubicInOut",additive:!0};c.x=g.x,c.y=g.y,c.animateTo(_,b),v.animateTo(S,b)}else c.attr(_),v.attr(S);this._firstShowIndicator=!1;var x=this._shapes.handleLabels;if(x)for(var M=0;M<x.length;M++)this.api.enterBlur(x[M])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);n[1]=mt(yt(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();t=mt(yt(o[0],t),o[1]);var r=function(t,e,i){var n=6,o=t.get("hoverLinkDataSize");o&&(n=ft(o,e,i,!0)/2);return n}(i,a,o),s=[t-r,t+r],l=ft(t,o,a,!0),c=[ft(s[0],o,a,!0),ft(s[1],o,a,!0)];s[0]<o[0]&&(c[0]=-1/0),s[1]>o[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",r):c[1]===1/0?this._showIndicator(l,c[0],"> ",r):this._showIndicator(l,l,"\u2248 ",r));var u=this._hoverLinkDataIndices,h=[];(e||St(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(c));var p=V.D6(u,h);this._dispatchHighDown("downplay",st(p[0],i)),this._dispatchHighDown("highlight",st(p[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if((0,gt.R)(t.target,(function(t){var i=(0,pt.z)(t);if(null!=i.dataIndex)return e=i,!0}),!0),e){var i=this.ecModel.getSeriesByIndex(e.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(i)){var o=i.getData(e.dataType),a=o.getStore().get(n.getDataDimensionIndex(o),e.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var i=0;i<e.length;i++)this.api.leaveBlur(e[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",st(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,i,n){var o=et.getTransform(e,n?null:this.group);return a.cy(t)?et.applyTransform(t,o,i):et.transformDirection(t,o,i)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Q);var Mt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},It=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},wt=[{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent("visualMap",(function(e){var n=t.pipelineContext;!e.isTargetSeries(t)||n&&n.large||i.push(function(t,e,i,n){var o={};return a.__(t,(function(t){var i=O.prepareVisualTypes(e[t]);o[t]=i})),{progress:function(t,a){var r,s;function l(t){return(0,z.Ez)(a,s,t)}function c(t,e){(0,z.oZ)(a,s,t,e)}null!=n&&(r=a.getDimensionIndex(n));for(var u=a.getStore();null!=(s=t.next());){var h=a.getRawDataItem(s);if(!h||!1!==h.visualMap)for(var p=null!=n?u.get(r,s):s,d=i(p),g=e[d],f=o[d],v=0,m=f.length;v<m;v++){var y=f[v];g[y]&&g[y].applyVisual(p,l,c)}}}}}(e.stateList,e.targetVisuals,a.oI(e.getValueState,e),e.getDataDimensionIndex(t.getData())))})),i}},{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),n=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(a.oI(Ot,null,t,e))||{stops:[],outerColors:[]},r=e.getDataDimensionIndex(i);r>=0&&(o.dimension=r,n.push(o))}})),t.getData().setVisual("visualMeta",n)}}];function Ot(t,e,i,n){for(var o=e.targetVisuals[n],a=O.prepareVisualTypes(o),r={color:(0,z.rI)(t.getData(),"color")},s=0,l=a.length;s<l;s++){var c=a[s],u=o["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(i,h,p)}return r.color;function h(t){return r[t]}function p(t,e){r[t]=e}}var zt=a.__;function Dt(t){var e=t&&t.visualMap;a.cy(e)||(e=e?[e]:[]),zt(e,(function(t){if(t){Ct(t,"splitList")&&!Ct(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&a.cy(e)&&zt(e,(function(t){a.Gv(t)&&(Ct(t,"start")&&!Ct(t,"min")&&(t.min=t.start),Ct(t,"end")&&!Ct(t,"max")&&(t.max=t.end))}))}}))}function Ct(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var Tt=!1;function Vt(t){Tt||(Tt=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(Mt,It),(0,a.__)(wt,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(Dt))}function At(t){t.registerComponentModel(X),t.registerComponentView(xt),Vt(t)}var Lt=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._pieceList=[],i}return(0,o.C6)(e,t),e.prototype.optionUpdated=function(e,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],Rt[this._mode].call(this,this._pieceList),this._resetSelected(e,i);var o=this.option.categories;this.resetVisual((function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=a.o8(o)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=a.Tj(this._pieceList,(function(t){return t=a.o8(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,i={},n=O.listVisualTypes(),o=this.isCategory();function r(t,e,i){return t&&t[e]&&t[e].hasOwnProperty(i)}a.__(e.pieces,(function(t){a.__(n,(function(e){t.hasOwnProperty(e)&&(i[e]=1)}))})),a.__(i,(function(t,i){var n=!1;a.__(this.stateList,(function(t){n=n||r(e,t,i)||r(e.target,t,i)}),this),!n&&a.__(this.stateList,(function(t){(e[t]||(e[t]={}))[i]=l.get(i,"inRange"===t?"active":"inactive",o)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,a.__(n,(function(t,e){var i=this.getSelectedMapKey(t);o.hasOwnProperty(i)||(o[i]=!0)}),this),"single"===i.selectedMode){var r=!1;a.__(n,(function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(r?o[i]=!1:r=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=a.o8(t)},e.prototype.getValueState=function(t){var e=O.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],i=this._pieceList;return this.eachTargetSeries((function(n){var o=[],a=n.getData();a.each(this.getDataDimensionIndex(a),(function(e,n){O.findPieceIndex(e,i)===t&&o.push(n)}),this),e.push({seriesId:n.id,dataIndex:o})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],i=["",""],n=this,o=this._pieceList.slice();if(o.length){var r=o[0].interval[0];r!==-1/0&&o.unshift({interval:[-1/0,r]}),(r=o[o.length-1].interval[1])!==1/0&&o.push({interval:[r,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return a.__(o,(function(t){var e=t.interval;e&&(e[0]>s&&l([s,e[0]],"outOfRange"),l(e.slice()),s=e[1])}),this),{stops:e,outerColors:i}}function l(o,a){var r=n.getRepresentValue({interval:o});a||(a=n.getValueState(r));var s=t(r,a);o[0]===-1/0?i[0]=s:o[1]===1/0?i[1]=s:e.push({value:o[0],color:s},{value:o[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=(0,W.G_)(B.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(B),Rt={splitNumber:function(t){var e=this.option,i=Math.min(e.precision,20),n=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var r=(n[1]-n[0])/o;+r.toFixed(i)!==r&&i<5;)i++;e.precision=i,r=+r.toFixed(i),e.minOpen&&t.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,l=n[0];s<o;l+=r,s++){var c=s===o-1?n[1]:l+r;t.push({interval:[l,c],close:[1,1]})}e.maxOpen&&t.push({interval:[n[1],1/0],close:[0,0]}),(0,u.sL)(t),a.__(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;a.__(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),kt(e,t)},pieces:function(t){var e=this.option;a.__(e.pieces,(function(e,i){a.Gv(e)||(e={value:e});var n={text:"",index:i};if(null!=e.label&&(n.text=e.label),e.hasOwnProperty("value")){var o=n.value=e.value;n.interval=[o,o],n.close=[1,1]}else{for(var r=n.interval=[],s=n.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],h=0;h<2;h++){for(var p=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&null==r[h];d++)r[h]=e[p[d]],s[h]=l[d],u[h]=2===d;null==r[h]&&(r[h]=c[h])}u[0]&&r[1]===1/0&&(s[0]=0),u[1]&&r[0]===-1/0&&(s[1]=0),r[0]===r[1]&&s[0]&&s[1]&&(n.value=r[0])}n.visual=O.retrieveVisuals(e),t.push(n)}),this),kt(e,t),(0,u.sL)(t),a.__(t,(function(t){var e=t.close,i=[["<","\u2264"][e[1]],[">","\u2265"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)}),this)}};function kt(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}const Pt=Lt;const Ht=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return(0,o.C6)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get("textGap"),n=e.textStyleModel,o=n.getFont(),r=n.getTextColor(),s=this._getItemAlign(),l=e.itemSize,c=this._getViewData(),u=c.endsText,h=a.Je(e.get("showLabel",!0),!u),p=!e.get("selectedMode");u&&this._renderEndsText(t,u[0],l,h,s),a.__(c.viewPieceList,(function(n){var c=n.piece,u=new tt.A;u.onclick=a.oI(this._onItemClick,this,c),this._enableHoverLink(u,n.indexInModelPieceList);var d=e.getRepresentValue(c);if(this._createItemSymbol(u,d,[0,0,l[0],l[1]],p),h){var g=this.visualMapModel.getValueState(d);u.add(new J.Ay({style:{x:"right"===s?-i:l[0]+i,y:l[1]/2,text:c.text,verticalAlign:"middle",align:s,font:o,fill:r,opacity:"outOfRange"===g?.5:1},silent:p}))}t.add(u)}),this),u&&this._renderEndsText(t,u[1],l,h,s),$.aP(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var i=this;t.on("mouseover",(function(){return n("highlight")})).on("mouseout",(function(){return n("downplay")}));var n=function(t){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:t,batch:st(n.findTargetDataIndices(e),n)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return rt(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},e.prototype._renderEndsText=function(t,e,i,n,o){if(e){var a=new tt.A,r=this.visualMapModel.textStyleModel;a.add(new J.Ay({style:(0,dt.VB)(r,{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?o:"center",text:e})})),t.add(a)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=a.Tj(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),i=t.get("text"),n=t.get("orient"),o=t.get("inverse");return("horizontal"===n?o:!o)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},e.prototype._createItemSymbol=function(t,e,i,n){var o=(0,ut.v5)(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color"));o.silent=n,t.add(o)},e.prototype._onItemClick=function(t){var e=this.visualMapModel,i=e.option,n=i.selectedMode;if(n){var o=a.o8(i.selected),r=e.getSelectedMapKey(t);"single"===n||!0===n?(o[r]=!0,a.__(o,(function(t,e){o[e]=e===r}))):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e}(Q);function Et(t){t.registerComponentModel(Pt),t.registerComponentView(Ht),Vt(t)}function Nt(t){(0,n.Y)(At),(0,n.Y)(Et)}}}]);
//# sourceMappingURL=518.a2cb4cc6.chunk.js.map