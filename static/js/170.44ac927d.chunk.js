"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[170],{1170:(e,n,t)=>{t.d(n,{A:()=>x});var i=t(7653),o=t(9283),r=t(9154),s=t(9819),a=t(555),c=t(7486),l=function(e){this.coordSysDims=[],this.axisMap=(0,i.nt)(),this.categoryAxisMap=(0,i.nt)(),this.coordSysName=e};var d={cartesian2d:function(e,n,t,i){var o=e.getReferringComponents("xAxis",a.US).models[0],r=e.getReferringComponents("yAxis",a.US).models[0];n.coordSysDims=["x","y"],t.set("x",o),t.set("y",r),m(o)&&(i.set("x",o),n.firstCategoryDimIndex=0),m(r)&&(i.set("y",r),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},singleAxis:function(e,n,t,i){var o=e.getReferringComponents("singleAxis",a.US).models[0];n.coordSysDims=["single"],t.set("single",o),m(o)&&(i.set("single",o),n.firstCategoryDimIndex=0)},polar:function(e,n,t,i){var o=e.getReferringComponents("polar",a.US).models[0],r=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],t.set("radius",r),t.set("angle",s),m(r)&&(i.set("radius",r),n.firstCategoryDimIndex=0),m(s)&&(i.set("angle",s),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},geo:function(e,n,t,i){n.coordSysDims=["lng","lat"]},parallel:function(e,n,t,o){var r=e.ecModel,s=r.getComponent("parallel",e.get("parallelIndex")),a=n.coordSysDims=s.dimensions.slice();(0,i.__)(s.parallelAxisIndex,(function(e,i){var s=r.getComponent("parallelAxis",e),c=a[i];t.set(c,s),m(s)&&(o.set(c,s),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=i))}))}};function m(e){return"category"===e.get("type")}var u=t(6041),g=t(4791),f=t(5038),D=t(1907);const x=function(e,n,t){t=t||{};var m,x=n.getSourceManager(),y=!1;e?(y=!0,m=(0,u.AF)(e)):y=(m=x.getSource()).sourceFormat===D.mK;var p=function(e){var n=e.get("coordinateSystem"),t=new l(n),i=d[n];if(i)return i(e,t,t.axisMap,t.categoryAxisMap),t}(n),C=function(e,n){var t,o=e.get("coordinateSystem"),r=c.A.get(o);return n&&n.coordSysDims&&(t=i.Tj(n.coordSysDims,(function(e){var t={name:e},i=n.axisMap.get(e);if(i){var o=i.get("type");t.type=(0,s.B)(o)}return t}))),t||(t=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),t}(n,p),I=t.useEncodeDefaulter,v=i.Tn(I)?I:I?i.cF(f.OC,C,n):null,h={coordDimensions:C,generateCoord:t.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!y},S=(0,r.A)(m,h),A=function(e,n,t){var o,r;return t&&i.__(e,(function(e,i){var s=e.coordDim,a=t.categoryAxisMap.get(s);a&&(null==o&&(o=i),e.ordinalMeta=a.getOrdinalMeta(),n&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(r=!0)})),r||null==o||(e[o].otherDims.itemName=0),o}(S.dimensions,t.createInvertedIndices,p),k=y?null:x.getSharedDataStore(S),_=(0,g.iJ)(n,{schema:S,store:k}),M=new o.A(S,n);M.setCalculationInfo(_);var R=null!=A&&function(e){if(e.sourceFormat===D.mK){var n=function(e){var n=0;for(;n<e.length&&null==e[n];)n++;return e[n]}(e.data||[]);return!i.cy((0,a.vj)(n))}}(m)?function(e,n,t,i){return i===A?t:this.defaultDimValueGetter(e,n,t,i)}:null;return M.hasItemOption=!1,M.initData(y?m:k,null,R),M}},4791:(e,n,t)=>{t.d(n,{iJ:()=>r,me:()=>a,sJ:()=>s});var i=t(7653),o=t(7369);function r(e,n,t){var r,s,a,c=(t=t||{}).byIndex,l=t.stackedCoordDimension;!function(e){return!(0,o.fg)(e.schema)}(n)?(s=n.schema,r=s.dimensions,a=n.store):r=n;var d,m,u,g,f=!(!e||!e.get("stack"));if((0,i.__)(r,(function(e,n){(0,i.Kg)(e)&&(r[n]=e={name:e}),f&&!e.isExtraCoord&&(c||d||!e.ordinalMeta||(d=e),m||"ordinal"===e.type||"time"===e.type||l&&l!==e.coordDim||(m=e))})),!m||c||d||(c=!0),m){u="__\0ecstackresult_"+e.id,g="__\0ecstackedover_"+e.id,d&&(d.createInvertedIndices=!0);var D=m.coordDim,x=m.type,y=0;(0,i.__)(r,(function(e){e.coordDim===D&&y++}));var p={name:u,coordDim:D,coordDimIndex:y,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},C={name:g,coordDim:g,coordDimIndex:y+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};s?(a&&(p.storeDimIndex=a.ensureCalculationDimension(g,x),C.storeDimIndex=a.ensureCalculationDimension(u,x)),s.appendCalculationDimension(p),s.appendCalculationDimension(C)):(r.push(p),r.push(C))}return{stackedDimension:m&&m.name,stackedByDimension:d&&d.name,isStackedByIndex:c,stackedOverDimension:g,stackResultDimension:u}}function s(e,n){return!!n&&n===e.getCalculationInfo("stackedDimension")}function a(e,n){return s(e,n)?e.getCalculationInfo("stackResultDimension"):n}}}]);
//# sourceMappingURL=170.44ac927d.chunk.js.map