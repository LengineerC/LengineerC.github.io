"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[605],{68329:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(70579);function c(e){let{scale:s=!1,children:t,className:c="card",bgImage:o,opacity:n=1,background:r,darkMode:d}=e;return(0,a.jsx)("div",{className:"".concat(s?"card-main-scale":"card-main"," ").concat(c," ").concat(d?"card-main-dark":""),style:{backgroundImage:"url(".concat(o,")"),opacity:"".concat(n),background:"".concat(r)},children:t})}},85147:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(35475),c=t(83910),o=t(97929),n=t(70579);function r(e){let{category:s}=e;return(0,n.jsx)("div",{className:"category-main",children:(0,n.jsx)(a.k2,{to:"/categories/".concat(s),style:{textDecoration:"none"},children:(0,n.jsxs)("div",{className:"category-container",children:[(0,n.jsx)(c.g,{icon:o.G06}),(0,n.jsx)("span",{style:{marginLeft:"5px"},children:s})]})})})}},64101:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(65043),c=t(2207),o=t(48857),n=t(37709),r=t(34),d=(t(21582),t(70579));const l=new c.Dz((0,o.x)({langPrefix:"hljs language-",highlight(e,s,t){const a=n.A.getLanguage(s)?s:"plaintext";return n.A.highlight(e,{language:a}).value}}));function i(e){let{markdown:s,limit:t=100,showLimitContent:c,darkMode:o}=e;const[n,r]=(0,a.useState)("");return(0,a.useEffect)((()=>{let e=s.replace(/^-{3}[\s\S]*?-{3}/,"");if(c&&""!==s){let s=e.replace(/<[^>]*>/g,"");s.length>t&&(s=s.substring(0,t)+"..."),r(s)}else{let s=l.parse(e);r(s)}}),[s,t,c]),(0,d.jsx)("div",{className:c?"":"".concat(o?"markdown-body-dark":"markdown-body"),children:c?(0,d.jsx)("div",{children:n}):(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})})}l.use((0,r.A)())},82452:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(70579);function c(e){let{title:s}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"page-title",children:s})})}},94075:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(65043),c=t(35475),o=t(70579);function n(e){let{tag:s,reload:t=!1}=e;const[n,r]=(0,a.useState)(0);(0,a.useEffect)((()=>{let e=Math.floor(3*Math.random());r(e)}),[]);return(0,o.jsx)("div",{className:"tag-main",children:(0,o.jsx)(c.k2,{onClick:()=>{t&&window.location.reload()},to:"/tags/".concat(s),style:{textDecoration:"none"},children:(0,o.jsx)("div",{className:(d=n,"tag-bg-color-"+d),children:s})})});var d}},28559:(e,s,t)=>{t.r(s),t.d(s,{default:()=>W});var a=t(65043),c=t(73216),o=t(79722),n=t(68329),r=t(64101),d=t(19359),l=t(43585),i=t(7650),h=t(42546),f=t(82452),x=t(53722),g=t(30119),m=t(62533),p=t(41402),j=t(78736),u=t(63236),v=t(24459),y=t(94075),k=t(85147),b=t(4413),w=t(83910),A=t(97929),N=t(39423),C=t(19395),S=t(9971),M=t(70579);function E(e){let{markdown:s,showDrawer:t,callbackOnClose:c}=e;const[o,r]=(0,a.useState)(t),[d,i]=(0,a.useState)(window.innerWidth<=b.Pn),h=(0,S.G)((e=>e.darkMode));(0,a.useEffect)((()=>{r(t)}),[t]);(0,a.useEffect)((()=>{const e=()=>{i(window.innerWidth<=b.Pn)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,a.useEffect)((()=>{}),[h]);return(0,M.jsx)(M.Fragment,{children:d?(0,M.jsx)("div",{className:"toc-drawer-block",children:(0,M.jsx)(l.Ay,{theme:{token:{padding:0,paddingLG:0,paddingXS:0,colorBgElevated:h?"#1c1c2c99":"#ffffffcc"}},children:(0,M.jsxs)(C.A,{className:h?"toc-drawer-dark":"toc-drawer",placement:"right",open:o,onClose:()=>{r(!1),c()},width:250,closeIcon:null,children:[(0,M.jsxs)("div",{className:h?"toc-header-dark":"toc-header",children:[(0,M.jsx)(w.g,{icon:A.ITF}),"\xa0\u76ee\u5f55",(0,M.jsx)("hr",{})]}),(0,M.jsx)("div",{className:"toc-content",children:(0,M.jsx)(N.Ay,{source:s,headingTopOffset:60,ordered:!0})})]})})}):(0,M.jsxs)(n.A,{className:"aside-card",darkMode:h,children:[(0,M.jsxs)("div",{className:h?"toc-header-dark":"toc-header",children:[(0,M.jsx)(w.g,{icon:A.ITF}),"\xa0\u76ee\u5f55",(0,M.jsx)("hr",{})]}),(0,M.jsx)("div",{className:h?"toc-content-dark":"toc-content",children:(0,M.jsx)(N.Ay,{source:s,headingTopOffset:60,ordered:!0})})]})})}var B=t(4256),L=t(6051),T=t(85720),F=t(85318);function I(e){let{onClose:s,password:t}=e;const[c,o]=d.Ay.useMessage(),r=(0,S.G)((e=>e.darkMode)),i=(0,a.useRef)(null);return(0,M.jsx)(n.A,{darkMode:r,children:(0,M.jsxs)("div",{className:"lock-card-main",children:[(0,M.jsx)("div",{className:r?"lock-card-title-dark":"lock-card-title",children:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),(0,M.jsx)("div",{className:"wave-divider"}),(0,M.jsx)("div",{className:"lock-card-input-line",children:(0,M.jsxs)(l.Ay,{theme:{components:{Input:{activeBg:"#f6f6f6aa"},Message:{contentBg:"#ffffffda"}},token:r?{colorPrimary:"#393958"}:{colorPrimary:"#4086db"}},children:[o,(0,M.jsxs)(L.A.Compact,{style:{width:"100%"},children:[(0,M.jsx)(T.A,{ref:i,type:"password",placeholder:"password"}),(0,M.jsx)(F.Ay,{onClick:()=>{var e;(null===(e=i.current)||void 0===e?void 0:e.input.value)==t?s():c.open({type:"error",content:"\u5bc6\u7801\u9519\u8bef\uff01"})},type:"primary",children:"Submit"})]})]})})]})})}var P=t(79789);function W(){const{id:e}=(0,c.g)(),[s,t]=(0,a.useState)(""),[w,A]=(0,a.useState)(P.A.getState().selectedPostConfig),[N,C]=(0,a.useState)(0),[L,T]=(0,a.useState)(!1),[F,W]=(0,a.useState)(b.V9),[O,D]=(0,a.useState)(!1),[G,z]=d.Ay.useMessage(),[X,_]=(0,a.useState)(window.location.href),H=(0,S.G)((e=>e.darkMode)),Q=(0,S.j)(),R=(0,c.Zp)();(0,a.useEffect)((()=>{if(e||R("/"),o.A.get("/posts/".concat(e,".md")).then((s=>{t(s.data),C(s.data.length);const{postList:a}=P.A.getState();let c={};for(let t of a)if(t.id===e){c=t;break}T(c.lock),A(c)})).catch((s=>{console.log("Post: \u6587\u7ae0\u83b7\u53d6\u5931\u8d25",s),console.log(window.location.pathname),R("/articles/".concat(e))})),!b.t$){const e=window.location.href,s=e.indexOf("#");if(-1!==s){const t=e.substring(0,s);_(t)}}return()=>{Q((0,B.XA)()),Q((0,B.Qv)())}}),[]);return(0,M.jsx)("div",{className:"post-page-main",children:(0,M.jsxs)(l.Ay,{theme:{token:{colorBgElevated:"#ffffff80",colorFillContent:"#ffffffbb"},components:{Message:{contentBg:"#ffffffda"}}},children:[z,w?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"post-page-title",children:(0,M.jsx)(f.A,{title:w.title})}),(0,M.jsx)("div",{className:"post-page-body",children:L?(0,M.jsx)(I,{onClose:()=>{T(!1)},password:w.password}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:F?"post-page-body-content-container-showtoc":"post-page-body-content-container",children:(0,M.jsxs)(n.A,{darkMode:H,children:[(0,M.jsxs)("div",{className:"post-page-card-header",children:[(0,M.jsxs)("div",{className:"post-page-card-header-symbol",children:[(0,M.jsx)("div",{className:"post-page-card-header-symbol-tags",children:(()=>{if(w){const{tags:e=[]}=w;return e.map(((e,s)=>(0,M.jsx)("div",{className:"post-page-card-header-symbol-tag-block",children:(0,M.jsx)(y.A,{tag:e})},s)))}})()}),(0,M.jsx)("div",{className:"post-page-card-header-symbol-categories",children:(()=>{if(w){const{categories:e=[]}=w;return e.map(((e,s)=>(0,M.jsx)("div",{className:"post-page-card-header-symbol-category-block",children:(0,M.jsx)(k.A,{category:e})},s)))}})()})]}),(0,M.jsxs)("div",{className:"post-page-card-header-info",children:[(0,M.jsxs)("div",{style:H?{color:"#ffffffcc"}:{},children:[(0,M.jsxs)("span",{style:{fontWeight:"bolder"},children:[(0,M.jsx)(x.A,{}),"\xa0\u4f5c\u8005\uff1a"]}),w.author]}),(0,M.jsxs)("div",{style:H?{color:"#ffffffcc"}:{},children:[(0,M.jsxs)("span",{style:{fontWeight:"bold"},children:[(0,M.jsx)(g.A,{}),"\xa0\u53d1\u5e03\u65f6\u95f4\uff1a"]}),w.time]}),(0,M.jsxs)("div",{style:H?{color:"#ffffffcc"}:{},children:[(0,M.jsxs)("span",{style:{fontWeight:"bold"},children:[(0,M.jsx)(m.A,{}),"\xa0\u6587\u7ae0\u5b57\u6570\uff1a"]}),N]})]})]}),(0,M.jsx)("hr",{className:"hr-twill"}),(0,M.jsx)("div",{className:"post-page-card-container",children:(0,M.jsx)(r.A,{darkMode:H,markdown:s,showLimitContent:!1})}),(0,M.jsx)("hr",{className:"hr-twill"}),(0,M.jsxs)("div",{className:H?"post-page-card-footer-dark":"post-page-card-footer",children:[(0,M.jsxs)("div",{style:{marginBottom:"5px"},children:[(0,M.jsxs)("span",{style:{fontWeight:"bold"},children:[(0,M.jsx)(p.A,{}),"\u6587\u7ae0\u94fe\u63a5\uff1a",(0,M.jsx)(j.A,{className:H?"copy-button-dark":"copy-button",onClick:async()=>{const e=X;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e),G.open({type:"success",content:"\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"});else{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select();try{if(!document.execCommand("copy"))throw new Error("\u590d\u5236\u5931\u8d25");G.open({type:"success",content:"\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"})}catch(s){d.Ay.error("\u590d\u5236\u94fe\u63a5\u51fa\u9519"),console.log("\u590d\u5236\u94fe\u63a5\u51fa\u9519",s)}document.body.removeChild(t)}}catch(t){d.Ay.error("\u590d\u5236\u94fe\u63a5\u51fa\u9519"),console.log("\u590d\u5236\u94fe\u63a5\u51fa\u9519",t)}}})]}),(0,M.jsx)("a",{href:X,children:X})]}),(0,M.jsx)("div",{style:{marginBottom:"5px"},children:(0,M.jsxs)("span",{style:{fontWeight:"bold"},children:[(0,M.jsx)(u.A,{}),"\u7248\u6743\u58f0\u660e\uff1a\u672c\u535a\u5ba2\u6240\u6709\u6587\u7ae0\u9664\u7279\u5225\u58f0\u660e\u5916\uff0c\u5747\u91c7\u7528 ",(0,M.jsx)("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/",children:"CC BY-NC-SA 4.0"})," \u8bb8\u53ef\u534f\u8bae\u3002\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u6765\u6e90 ",(0,M.jsx)("a",{href:"/",children:b.Ii})," !"]})})]})]})}),(0,M.jsx)("div",{className:"toc-container ".concat(F?"fade-in":"fade-out"),children:(0,M.jsx)(E,{showDrawer:O,markdown:s,callbackOnClose:()=>{D(!1)}})})]})})]}):(0,M.jsx)("div",{className:"post-page-body",children:(0,M.jsx)(n.A,{darkMode:H,children:(0,M.jsx)(i.A,{active:!0})})}),!L&&(0,M.jsx)(l.Ay,{theme:{token:(()=>{let e={colorBgElevated:H?"#46466c7b":"#ffffff7b",colorFillContent:H?"#686894bb":"#ffffffbb"};return H&&(e.hasOwnProperty("colorText")||(e.colorText="#ffffff99")),e})()},children:(0,M.jsx)(h.A,{className:"toc-btn",icon:(0,M.jsx)(v.A,{}),onClick:()=>{W(!F),D(!O)}})})]})})}}}]);
//# sourceMappingURL=605.ae0b85f8.chunk.js.map