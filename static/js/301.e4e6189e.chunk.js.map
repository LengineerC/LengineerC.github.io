{"version":3,"file":"static/js/301.e4e6189e.chunk.js","mappings":"4HAce,SAASA,EAAIC,GAAwF,IAAvF,MAACC,GAAM,EAAK,SAACC,EAAQ,UAACC,EAAU,OAAM,QAACC,EAAO,QAACC,EAAQ,EAAC,WAACC,EAAU,SAACC,GAAgBP,EAc/G,OACEQ,EAAAA,EAAAA,KAAA,OACAL,UAAS,GAAAM,OAAKR,EAAM,kBAAkB,YAAW,KAAAQ,OAAIN,EAAS,KAAAM,OAAIF,EAAS,iBAAiB,IAC5FG,MAAO,CACLC,gBAAgB,OAADF,OAAQL,EAAO,KAC9BC,QAAQ,GAADI,OAAIJ,GACXC,WAAW,GAADG,OAAIH,IACdJ,SAICA,GAGP,C,kDCpCe,SAASU,EAASZ,GAAoB,IAAnB,MAAEa,GAAcb,EAChD,OACEQ,EAAAA,EAAAA,KAAAM,EAAAA,SAAA,CAAAZ,UACEM,EAAAA,EAAAA,KAAA,OAAKL,UAAU,aAAYD,SACxBW,KAIT,C,oHCJe,SAASE,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,QAAO,MAElBC,GAAUD,EAAAA,EAAAA,SAAgB,GAE1BV,GAASY,EAAAA,EAAAA,IAAeC,GAAOA,EAAMb,WAiC3C,OA7BAc,EAAAA,EAAAA,YAAU,KAKR,GAAGH,EAAUI,QAAS,OAEtB,IAAIC,EAAoB,KACxB,MAAMC,EAAuBA,KACvBR,EAAWM,SAAYN,EAAmBM,QAAQG,QACpDF,EAAmBP,EAAmBM,QAAQG,QAG9CC,WAAWF,EAAsB,IACnC,EAMF,OAHAA,IACAN,EAAUI,SAAQ,EAEX,KAEFC,GACAA,EAAwBI,UAE3BT,EAAUI,SAAQ,CAAK,CACxB,GACA,KAGDM,EAAAA,EAAAA,MAAA,OAAKzB,UAAU,YAAWD,SAAA,EACxBM,EAAAA,EAAAA,KAAA,OAAKL,UAAU,kBAAiBD,UAC9BM,EAAAA,EAAAA,KAACI,EAAAA,EAAS,CAACC,MAAM,aAEnBL,EAAAA,EAAAA,KAAA,OAAKL,UAAU,oBAAmBD,UAChCM,EAAAA,EAAAA,KAACT,EAAAA,EAAI,CAACQ,SAAUA,EAASL,UACvB0B,EAAAA,EAAAA,MAAA,OAAKzB,UAAU,kBAAiBD,SAAA,EAC9BM,EAAAA,EAAAA,KAAA,OAAKL,UAAWI,EAAS,mBAAmB,cAAcL,SAAC,4DAG3DM,EAAAA,EAAAA,KAAA,OAAKL,UAAWI,EAAS,8BAA8B,yBAAyBL,UAC9EM,EAAAA,EAAAA,KAAA,aACEqB,IAAKb,EACLc,KAAMC,EAAAA,GACNC,MAAM,UACNC,OAAQ,GACRC,QAASC,EAAAA,QAIb3B,EAAAA,EAAAA,KAAA,OAAKL,UAAWI,EAAS,mBAAmB,cAAcL,SAAC,0CAG3DM,EAAAA,EAAAA,KAAA,OAAKL,UAAU,wBAAuBD,UACpCM,EAAAA,EAAAA,KAAA,UACE4B,IAAKC,EAAAA,GACLC,UAAU,KACVC,YAAY,KACZC,iBAAiB,eASjC,C","sources":["components/Card/index.tsx","components/PageTitle/index.tsx","pages/Media/index.tsx"],"sourcesContent":["// import {useState, useEffect} from 'react'\r\n// import store from '../../redux/store'\r\nimport \"./index.scss\"\r\n\r\ntype Props = {\r\n  scale?:boolean,\r\n  className?:\"aside-card\"|\"card\"\r\n  children?:React.ReactNode,\r\n  bgImage?:string,\r\n  opacity?:number,\r\n  background?:string,\r\n  darkMode:boolean,\r\n}\r\n\r\nexport default function Card({scale=false,children,className=\"card\",bgImage,opacity=1,background,darkMode}: Props) {\r\n  // const [isDarkMode,setIsDarkMode]=useState<boolean>(store.getState().darkMode);\r\n\r\n  // useEffect(()=>{\r\n  //   const unsubscribe=store.subscribe(()=>{\r\n  //     const {darkMode}=store.getState();\r\n  //     setIsDarkMode(darkMode);\r\n  //   })\r\n\r\n  //   return ()=>{\r\n  //     unsubscribe();\r\n  //   }\r\n  // },[])\r\n\r\n  return (\r\n    <div \r\n    className={`${scale?'card-main-scale':'card-main'} ${className} ${darkMode?'card-main-dark':\"\"}`}\r\n    style={{\r\n      backgroundImage:`url(${bgImage})`,\r\n      opacity:`${opacity}`,\r\n      background:`${background}`\r\n    }}\r\n    >\r\n      {/* <div className='card-main-text-container'>\r\n      </div> */}\r\n      {children}\r\n    </div>\r\n  )\r\n}","import \"./index.scss\"\r\n\r\ntype Props = {\r\n  title: string\r\n}\r\n\r\nexport default function PageTitle({ title }: Props) {\r\n  return (\r\n    <>\r\n      <div className='page-title'>\r\n        {title}\r\n      </div>\r\n    </>\r\n  )\r\n}","import { useEffect, useRef, useState } from 'react';\r\nimport Card from '../../components/Card';\r\nimport PageTitle from '../../components/PageTitle';\r\nimport { BILIBILI_VIDEO_URL, IRC_TYPE, MUSIC_URL } from '../../utils/constants';\r\n// import { useLocation } from 'react-router-dom';\r\n// import store from '../../redux/store';\r\n\r\nimport './index.scss';\r\nimport { useAppSelector } from '../../redux/hooks';\r\n\r\nexport default function Media() {\r\n  const aplayerRef=useRef(null);\r\n  // const aplayerInstanceRef = useRef(null)\r\n  const effectRan=useRef<boolean>(false);\r\n  // const [isDarkMode,setIsDarkMode]=useState<boolean>(store.getState().darkMode);\r\n  const darkMode=useAppSelector(state=>state.darkMode);\r\n\r\n  // const location=useLocation();\r\n\r\n  useEffect(() => {\r\n    // const unsubscribe=store.subscribe(()=>{\r\n    //   const {darkMode}=store.getState();\r\n    //   setIsDarkMode(darkMode);\r\n    // })\r\n    if(effectRan.current) return;\r\n\r\n    let aplayerInstance:any=null;\r\n    const checkAPlayerInstance = () => {\r\n      if (aplayerRef.current && (aplayerRef as any).current.aplayer) {\r\n        aplayerInstance = (aplayerRef as any).current.aplayer;\r\n        \r\n      } else {\r\n        setTimeout(checkAPlayerInstance, 100);\r\n      }\r\n    };\r\n\r\n    checkAPlayerInstance();\r\n    effectRan.current=true;\r\n\r\n    return () => {\r\n      // unsubscribe();\r\n      if(aplayerInstance){\r\n        (aplayerInstance as any).destroy();\r\n      }\r\n      effectRan.current=false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"page-main\">\r\n      <div className=\"page-main-title\">\r\n        <PageTitle title=\"Media\" />\r\n      </div>\r\n      <div className=\"page-main-content\">\r\n        <Card darkMode={darkMode}>\r\n          <div className=\"media-card-main\">\r\n            <div className={darkMode?'media-title-dark':'media-title'}>\r\n              üé∂Á©¢„Çå„Å™„ÅçÈü≥Ê•ΩÂÆ§\r\n            </div>\r\n            <div className={darkMode?'media-card-main-player-dark':\"media-card-main-player\"}>\r\n              <meting-js \r\n                ref={aplayerRef}\r\n                auto={MUSIC_URL}\r\n                theme=\"#67abff\"\r\n                volume={0.5}\r\n                IrcType={IRC_TYPE}\r\n              />\r\n            </div>\r\n\r\n            <div className={darkMode?'media-title-dark':'media-title'}>\r\n              üì∫ËøúÂè§ËßÜÈ¢ë\r\n            </div>\r\n            <div className='media-card-main-video'>\r\n              <iframe \r\n                src={BILIBILI_VIDEO_URL}\r\n                scrolling=\"no\" \r\n                frameBorder=\"no\" \r\n                allowFullScreen={true}\r\n                >\r\n              </iframe>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Card","_ref","scale","children","className","bgImage","opacity","background","darkMode","_jsx","concat","style","backgroundImage","PageTitle","title","_Fragment","Media","aplayerRef","useRef","effectRan","useAppSelector","state","useEffect","current","aplayerInstance","checkAPlayerInstance","aplayer","setTimeout","destroy","_jsxs","ref","auto","MUSIC_URL","theme","volume","IrcType","IRC_TYPE","src","BILIBILI_VIDEO_URL","scrolling","frameBorder","allowFullScreen"],"sourceRoot":""}