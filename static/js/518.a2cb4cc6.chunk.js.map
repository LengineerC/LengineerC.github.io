{"version":3,"file":"static/js/518.a2cb4cc6.chunk.js","mappings":"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","sources":["../node_modules/antd/es/timeline/style/index.js","../node_modules/antd/es/timeline/TimelineItem.js","../node_modules/antd/es/timeline/TimelineItemList.js","../node_modules/antd/es/timeline/useItems.js","../node_modules/antd/es/timeline/Timeline.js","../node_modules/antd/es/timeline/index.js","../node_modules/echarts/lib/chart/heatmap/HeatmapLayer.js","../node_modules/echarts/lib/chart/heatmap/HeatmapView.js","../node_modules/echarts/lib/coord/CoordinateSystem.js","../node_modules/echarts/lib/chart/heatmap/HeatmapSeries.js","../node_modules/echarts/lib/chart/heatmap/install.js","../node_modules/echarts/lib/coord/calendar/CalendarModel.js","../node_modules/echarts/lib/component/calendar/CalendarView.js","../node_modules/echarts/lib/coord/calendar/Calendar.js","../node_modules/echarts/lib/component/calendar/install.js","../node_modules/echarts/lib/visual/visualDefault.js","../node_modules/echarts/lib/visual/VisualMapping.js","../node_modules/echarts/lib/visual/visualSolution.js","../node_modules/echarts/lib/component/visualMap/VisualMapModel.js","../node_modules/echarts/lib/component/visualMap/ContinuousModel.js","../node_modules/echarts/lib/component/visualMap/VisualMapView.js","../node_modules/echarts/lib/component/helper/sliderMove.js","../node_modules/echarts/lib/component/visualMap/helper.js","../node_modules/echarts/lib/component/visualMap/ContinuousView.js","../node_modules/echarts/lib/component/visualMap/visualMapAction.js","../node_modules/echarts/lib/component/visualMap/visualEncoding.js","../node_modules/echarts/lib/component/visualMap/preprocessor.js","../node_modules/echarts/lib/component/visualMap/installCommon.js","../node_modules/echarts/lib/component/visualMap/installVisualMapContinuous.js","../node_modules/echarts/lib/component/visualMap/PiecewiseModel.js","../node_modules/echarts/lib/component/visualMap/PiecewiseView.js","../node_modules/echarts/lib/component/visualMap/installVisualMapPiecewise.js","../node_modules/echarts/lib/component/visualMap/install.js"],"sourcesContent":["import { unit } from '@ant-design/cssinjs';\nimport { resetComponent } from '../../style';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\nconst genTimelineStyle = token => {\n  const {\n    componentCls,\n    calc\n  } = token;\n  return {\n    [componentCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      margin: 0,\n      padding: 0,\n      listStyle: 'none',\n      [`${componentCls}-item`]: {\n        position: 'relative',\n        margin: 0,\n        paddingBottom: token.itemPaddingBottom,\n        fontSize: token.fontSize,\n        listStyle: 'none',\n        '&-tail': {\n          position: 'absolute',\n          insetBlockStart: token.itemHeadSize,\n          insetInlineStart: calc(calc(token.itemHeadSize).sub(token.tailWidth)).div(2).equal(),\n          height: `calc(100% - ${unit(token.itemHeadSize)})`,\n          borderInlineStart: `${unit(token.tailWidth)} ${token.lineType} ${token.tailColor}`\n        },\n        '&-pending': {\n          [`${componentCls}-item-head`]: {\n            fontSize: token.fontSizeSM,\n            backgroundColor: 'transparent'\n          },\n          [`${componentCls}-item-tail`]: {\n            display: 'none'\n          }\n        },\n        '&-head': {\n          position: 'absolute',\n          width: token.itemHeadSize,\n          height: token.itemHeadSize,\n          backgroundColor: token.dotBg,\n          border: `${unit(token.dotBorderWidth)} ${token.lineType} transparent`,\n          borderRadius: '50%',\n          '&-blue': {\n            color: token.colorPrimary,\n            borderColor: token.colorPrimary\n          },\n          '&-red': {\n            color: token.colorError,\n            borderColor: token.colorError\n          },\n          '&-green': {\n            color: token.colorSuccess,\n            borderColor: token.colorSuccess\n          },\n          '&-gray': {\n            color: token.colorTextDisabled,\n            borderColor: token.colorTextDisabled\n          }\n        },\n        '&-head-custom': {\n          position: 'absolute',\n          insetBlockStart: calc(token.itemHeadSize).div(2).equal(),\n          insetInlineStart: calc(token.itemHeadSize).div(2).equal(),\n          width: 'auto',\n          height: 'auto',\n          marginBlockStart: 0,\n          paddingBlock: token.customHeadPaddingVertical,\n          lineHeight: 1,\n          textAlign: 'center',\n          border: 0,\n          borderRadius: 0,\n          transform: 'translate(-50%, -50%)'\n        },\n        '&-content': {\n          position: 'relative',\n          insetBlockStart: calc(calc(token.fontSize).mul(token.lineHeight).sub(token.fontSize)).mul(-1).add(token.lineWidth).equal(),\n          marginInlineStart: calc(token.margin).add(token.itemHeadSize).equal(),\n          marginInlineEnd: 0,\n          marginBlockStart: 0,\n          marginBlockEnd: 0,\n          wordBreak: 'break-word'\n        },\n        '&-last': {\n          [`> ${componentCls}-item-tail`]: {\n            display: 'none'\n          },\n          [`> ${componentCls}-item-content`]: {\n            minHeight: calc(token.controlHeightLG).mul(1.2).equal()\n          }\n        }\n      },\n      [`&${componentCls}-alternate,\n        &${componentCls}-right,\n        &${componentCls}-label`]: {\n        [`${componentCls}-item`]: {\n          '&-tail, &-head, &-head-custom': {\n            insetInlineStart: '50%'\n          },\n          '&-head': {\n            marginInlineStart: calc(token.marginXXS).mul(-1).equal(),\n            '&-custom': {\n              marginInlineStart: calc(token.tailWidth).div(2).equal()\n            }\n          },\n          '&-left': {\n            [`${componentCls}-item-content`]: {\n              insetInlineStart: `calc(50% - ${unit(token.marginXXS)})`,\n              width: `calc(50% - ${unit(token.marginSM)})`,\n              textAlign: 'start'\n            }\n          },\n          '&-right': {\n            [`${componentCls}-item-content`]: {\n              width: `calc(50% - ${unit(token.marginSM)})`,\n              margin: 0,\n              textAlign: 'end'\n            }\n          }\n        }\n      },\n      [`&${componentCls}-right`]: {\n        [`${componentCls}-item-right`]: {\n          [`${componentCls}-item-tail,\n            ${componentCls}-item-head,\n            ${componentCls}-item-head-custom`]: {\n            insetInlineStart: `calc(100% - ${unit(calc(calc(token.itemHeadSize).add(token.tailWidth)).div(2).equal())})`\n          },\n          [`${componentCls}-item-content`]: {\n            width: `calc(100% - ${unit(calc(token.itemHeadSize).add(token.marginXS).equal())})`\n          }\n        }\n      },\n      [`&${componentCls}-pending\n        ${componentCls}-item-last\n        ${componentCls}-item-tail`]: {\n        display: 'block',\n        height: `calc(100% - ${unit(token.margin)})`,\n        borderInlineStart: `${unit(token.tailWidth)} dotted ${token.tailColor}`\n      },\n      [`&${componentCls}-reverse\n        ${componentCls}-item-last\n        ${componentCls}-item-tail`]: {\n        display: 'none'\n      },\n      [`&${componentCls}-reverse ${componentCls}-item-pending`]: {\n        [`${componentCls}-item-tail`]: {\n          insetBlockStart: token.margin,\n          display: 'block',\n          height: `calc(100% - ${unit(token.margin)})`,\n          borderInlineStart: `${unit(token.tailWidth)} dotted ${token.tailColor}`\n        },\n        [`${componentCls}-item-content`]: {\n          minHeight: calc(token.controlHeightLG).mul(1.2).equal()\n        }\n      },\n      [`&${componentCls}-label`]: {\n        [`${componentCls}-item-label`]: {\n          position: 'absolute',\n          insetBlockStart: calc(calc(token.fontSize).mul(token.lineHeight).sub(token.fontSize)).mul(-1).add(token.tailWidth).equal(),\n          width: `calc(50% - ${unit(token.marginSM)})`,\n          textAlign: 'end'\n        },\n        [`${componentCls}-item-right`]: {\n          [`${componentCls}-item-label`]: {\n            insetInlineStart: `calc(50% + ${unit(token.marginSM)})`,\n            width: `calc(50% - ${unit(token.marginSM)})`,\n            textAlign: 'start'\n          }\n        }\n      },\n      // ====================== RTL =======================\n      '&-rtl': {\n        direction: 'rtl',\n        [`${componentCls}-item-head-custom`]: {\n          transform: `translate(50%, -50%)`\n        }\n      }\n    })\n  };\n};\n// ============================== Export ==============================\nexport const prepareComponentToken = token => ({\n  tailColor: token.colorSplit,\n  tailWidth: token.lineWidthBold,\n  dotBorderWidth: token.wireframe ? token.lineWidthBold : token.lineWidth * 3,\n  dotBg: token.colorBgContainer,\n  itemPaddingBottom: token.padding * 1.25\n});\nexport default genStyleHooks('Timeline', token => {\n  const timeLineToken = mergeToken(token, {\n    itemHeadSize: 10,\n    customHeadPaddingVertical: token.paddingXXS,\n    paddingInlineEnd: 2\n  });\n  return [genTimelineStyle(timeLineToken)];\n}, prepareComponentToken);","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nconst TimelineItem = _a => {\n  var {\n      prefixCls: customizePrefixCls,\n      className,\n      color = 'blue',\n      dot,\n      pending = false,\n      position /** Dead, but do not pass in <li {...omit()} */,\n      label,\n      children\n    } = _a,\n    restProps = __rest(_a, [\"prefixCls\", \"className\", \"color\", \"dot\", \"pending\", \"position\", \"label\", \"children\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('timeline', customizePrefixCls);\n  const itemClassName = classNames(`${prefixCls}-item`, {\n    [`${prefixCls}-item-pending`]: pending\n  }, className);\n  const customColor = /blue|red|green|gray/.test(color || '') ? undefined : color;\n  const dotClassName = classNames(`${prefixCls}-item-head`, {\n    [`${prefixCls}-item-head-custom`]: !!dot,\n    [`${prefixCls}-item-head-${color}`]: !customColor\n  });\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({}, restProps, {\n    className: itemClassName\n  }), label && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-item-label`\n  }, label), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-item-tail`\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: dotClassName,\n    style: {\n      borderColor: customColor,\n      color: customColor\n    }\n  }, dot), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-item-content`\n  }, children));\n};\nexport default TimelineItem;","\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport classNames from 'classnames';\nimport TimelineItem from './TimelineItem';\nconst TimelineItemList = _a => {\n  var {\n      prefixCls,\n      className,\n      pending = false,\n      children,\n      items,\n      rootClassName,\n      reverse = false,\n      direction,\n      hashId,\n      pendingDot,\n      mode = ''\n    } = _a,\n    restProps = __rest(_a, [\"prefixCls\", \"className\", \"pending\", \"children\", \"items\", \"rootClassName\", \"reverse\", \"direction\", \"hashId\", \"pendingDot\", \"mode\"]);\n  const getPositionCls = (position, idx) => {\n    if (mode === 'alternate') {\n      if (position === 'right') return `${prefixCls}-item-right`;\n      if (position === 'left') return `${prefixCls}-item-left`;\n      return idx % 2 === 0 ? `${prefixCls}-item-left` : `${prefixCls}-item-right`;\n    }\n    if (mode === 'left') return `${prefixCls}-item-left`;\n    if (mode === 'right') return `${prefixCls}-item-right`;\n    if (position === 'right') return `${prefixCls}-item-right`;\n    return '';\n  };\n  const mergedItems = _toConsumableArray(items || []);\n  const pendingNode = typeof pending === 'boolean' ? null : pending;\n  if (pending) {\n    mergedItems.push({\n      pending: !!pending,\n      dot: pendingDot || /*#__PURE__*/React.createElement(LoadingOutlined, null),\n      children: pendingNode\n    });\n  }\n  if (reverse) {\n    mergedItems.reverse();\n  }\n  const itemsCount = mergedItems.length;\n  const lastCls = `${prefixCls}-item-last`;\n  const itemsList = mergedItems.filter(item => !!item).map((item, idx) => {\n    var _a;\n    const pendingClass = idx === itemsCount - 2 ? lastCls : '';\n    const readyClass = idx === itemsCount - 1 ? lastCls : '';\n    const {\n        className: itemClassName\n      } = item,\n      itemProps = __rest(item, [\"className\"]);\n    return /*#__PURE__*/React.createElement(TimelineItem, Object.assign({}, itemProps, {\n      className: classNames([itemClassName, !reverse && !!pending ? pendingClass : readyClass, getPositionCls((_a = item === null || item === void 0 ? void 0 : item.position) !== null && _a !== void 0 ? _a : '', idx)]),\n      key: (item === null || item === void 0 ? void 0 : item.key) || idx\n    }));\n  });\n  const hasLabelItem = mergedItems.some(item => !!(item === null || item === void 0 ? void 0 : item.label));\n  const classString = classNames(prefixCls, {\n    [`${prefixCls}-pending`]: !!pending,\n    [`${prefixCls}-reverse`]: !!reverse,\n    [`${prefixCls}-${mode}`]: !!mode && !hasLabelItem,\n    [`${prefixCls}-label`]: hasLabelItem,\n    [`${prefixCls}-rtl`]: direction === 'rtl'\n  }, className, rootClassName, hashId);\n  return /*#__PURE__*/React.createElement(\"ul\", Object.assign({}, restProps, {\n    className: classString\n  }), itemsList);\n};\nexport default TimelineItemList;","import toArray from \"rc-util/es/Children/toArray\";\nfunction useItems(items, children) {\n  if (items && Array.isArray(items)) {\n    return items;\n  }\n  return toArray(children).map(ele => {\n    var _a, _b;\n    return Object.assign({\n      children: (_b = (_a = ele === null || ele === void 0 ? void 0 : ele.props) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : ''\n    }, ele.props);\n  });\n}\nexport default useItems;","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport useCSSVarCls from '../config-provider/hooks/useCSSVarCls';\n// CSSINJS\nimport useStyle from './style';\nimport TimelineItem from './TimelineItem';\nimport TimelineItemList from './TimelineItemList';\nimport useItems from './useItems';\nconst Timeline = props => {\n  const {\n    getPrefixCls,\n    direction,\n    timeline\n  } = React.useContext(ConfigContext);\n  const {\n      prefixCls: customizePrefixCls,\n      children,\n      items,\n      className,\n      style\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"children\", \"items\", \"className\", \"style\"]);\n  const prefixCls = getPrefixCls('timeline', customizePrefixCls);\n  // =================== Warning =====================\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Timeline');\n    warning.deprecated(!children, 'Timeline.Item', 'items');\n  }\n  // Style\n  const rootCls = useCSSVarCls(prefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, rootCls);\n  const mergedItems = useItems(items, children);\n  return wrapCSSVar(/*#__PURE__*/React.createElement(TimelineItemList, Object.assign({}, restProps, {\n    className: classNames(timeline === null || timeline === void 0 ? void 0 : timeline.className, className, cssVarCls, rootCls),\n    style: Object.assign(Object.assign({}, timeline === null || timeline === void 0 ? void 0 : timeline.style), style),\n    prefixCls: prefixCls,\n    direction: direction,\n    items: mergedItems,\n    hashId: hashId\n  })));\n};\nTimeline.Item = TimelineItem;\nif (process.env.NODE_ENV !== 'production') {\n  Timeline.displayName = 'Timeline';\n}\nexport default Timeline;","\"use client\";\n\nimport Timeline from './Timeline';\nexport default Timeline;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/* global Uint8ClampedArray */\nimport { platformApi } from 'zrender/lib/core/platform.js';\nvar GRADIENT_LEVELS = 256;\nvar HeatmapLayer = /** @class */function () {\n  function HeatmapLayer() {\n    this.blurSize = 30;\n    this.pointSize = 20;\n    this.maxOpacity = 1;\n    this.minOpacity = 0;\n    this._gradientPixels = {\n      inRange: null,\n      outOfRange: null\n    };\n    var canvas = platformApi.createCanvas();\n    this.canvas = canvas;\n  }\n  /**\r\n   * Renders Heatmap and returns the rendered canvas\r\n   * @param data array of data, each has x, y, value\r\n   * @param width canvas width\r\n   * @param height canvas height\r\n   */\n  HeatmapLayer.prototype.update = function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n    var gradientInRange = this._getGradient(colorFunc, 'inRange');\n    var gradientOutOfRange = this._getGradient(colorFunc, 'outOfRange');\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2];\n      // calculate alpha using value\n      var alpha = normalize(value);\n      // draw with the circle brush with alpha\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    }\n    // colorize the canvas using alpha value and set with gradient\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4;\n      // Simple optimize to ignore the empty data\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange;\n        // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  };\n  /**\r\n   * get canvas of a black circle brush used for canvas to draw later\r\n   */\n  HeatmapLayer.prototype._getBrush = function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = platformApi.createCanvas());\n    // set brush size\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d);\n    // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize;\n    // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n    ctx.shadowColor = '#000';\n    // draw circle in the left to the canvas\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  };\n  /**\r\n   * get gradient color map\r\n   * @private\r\n   */\n  HeatmapLayer.prototype._getGradient = function (colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n    return pixelsSingleState;\n  };\n  return HeatmapLayer;\n}();\nexport default HeatmapLayer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis } from '../../util/states.js';\nimport HeatmapLayer from './HeatmapLayer.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    var i;\n    // Try to find in the location of the last found\n    for (i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n    if (i === len) {\n      // Not found, back interation\n      for (i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n    return i >= 0 && i < len && selected[i];\n  };\n}\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions;\n  // Not use coordSys.type === 'geo' because coordSys maybe extended\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\nvar HeatmapView = /** @class */function (_super) {\n  __extends(HeatmapView, _super);\n  function HeatmapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = HeatmapView.type;\n    return _this;\n  }\n  HeatmapView.prototype.render = function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n    if (process.env.NODE_ENV !== 'production') {\n      if (!visualMapOfThisSeries) {\n        throw new Error('Heatmap must use with visualMap');\n      }\n    }\n    // Clear previously rendered progressive elements.\n    this._progressiveEls = null;\n    this.group.removeAll();\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n      this._renderOnCartesianAndCalendar(seriesModel, api, 0, seriesModel.getData().count());\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  };\n  HeatmapView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n  };\n  HeatmapView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys) {\n      // geo does not support incremental rendering?\n      if (isGeoCoordSys(coordSys)) {\n        this.render(seriesModel, ecModel, api);\n      } else {\n        this._progressiveEls = [];\n        this._renderOnCartesianAndCalendar(seriesModel, api, params.start, params.end, true);\n      }\n    }\n  };\n  HeatmapView.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  HeatmapView.prototype._renderOnCartesianAndCalendar = function (seriesModel, api, start, end, incremental) {\n    var coordSys = seriesModel.coordinateSystem;\n    var isCartesian2d = isCoordinateSystemType(coordSys, 'cartesian2d');\n    var width;\n    var height;\n    var xAxisExtent;\n    var yAxisExtent;\n    if (isCartesian2d) {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      if (process.env.NODE_ENV !== 'production') {\n        if (!(xAxis.type === 'category' && yAxis.type === 'category')) {\n          throw new Error('Heatmap on cartesian must have two category axes');\n        }\n        if (!(xAxis.onBand && yAxis.onBand)) {\n          throw new Error('Heatmap on cartesian must have two axes with boundaryGap true');\n        }\n      }\n      // add 0.5px to avoid the gaps\n      width = xAxis.getBandWidth() + .5;\n      height = yAxis.getBandWidth() + .5;\n      xAxisExtent = xAxis.scale.getExtent();\n      yAxisExtent = yAxis.scale.getExtent();\n    }\n    var group = this.group;\n    var data = seriesModel.getData();\n    var emphasisStyle = seriesModel.getModel(['emphasis', 'itemStyle']).getItemStyle();\n    var blurStyle = seriesModel.getModel(['blur', 'itemStyle']).getItemStyle();\n    var selectStyle = seriesModel.getModel(['select', 'itemStyle']).getItemStyle();\n    var borderRadius = seriesModel.get(['itemStyle', 'borderRadius']);\n    var labelStatesModels = getLabelStatesModels(seriesModel);\n    var emphasisModel = seriesModel.getModel('emphasis');\n    var focus = emphasisModel.get('focus');\n    var blurScope = emphasisModel.get('blurScope');\n    var emphasisDisabled = emphasisModel.get('disabled');\n    var dataDims = isCartesian2d ? [data.mapDimension('x'), data.mapDimension('y'), data.mapDimension('value')] : [data.mapDimension('time'), data.mapDimension('value')];\n    for (var idx = start; idx < end; idx++) {\n      var rect = void 0;\n      var style = data.getItemVisual(idx, 'style');\n      if (isCartesian2d) {\n        var dataDimX = data.get(dataDims[0], idx);\n        var dataDimY = data.get(dataDims[1], idx);\n        // Ignore empty data and out of extent data\n        if (isNaN(data.get(dataDims[2], idx)) || isNaN(dataDimX) || isNaN(dataDimY) || dataDimX < xAxisExtent[0] || dataDimX > xAxisExtent[1] || dataDimY < yAxisExtent[0] || dataDimY > yAxisExtent[1]) {\n          continue;\n        }\n        var point = coordSys.dataToPoint([dataDimX, dataDimY]);\n        rect = new graphic.Rect({\n          shape: {\n            x: point[0] - width / 2,\n            y: point[1] - height / 2,\n            width: width,\n            height: height\n          },\n          style: style\n        });\n      } else {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          continue;\n        }\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n          style: style\n        });\n      }\n      // Optimization for large dataset\n      if (data.hasItemOption) {\n        var itemModel = data.getItemModel(idx);\n        var emphasisModel_1 = itemModel.getModel('emphasis');\n        emphasisStyle = emphasisModel_1.getModel('itemStyle').getItemStyle();\n        blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n        selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n        // Each item value struct in the data would be firstly\n        // {\n        //     itemStyle: { borderRadius: [30, 30] },\n        //     value: [2022, 02, 22]\n        // }\n        borderRadius = itemModel.get(['itemStyle', 'borderRadius']);\n        focus = emphasisModel_1.get('focus');\n        blurScope = emphasisModel_1.get('blurScope');\n        emphasisDisabled = emphasisModel_1.get('disabled');\n        labelStatesModels = getLabelStatesModels(itemModel);\n      }\n      rect.shape.r = borderRadius;\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2] + '';\n      }\n      setLabelStyle(rect, labelStatesModels, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultOpacity: style.opacity,\n        defaultText: defaultText\n      });\n      rect.ensureState('emphasis').style = emphasisStyle;\n      rect.ensureState('blur').style = blurStyle;\n      rect.ensureState('select').style = selectStyle;\n      toggleHoverEmphasis(rect, focus, blurScope, emphasisDisabled);\n      rect.incremental = incremental;\n      // PENDING\n      if (incremental) {\n        // Rect must use hover layer if it's incremental.\n        rect.states.emphasis.hoverLayer = true;\n      }\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n      if (this._progressiveEls) {\n        this._progressiveEls.push(rect);\n      }\n    }\n  };\n  HeatmapView.prototype._renderOnGeo = function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange;\n    // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform();\n    rect.applyTransform(roamTransform);\n    // Clamp on viewport\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var dims = [data.mapDimension('lng'), data.mapDimension('lat'), data.mapDimension('value')];\n    var points = data.mapArray(dims, function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  };\n  HeatmapView.type = 'heatmap';\n  return HeatmapView;\n}(ChartView);\nexport default HeatmapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nexport function isCoordinateSystemType(coordSys, type) {\n  return coordSys.type === type;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nvar HeatmapSeriesModel = /** @class */function (_super) {\n  __extends(HeatmapSeriesModel, _super);\n  function HeatmapSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = HeatmapSeriesModel.type;\n    return _this;\n  }\n  HeatmapSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      generateCoord: 'value'\n    });\n  };\n  HeatmapSeriesModel.prototype.preventIncremental = function () {\n    var coordSysCreator = CoordinateSystem.get(this.get('coordinateSystem'));\n    if (coordSysCreator && coordSysCreator.dimensions) {\n      return coordSysCreator.dimensions[0] === 'lng' && coordSysCreator.dimensions[1] === 'lat';\n    }\n  };\n  HeatmapSeriesModel.type = 'series.heatmap';\n  HeatmapSeriesModel.dependencies = ['grid', 'geo', 'calendar'];\n  HeatmapSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return HeatmapSeriesModel;\n}(SeriesModel);\nexport default HeatmapSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport HeatmapView from './HeatmapView.js';\nimport HeatmapSeriesModel from './HeatmapSeries.js';\nexport function install(registers) {\n  registers.registerChartView(HeatmapView);\n  registers.registerSeriesModel(HeatmapSeriesModel);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\nvar CalendarModel = /** @class */function (_super) {\n  __extends(CalendarModel, _super);\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\r\n   * @override\r\n   */\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\r\n   * @override\r\n   */\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n  CalendarModel.type = 'calendar';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport { isString, extend, map, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { formatTplSimple } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getLocaleModel } from '../../core/locale.js';\nvar CalendarView = /** @class */function (_super) {\n  __extends(CalendarView, _super);\n  function CalendarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarView.type;\n    return _this;\n  }\n  CalendarView.prototype.render = function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem;\n    // range info\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n    // locale\n    var localeModel = ecModel.getLocaleModel();\n    this._renderDayRect(calendarModel, rangeData, group);\n    // _renderLines must be called prior to following function\n    this._renderLines(calendarModel, rangeData, orient, group);\n    this._renderYearText(calendarModel, rangeData, orient, group);\n    this._renderMonthText(calendarModel, localeModel, orient, group);\n    this._renderWeekText(calendarModel, localeModel, rangeData, orient, group);\n  };\n  // render day rect\n  CalendarView.prototype._renderDayRect = function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl;\n      // every rect\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  };\n  // render separate line\n  CalendarView.prototype._renderLines = function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel(['splitLine', 'lineStyle']).getLineStyle();\n    var show = calendarModel.get(['splitLine', 'show']);\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n      self._tlpoints.push(points[0]);\n      self._blpoints.push(points[points.length - 1]);\n      show && self._drawSplitline(points, lineStyleModel, group);\n    }\n    // render top/left line\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group);\n    // render bottom/right line\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  };\n  // get points at both ends\n  CalendarView.prototype._getEdgesPoints = function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1;\n    // both ends of the line are extend half lineWidth\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  };\n  // render split line\n  CalendarView.prototype._drawSplitline = function (points, lineStyle, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyle\n    });\n    group.add(poyline);\n  };\n  // render month line of one week points\n  CalendarView.prototype._getLinePointsOfOneWeek = function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    var parsedDate = coordSys.getDateInfo(date);\n    var points = [];\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(parsedDate.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n    return points;\n  };\n  CalendarView.prototype._formatterLabel = function (formatter, params) {\n    if (isString(formatter) && formatter) {\n      return formatTplSimple(formatter, params);\n    }\n    if (isFunction(formatter)) {\n      return formatter(params);\n    }\n    return params.nameMap;\n  };\n  CalendarView.prototype._yearTextPositionControl = function (textEl, point, orient, position, margin) {\n    var x = point[0];\n    var y = point[1];\n    var aligns = ['center', 'bottom'];\n    if (position === 'bottom') {\n      y += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      x -= margin;\n    } else if (position === 'right') {\n      x += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      y -= margin;\n    }\n    var rotate = 0;\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n    return {\n      rotation: rotate,\n      x: x,\n      y: y,\n      style: {\n        align: aligns[0],\n        verticalAlign: aligns[1]\n      }\n    };\n  };\n  // render year\n  CalendarView.prototype._renderYearText = function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n    if (!yearLabel.get('show')) {\n      return;\n    }\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n    var content = this._formatterLabel(formatter, params);\n    var yearText = new graphic.Text({\n      z2: 30,\n      style: createTextStyle(yearLabel, {\n        text: content\n      }),\n      silent: yearLabel.get('silent')\n    });\n    yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  };\n  CalendarView.prototype._monthTextPositionControl = function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n    if (orient === 'horizontal') {\n      y = y + margin;\n      if (isCenter) {\n        align = 'center';\n      }\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render month and year text\n  CalendarView.prototype._renderMonthText = function (calendarModel, localeModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n    if (!monthLabel.get('show')) {\n      return;\n    }\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // PENDING\n      // for ZH locale, original form is `一月` but current form is `1月`\n      nameMap = localeModel.get(['time', 'monthAbbr']) || [];\n    }\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n    var labelSilent = monthLabel.get('silent');\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n      var formatter = monthLabel.get('formatter');\n      var name_1 = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name_1\n      };\n      var content = this._formatterLabel(formatter, params);\n      var monthText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(monthLabel, {\n          text: content\n        }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin)),\n        silent: labelSilent\n      });\n      group.add(monthText);\n    }\n  };\n  CalendarView.prototype._weekTextPositionControl = function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render weeks\n  CalendarView.prototype._renderWeekText = function (calendarModel, localeModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n    if (!dayLabel.get('show')) {\n      return;\n    }\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file\n      var dayOfWeekShort = localeModel.get(['time', 'dayOfWeekShort']);\n      nameMap = dayOfWeekShort || map(localeModel.get(['time', 'dayOfWeekAbbr']), function (val) {\n        return val[0];\n      });\n    }\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = parsePercent(margin, Math.min(cellSize[1], cellSize[0]));\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n    var labelSilent = dayLabel.get('silent');\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(dayLabel, {\n          text: nameMap[day]\n        }), this._weekTextPositionControl(point, orient, pos, margin, cellSize)),\n        silent: labelSilent\n      });\n      group.add(weekText);\n    }\n  };\n  CalendarView.type = 'calendar';\n  return CalendarView;\n}(ComponentView);\nexport default CalendarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\nvar Calendar = /** @class */function () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions;\n    // Required in createListFromData\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n  }\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\r\n   * getFirstDayOfWeek\r\n   *\r\n   * @example\r\n   *     0 : start at Sunday\r\n   *     1 : start at Monday\r\n   *\r\n   * @return {number}\r\n   */\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\r\n   * get date info\r\n   * }\r\n   */\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n  Calendar.prototype.update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n    var cellSize = this._model.getCellSize().slice();\n    var layoutParams = this._model.getBoxLayoutParams();\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n    // Has been calculated out number.\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\r\n   * Convert a time data(time, value) item to (x, y) point.\r\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n  Calendar.prototype.dataToPoint = function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate;\n    // if not in range return [NaN, NaN]\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n    var week = dayInfo.day;\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  };\n  /**\r\n   * Convert a (x, y) point to time data\r\n   */\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  /**\r\n   * Convert a time date item to (x, y) four point.\r\n   */\n  Calendar.prototype.dataToRect = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\r\n   * Convert a (x, y) point to time date\r\n   *\r\n   * @param  {Array} point point\r\n   * @return {Object}       date\r\n   */\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\r\n   * initRange\r\n   * Normalize to an [start, end] array\r\n   */\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n    var normalizedRange;\n    // Convert [1990] to 1990\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString();\n      // One year.\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      }\n      // One month\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      }\n      // One day\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      }\n      // Not handling it.\n      return range;\n    }\n    var tmp = this._getRangeInfo(normalizedRange);\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n    return normalizedRange;\n  };\n  /**\r\n   * range info\r\n   *\r\n   * @private\r\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\r\n   *  If range[0] > range[1], they will not be reversed.\r\n   * @return {Object}       obj\r\n   */\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1;\n    // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1);\n    // The bias can not over a month, so just compare date.\n    var dateNum = date.getDate();\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\r\n   * get date by nthWeeks and week day in range\r\n   *\r\n   * @private\r\n   * @param  {number} nthWeek the week\r\n   * @param  {number} day   the week day\r\n   * @param  {Array} range [d1, d2]\r\n   * @return {Object}\r\n   */\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    ecModel.eachSeries(function (calendarSeries) {\n      if (calendarSeries.get('coordinateSystem') === 'calendar') {\n        // Inject coordinate system\n        calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n      }\n    });\n    return calendarList;\n  };\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport CalendarModel from '../../coord/calendar/CalendarModel.js';\nimport CalendarView from './CalendarView.js';\nimport Calendar from '../../coord/calendar/Calendar.js';\nexport function install(registers) {\n  registers.registerComponentModel(CalendarModel);\n  registers.registerComponentView(CalendarView);\n  registers.registerCoordinateSystem('calendar', Calendar);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/**\r\n * @file Visual mapping.\r\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar visualDefault = {\n  /**\r\n   * @public\r\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nexport default visualDefault;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as zrColor from 'zrender/lib/tool/color.js';\nimport { linearMap } from '../util/number.js';\nimport { warn } from '../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\nvar VisualMapping = /** @class */function () {\n  function VisualMapping(option) {\n    var mappingMethod = option.mappingMethod;\n    var visualType = option.type;\n    var thisOption = this.option = zrUtil.clone(option);\n    this.type = visualType;\n    this.mappingMethod = mappingMethod;\n    this._normalizeData = normalizers[mappingMethod];\n    var visualHandler = VisualMapping.visualHandlers[visualType];\n    this.applyVisual = visualHandler.applyVisual;\n    this.getColorMapper = visualHandler.getColorMapper;\n    this._normalizedToVisual = visualHandler._normalizedToVisual[mappingMethod];\n    if (mappingMethod === 'piecewise') {\n      normalizeVisualRange(thisOption);\n      preprocessForPiecewise(thisOption);\n    } else if (mappingMethod === 'category') {\n      thisOption.categories ? preprocessForSpecifiedCategory(thisOption)\n      // categories is ordinal when thisOption.categories not specified,\n      // which need no more preprocess except normalize visual.\n      : normalizeVisualRange(thisOption, true);\n    } else {\n      // mappingMethod === 'linear' or 'fixed'\n      zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n      normalizeVisualRange(thisOption);\n    }\n  }\n  VisualMapping.prototype.mapValueToVisual = function (value) {\n    var normalized = this._normalizeData(value);\n    return this._normalizedToVisual(normalized, value);\n  };\n  VisualMapping.prototype.getNormalizer = function () {\n    return zrUtil.bind(this._normalizeData, this);\n  };\n  /**\r\n   * List available visual types.\r\n   *\r\n   * @public\r\n   * @return {Array.<string>}\r\n   */\n  VisualMapping.listVisualTypes = function () {\n    return zrUtil.keys(VisualMapping.visualHandlers);\n  };\n  // /**\n  //  * @public\n  //  */\n  // static addVisualHandler(name, handler) {\n  //     visualHandlers[name] = handler;\n  // }\n  /**\r\n   * @public\r\n   */\n  VisualMapping.isValidType = function (visualType) {\n    return VisualMapping.visualHandlers.hasOwnProperty(visualType);\n  };\n  /**\r\n   * Convenient method.\r\n   * Visual can be Object or Array or primary type.\r\n   */\n  VisualMapping.eachVisual = function (visual, callback, context) {\n    if (zrUtil.isObject(visual)) {\n      zrUtil.each(visual, callback, context);\n    } else {\n      callback.call(context, visual);\n    }\n  };\n  VisualMapping.mapVisual = function (visual, callback, context) {\n    var isPrimary;\n    var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n    VisualMapping.eachVisual(visual, function (v, key) {\n      var newVal = callback.call(context, v, key);\n      isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n    });\n    return newVisual;\n  };\n  /**\r\n   * Retrieve visual properties from given object.\r\n   */\n  VisualMapping.retrieveVisuals = function (obj) {\n    var ret = {};\n    var hasVisual;\n    obj && each(VisualMapping.visualHandlers, function (h, visualType) {\n      if (obj.hasOwnProperty(visualType)) {\n        ret[visualType] = obj[visualType];\n        hasVisual = true;\n      }\n    });\n    return hasVisual ? ret : null;\n  };\n  /**\r\n   * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\r\n   *\r\n   * @public\r\n   * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\r\n   *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\r\n   * @return {Array.<string>} Sorted visual types.\r\n   */\n  VisualMapping.prepareVisualTypes = function (visualTypes) {\n    if (zrUtil.isArray(visualTypes)) {\n      visualTypes = visualTypes.slice();\n    } else if (isObject(visualTypes)) {\n      var types_1 = [];\n      each(visualTypes, function (item, type) {\n        types_1.push(type);\n      });\n      visualTypes = types_1;\n    } else {\n      return [];\n    }\n    visualTypes.sort(function (type1, type2) {\n      // color should be front of colorSaturation, colorAlpha, ...\n      // symbol and symbolSize do not matter.\n      return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n    });\n    return visualTypes;\n  };\n  /**\r\n   * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\r\n   * Other visuals are only depends on themself.\r\n   */\n  VisualMapping.dependsOn = function (visualType1, visualType2) {\n    return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n  };\n  /**\r\n   * @param value\r\n   * @param pieceList [{value: ..., interval: [min, max]}, ...]\r\n   *                         Always from small to big.\r\n   * @param findClosestWhenOutside Default to be false\r\n   * @return index\r\n   */\n  VisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n    var possibleI;\n    var abs = Infinity;\n    // value has the higher priority.\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var pieceValue = pieceList[i].value;\n      if (pieceValue != null) {\n        if (pieceValue === value\n        // FIXME\n        // It is supposed to compare value according to value type of dimension,\n        // but currently value type can exactly be string or number.\n        // Compromise for numeric-like string (like '12'), especially\n        // in the case that visualMap.categories is ['22', '33'].\n        || zrUtil.isString(pieceValue) && pieceValue === value + '') {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(pieceValue, i);\n      }\n    }\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var piece = pieceList[i];\n      var interval = piece.interval;\n      var close_1 = piece.close;\n      if (interval) {\n        if (interval[0] === -Infinity) {\n          if (littleThan(close_1[1], value, interval[1])) {\n            return i;\n          }\n        } else if (interval[1] === Infinity) {\n          if (littleThan(close_1[0], interval[0], value)) {\n            return i;\n          }\n        } else if (littleThan(close_1[0], interval[0], value) && littleThan(close_1[1], value, interval[1])) {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(interval[0], i);\n        findClosestWhenOutside && updatePossible(interval[1], i);\n      }\n    }\n    if (findClosestWhenOutside) {\n      return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n    }\n    function updatePossible(val, index) {\n      var newAbs = Math.abs(val - value);\n      if (newAbs < abs) {\n        abs = newAbs;\n        possibleI = index;\n      }\n    }\n  };\n  VisualMapping.visualHandlers = {\n    color: {\n      applyVisual: makeApplyVisual('color'),\n      getColorMapper: function () {\n        var thisOption = this.option;\n        return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n          !isNormalized && (value = this._normalizeData(value));\n          return doMapCategory.call(this, value);\n        } : function (value, isNormalized, out) {\n          // If output rgb array\n          // which will be much faster and useful in pixel manipulation\n          var returnRGBArray = !!out;\n          !isNormalized && (value = this._normalizeData(value));\n          out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n          return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n        }, this);\n      },\n      _normalizedToVisual: {\n        linear: function (normalized) {\n          return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        },\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    colorHue: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, value);\n    }),\n    colorSaturation: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, value);\n    }),\n    colorLightness: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, null, value);\n    }),\n    colorAlpha: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyAlpha(color, value);\n    }),\n    decal: {\n      applyVisual: makeApplyVisual('decal'),\n      _normalizedToVisual: {\n        linear: null,\n        category: doMapCategory,\n        piecewise: null,\n        fixed: null\n      }\n    },\n    opacity: {\n      applyVisual: makeApplyVisual('opacity'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    },\n    liftZ: {\n      applyVisual: makeApplyVisual('liftZ'),\n      _normalizedToVisual: {\n        linear: doMapFixed,\n        category: doMapFixed,\n        piecewise: doMapFixed,\n        fixed: doMapFixed\n      }\n    },\n    symbol: {\n      applyVisual: function (value, getter, setter) {\n        var symbolCfg = this.mapValueToVisual(value);\n        setter('symbol', symbolCfg);\n      },\n      _normalizedToVisual: {\n        linear: doMapToArray,\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = doMapToArray.call(this, normalized);\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    symbolSize: {\n      applyVisual: makeApplyVisual('symbolSize'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    }\n  };\n  return VisualMapping;\n}();\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index;\n    // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var categoryMap = thisOption.categoryMap = {};\n  var visual = thisOption.visual;\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  });\n  // Process visual map input.\n  if (!zrUtil.isArray(visual)) {\n    var visualArr_1 = [];\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr_1[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr_1[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n    visual = setVisualToOption(thisOption, visualArr_1);\n  }\n  // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n  setVisualToOption(thisOption, visualArr);\n}\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      // Only used in HSL\n      var colorChannel = this.mapValueToVisual(value);\n      // Must not be array value\n      setter('color', applyValue(getter('color'), colorChannel));\n    },\n    _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n  };\n}\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {}; // TODO {}?\n}\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\nfunction doMapFixed() {\n  // visual will be convert to array.\n  return this.option.visual[0];\n}\n/**\r\n * Create mapped to numeric visual\r\n */\nfunction createNormalizedToNumericVisual(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      var color = zrColor.parse(item);\n      if (!color && process.env.NODE_ENV !== 'production') {\n        warn(\"'\" + item + \"' is an illegal color, fallback to '#000000'\", true);\n      }\n      return color || [0, 0, 0, 1];\n    });\n  }\n  return visualArr;\n}\n/**\r\n * Normalizers by mapping methods.\r\n */\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal value\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\nexport default VisualMapping;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/**\r\n * @file Visual solution, for consistent option specification.\r\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapping from './VisualMapping.js';\nimport { getItemVisualFromData, setItemVisualFromData } from './helper.js';\nvar each = zrUtil.each;\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name_1 in obj) {\n      if (obj.hasOwnProperty(name_1)) {\n        return true;\n      }\n    }\n  }\n}\nexport function createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption);\n      // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n  function createMappings() {\n    var Creater = function () {};\n    // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\nexport function replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\r\n * @param stateList\r\n * @param visualMappings\r\n * @param list\r\n * @param getValueState param: valueOrIndex, return: state.\r\n * @param scope Scope for getValueState\r\n * @param dimension Concrete dimension, if used.\r\n */\n// ???! handle brush?\nexport function applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n  function getVisual(key) {\n    return getItemVisualFromData(data, dataIndex, key);\n  }\n  function setVisual(key, value) {\n    setItemVisualFromData(data, dataIndex, key, value);\n  }\n  if (dimension == null) {\n    data.each(eachItem);\n  } else {\n    data.each([dimension], eachItem);\n  }\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex // First argument is index\n    : index;\n    var rawDataItem = data.getRawDataItem(dataIndex);\n    // Consider performance\n    // @ts-ignore\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n/**\r\n * @param data\r\n * @param stateList\r\n * @param visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\r\n * @param getValueState param: valueOrIndex, return: state.\r\n * @param dim dimension or dimension index.\r\n */\nexport function incrementalApplyVisual(stateList, visualMappings, getValueState, dim) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  return {\n    progress: function progress(params, data) {\n      var dimIndex;\n      if (dim != null) {\n        dimIndex = data.getDimensionIndex(dim);\n      }\n      function getVisual(key) {\n        return getItemVisualFromData(data, dataIndex, key);\n      }\n      function setVisual(key, value) {\n        setItemVisualFromData(data, dataIndex, key, value);\n      }\n      var dataIndex;\n      var store = data.getStore();\n      while ((dataIndex = params.next()) != null) {\n        var rawDataItem = data.getRawDataItem(dataIndex);\n        // Consider performance\n        // @ts-ignore\n        if (rawDataItem && rawDataItem.visualMap === false) {\n          continue;\n        }\n        var value = dim != null ? store.get(dimIndex, dataIndex) : dataIndex;\n        var valueState = getValueState(value);\n        var mappings = visualMappings[valueState];\n        var visualTypes = visualTypesMap[valueState];\n        for (var i = 0, len = visualTypes.length; i < len; i++) {\n          var type = visualTypes[i];\n          mappings[type] && mappings[type].applyVisual(value, getVisual, setVisual);\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as numberUtil from '../../util/number.js';\nimport ComponentModel from '../../model/Component.js';\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar VisualMapModel = /** @class */function (_super) {\n  __extends(VisualMapModel, _super);\n  function VisualMapModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapModel.type;\n    _this.stateList = ['inRange', 'outOfRange'];\n    _this.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'];\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    /**\r\n     * [lowerBound, upperBound]\r\n     */\n    _this.dataBound = [-Infinity, Infinity];\n    _this.targetVisuals = {};\n    _this.controllerVisuals = {};\n    return _this;\n  }\n  VisualMapModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.resetVisual = function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  };\n  /**\r\n   * @public\r\n   */\n  VisualMapModel.prototype.getItemSymbol = function () {\n    return null;\n  };\n  /**\r\n   * @protected\r\n   * @return {Array.<number>} An array of series indices.\r\n   */\n  VisualMapModel.prototype.getTargetSeriesIndices = function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n    return seriesIndices;\n  };\n  /**\r\n   * @public\r\n   */\n  VisualMapModel.prototype.eachTargetSeries = function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      var seriesModel = this.ecModel.getSeriesByIndex(seriesIndex);\n      if (seriesModel) {\n        callback.call(context, seriesModel);\n      }\n    }, this);\n  };\n  /**\r\n   * @pubilc\r\n   */\n  VisualMapModel.prototype.isTargetSeries = function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  };\n  /**\r\n   * @example\r\n   * this.formatValueText(someVal); // format single numeric value to text.\r\n   * this.formatValueText(someVal, true); // format single category value to text.\r\n   * this.formatValueText([min, max]); // format numeric min-max to text.\r\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\r\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\r\n   *\r\n   * @param value Real value, or this.dataBound[0 or 1].\r\n   * @param isCategory Only available when value is number.\r\n   * @param edgeSymbols Open-close symbol when value is interval.\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.formatValueText = function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n    var textValue = isCategory ? value // Value is string when isCategory\n    : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapModel.prototype.resetExtent = function () {\n    var thisOption = this.option;\n    // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  };\n  /**\r\n   * PENDING:\r\n   * delete this method if no outer usage.\r\n   *\r\n   * Return  Concrete dimension. If null/undefined is returned, no dimension is used.\r\n   */\n  // getDataDimension(data: SeriesData) {\n  //     const optDim = this.option.dimension;\n  //     if (optDim != null) {\n  //         return data.getDimension(optDim);\n  //     }\n  //     const dimNames = data.dimensions;\n  //     for (let i = dimNames.length - 1; i >= 0; i--) {\n  //         const dimName = dimNames[i];\n  //         const dimInfo = data.getDimensionInfo(dimName);\n  //         if (!dimInfo.isCalculationCoord) {\n  //             return dimName;\n  //         }\n  //     }\n  // }\n  VisualMapModel.prototype.getDataDimensionIndex = function (data) {\n    var optDim = this.option.dimension;\n    if (optDim != null) {\n      return data.getDimensionIndex(optDim);\n    }\n    var dimNames = data.dimensions;\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = data.getDimensionInfo(dimName);\n      if (!dimInfo.isCalculationCoord) {\n        return dimInfo.storeDimIndex;\n      }\n    }\n  };\n  VisualMapModel.prototype.getExtent = function () {\n    return this._dataExtent.slice();\n  };\n  VisualMapModel.prototype.completeVisualOption = function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n    zrUtil.merge(controller, base); // Do not override\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange');\n    // completeInactive.call(this, target, 'outOfRange', 'inRange');\n    completeController.call(this, controller);\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color)\n      // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      }\n      // Compatible with previous logic, always give a default color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      };\n    }\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n          if (defa != null) {\n            optAbsent[visualType] = defa;\n            // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      var itemSymbol = this.getItemSymbol();\n      var defaultSymbol = itemSymbol || 'roundRect';\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state];\n        // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        }\n        // Consistent symbol and symbolSize if not specified.\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? defaultSymbol : [defaultSymbol]);\n        }\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        }\n        // Filter none\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' ? defaultSymbol : symbol;\n        });\n        // Normalize symbolSize\n        var symbolSize = visuals.symbolSize;\n        if (symbolSize != null) {\n          var max_1 = -Infinity;\n          // symbolSize can be object when categories defined.\n          eachVisual(symbolSize, function (value) {\n            value > max_1 && (max_1 = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max_1], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  };\n  VisualMapModel.prototype.resetItemSize = function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  };\n  VisualMapModel.prototype.isCategory = function () {\n    return !!this.option.categories;\n  };\n  /**\r\n   * @public\r\n   * @abstract\r\n   */\n  VisualMapModel.prototype.setSelected = function (selected) {};\n  VisualMapModel.prototype.getSelected = function () {\n    return null;\n  };\n  /**\r\n   * @public\r\n   * @abstract\r\n   */\n  VisualMapModel.prototype.getValueState = function (value) {\n    return null;\n  };\n  /**\r\n   * FIXME\r\n   * Do not publish to thirt-part-dev temporarily\r\n   * util the interface is stable. (Should it return\r\n   * a function but not visual meta?)\r\n   *\r\n   * @pubilc\r\n   * @abstract\r\n   * @param getColorVisual\r\n   *        params: value, valueState\r\n   *        return: color\r\n   * @return {Object} visualMeta\r\n   *        should includes {stops, outerColors}\r\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\r\n   */\n  VisualMapModel.prototype.getVisualMeta = function (getColorVisual) {\n    return null;\n  };\n  VisualMapModel.type = 'visualMap';\n  VisualMapModel.dependencies = ['series'];\n  VisualMapModel.defaultOption = {\n    show: true,\n    // zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    min: 0,\n    max: 200,\n    left: 0,\n    right: null,\n    top: null,\n    bottom: 0,\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    padding: 5,\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    precision: 0,\n    textStyle: {\n      color: '#333' // 值域文字颜色\n    }\n  };\n  return VisualMapModel;\n}(ComponentModel);\nexport default VisualMapModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport * as numberUtil from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = /** @class */function (_super) {\n  __extends(ContinuousModel, _super);\n  function ContinuousModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousModel.type;\n    return _this;\n  }\n  /**\r\n   * @override\r\n   */\n  ContinuousModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n    this._resetRange();\n  };\n  /**\r\n   * @protected\r\n   * @override\r\n   */\n  ContinuousModel.prototype.resetItemSize = function () {\n    _super.prototype.resetItemSize.apply(this, arguments);\n    var itemSize = this.itemSize;\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  };\n  /**\r\n   * @private\r\n   */\n  ContinuousModel.prototype._resetRange = function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n    if (!range || range.auto) {\n      // `range` should always be array (so we don't use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  };\n  /**\r\n   * @protected\r\n   * @override\r\n   */\n  ContinuousModel.prototype.completeVisualOption = function () {\n    _super.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = symbolSize[1] / 3; // For good looking.\n      }\n    }, this);\n  };\n  /**\r\n   * @override\r\n   */\n  ContinuousModel.prototype.setSelected = function (selected) {\n    this.option.range = selected.slice();\n    this._resetRange();\n  };\n  /**\r\n   * @public\r\n   */\n  ContinuousModel.prototype.getSelected = function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice());\n    // Clamp\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  };\n  /**\r\n   * @override\r\n   */\n  ContinuousModel.prototype.getValueState = function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent();\n    // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n    // range[1] is processed likewise.\n    return (range[0] <= dataExtent[0] || range[0] <= value) && (range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  };\n  ContinuousModel.prototype.findTargetDataIndices = function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\r\n   * @implement\r\n   */\n  ContinuousModel.prototype.getVisualMeta = function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    }\n    // Format to: outOfRange -- inRange -- outOfRange.\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  };\n  ContinuousModel.type = 'visualMap.continuous';\n  ContinuousModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    align: 'auto',\n    calculable: false,\n    hoverLink: true,\n    realtime: true,\n    handleIcon: 'path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z',\n    handleSize: '120%',\n    handleStyle: {\n      borderColor: '#fff',\n      borderWidth: 1\n    },\n    indicatorIcon: 'circle',\n    indicatorSize: '50%',\n    indicatorStyle: {\n      borderColor: '#fff',\n      borderWidth: 2,\n      shadowBlur: 2,\n      shadowOffsetX: 1,\n      shadowOffsetY: 1,\n      shadowColor: 'rgba(0,0,0,0.2)'\n    }\n    // emphasis: {\n    //     handleStyle: {\n    //         shadowBlur: 3,\n    //         shadowOffsetX: 1,\n    //         shadowOffsetY: 1,\n    //         shadowColor: 'rgba(0,0,0,0.2)'\n    //     }\n    // }\n  });\n  return ContinuousModel;\n}(VisualMapModel);\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  }\n  // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\nexport default ContinuousModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { Rect } from '../../util/graphic.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as layout from '../../util/layout.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport ComponentView from '../../view/Component.js';\nvar VisualMapView = /** @class */function (_super) {\n  __extends(VisualMapView, _super);\n  function VisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = VisualMapView.type;\n    _this.autoPositionValues = {\n      left: 1,\n      right: 1,\n      top: 1,\n      bottom: 1\n    };\n    return _this;\n  }\n  VisualMapView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapView.prototype.render = function (visualMapModel, ecModel, api, payload // TODO: TYPE\n  ) {\n    this.visualMapModel = visualMapModel;\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    this.doRender(visualMapModel, ecModel, api, payload);\n  };\n  /**\r\n   * @protected\r\n   */\n  VisualMapView.prototype.renderBackground = function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new Rect({\n      z2: -1,\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  };\n  /**\r\n   * @protected\r\n   * @param targetValue can be Infinity or -Infinity\r\n   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\r\n   * @param opts\r\n   * @param opts.forceState Specify state, instead of using getValueState method.\r\n   * @param opts.convertOpacityToAlpha For color gradient in controller widget.\r\n   * @return {*} Visual value.\r\n   */\n  VisualMapView.prototype.getControllerVisual = function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {};\n    // Default values.\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n    function getter(key) {\n      return visualObj[key];\n    }\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  };\n  VisualMapView.prototype.positionGroup = function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n  VisualMapView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {};\n  VisualMapView.type = 'visualMap';\n  return VisualMapView;\n}(ComponentView);\nexport default VisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n/**\r\n * Calculate slider move result.\r\n * Usage:\r\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\r\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\r\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\r\n *\r\n * @param delta Move length.\r\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\r\n *              handleEnds will be modified in this method.\r\n * @param extent handleEnds is restricted by extent.\r\n *              extent[0] should less or equals than extent[1].\r\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\r\n * @param minSpan The range of dataZoom can not be smaller than that.\r\n *              If not set, handle0 and cross handle1. If set as a non-negative\r\n *              number (including `0`), handles will push each other when reaching\r\n *              the minSpan.\r\n * @param maxSpan The range of dataZoom can not be larger than that.\r\n * @return The input handleEnds.\r\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0];\n  // Notice maxSpan and minSpan can be null/undefined.\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta;\n  // Restrict in extent.\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent);\n  // Expand span.\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  }\n  // Shrink span.\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n  return handleEnds;\n}\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex];\n  // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nvar paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n/**\r\n * @param visualMapModel\r\n * @param api\r\n * @param itemSize always [short, long]\r\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\r\n */\nexport function getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  }\n  // Auto decision align.\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\r\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\r\n * dataIndexInside means filtered index.\r\n */\n// TODO: TYPE more specified payload types.\nexport function makeHighDownBatch(batch, visualMapModel) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batchItem.dataIndex != null) {\n      batchItem.dataIndexInside = batchItem.dataIndex;\n      batchItem.dataIndex = null;\n    }\n    batchItem.highlightKey = 'visualMap' + (visualMapModel ? visualMapModel.componentIndex : '');\n  });\n  return batch;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as helper from './helper.js';\nimport * as modelUtil from '../../util/model.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nimport { setAsHighDownDispatcher } from '../../util/states.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { findEventDispatcher } from '../../util/event.js';\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n// Arbitrary value\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6;\n// Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\nvar ContinuousView = /** @class */function (_super) {\n  __extends(ContinuousView, _super);\n  function ContinuousView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ContinuousView.type;\n    _this._shapes = {};\n    _this._dataInterval = [];\n    _this._handleEnds = [];\n    _this._hoverLinkDataIndices = [];\n    return _this;\n  }\n  ContinuousView.prototype.init = function (ecModel, api) {\n    _super.prototype.init.call(this, ecModel, api);\n    this._hoverLinkFromSeriesMouseOver = zrUtil.bind(this._hoverLinkFromSeriesMouseOver, this);\n    this._hideIndicator = zrUtil.bind(this._hideIndicator, this);\n  };\n  ContinuousView.prototype.doRender = function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  };\n  ContinuousView.prototype._buildView = function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n    this._resetInterval();\n    this._renderBar(thisGroup);\n    var dataRangeText = visualMapModel.get('text');\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n    this._renderEndsText(thisGroup, dataRangeText, 1);\n    // Do this for background size calculation.\n    this._updateView(true);\n    // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n    this.renderBackground(thisGroup);\n    // Real update view\n    this._updateView();\n    this._enableHoverLinkToSeries();\n    this._enableHoverLinkFromSeries();\n    this.positionGroup(thisGroup);\n  };\n  ContinuousView.prototype._renderEndsText = function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    }\n    // Compatible with ec2, text[0] map to high value, text[1] map low value.\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.mainGroup;\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: position[0],\n        y: position[1],\n        verticalAlign: orient === 'horizontal' ? 'middle' : align,\n        align: orient === 'horizontal' ? align : 'center',\n        text: text\n      })\n    }));\n  };\n  ContinuousView.prototype._renderBar = function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n    var mainGroup = shapes.mainGroup = this._createBarGroup(itemAlign);\n    var gradientBarGroup = new graphic.Group();\n    mainGroup.add(gradientBarGroup);\n    // Bar\n    gradientBarGroup.add(shapes.outOfRange = createPolygon());\n    gradientBarGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    // A border radius clip.\n    gradientBarGroup.setClipPath(new graphic.Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: itemSize[0],\n        height: itemSize[1],\n        r: 3\n      }\n    }));\n    var textRect = visualMapModel.textStyleModel.getTextRect('国');\n    var textSize = mathMax(textRect.width, textRect.height);\n    // Handle\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n      this._createHandle(visualMapModel, mainGroup, 0, itemSize, textSize, orient);\n      this._createHandle(visualMapModel, mainGroup, 1, itemSize, textSize, orient);\n    }\n    this._createIndicator(visualMapModel, mainGroup, itemSize, textSize, orient);\n    targetGroup.add(mainGroup);\n  };\n  ContinuousView.prototype._createHandle = function (visualMapModel, mainGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleSize = parsePercent(visualMapModel.get('handleSize'), itemSize[0]);\n    var handleThumb = createSymbol(visualMapModel.get('handleIcon'), -handleSize / 2, -handleSize / 2, handleSize, handleSize, null, true);\n    var cursor = getCursor(this._orient);\n    handleThumb.attr({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      ondragend: onDragEnd,\n      onmousemove: function (e) {\n        eventTool.stop(e.event);\n      }\n    });\n    handleThumb.x = itemSize[0] / 2;\n    handleThumb.useStyle(visualMapModel.getModel('handleStyle').getItemStyle());\n    handleThumb.setStyle({\n      strokeNoScale: true,\n      strokeFirst: true\n    });\n    handleThumb.style.lineWidth *= 2;\n    handleThumb.ensureState('emphasis').style = visualMapModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n    setAsHighDownDispatcher(handleThumb, true);\n    mainGroup.add(handleThumb);\n    // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      cursor: cursor,\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // For mobile device, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    handleLabel.ensureState('blur').style = {\n      opacity: 0.1\n    };\n    handleLabel.stateTransition = {\n      duration: 200\n    };\n    this.group.add(handleLabel);\n    var handleLabelPoint = [handleSize, 0];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  };\n  ContinuousView.prototype._createIndicator = function (visualMapModel, mainGroup, itemSize, textSize, orient) {\n    var scale = parsePercent(visualMapModel.get('indicatorSize'), itemSize[0]);\n    var indicator = createSymbol(visualMapModel.get('indicatorIcon'), -scale / 2, -scale / 2, scale, scale, null, true);\n    indicator.attr({\n      cursor: 'move',\n      invisible: true,\n      silent: true,\n      x: itemSize[0] / 2\n    });\n    var indicatorStyle = visualMapModel.getModel('indicatorStyle').getItemStyle();\n    if (indicator instanceof ZRImage) {\n      var pathStyle = indicator.style;\n      indicator.useStyle(zrUtil.extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, indicatorStyle));\n    } else {\n      indicator.useStyle(indicatorStyle);\n    }\n    mainGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: createTextStyle(textStyleModel, {\n        x: 0,\n        y: 0,\n        text: ''\n      })\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [(orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT) + itemSize[0] / 2, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n    this._firstShowIndicator = true;\n  };\n  ContinuousView.prototype._dragHandle = function (handleIndex, isEnd,\n  // dx is event from ondragend if isEnd is true. It's not used\n  dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n    this._dragging = !isEnd;\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.mainGroup, true);\n      this._updateInterval(handleIndex, vertex[1]);\n      this._hideIndicator();\n      // Considering realtime, update view should be executed\n      // before dispatch action.\n      this._updateView();\n    }\n    // dragEnd do not dispatch action when realtime.\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  };\n  ContinuousView.prototype._resetInterval = function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  };\n  /**\r\n   * @private\r\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\r\n   * @param {number} dx\r\n   * @param {number} dy\r\n   */\n  ContinuousView.prototype._updateInterval = function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex,\n    // cross is forbidden\n    0);\n    var dataExtent = visualMapModel.getExtent();\n    // Update data interval.\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  };\n  ContinuousView.prototype._updateView = function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor\n      // opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor\n      // opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  };\n  ContinuousView.prototype._createBarVisual = function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  };\n  ContinuousView.prototype._makeColorGradient = function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only calculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  };\n  ContinuousView.prototype._createBarPoints = function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  };\n  ContinuousView.prototype._createBarGroup = function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scaleX: itemAlign === 'bottom' ? 1 : -1,\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scaleX: itemAlign === 'bottom' ? -1 : 1,\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scaleX: itemAlign === 'left' ? 1 : -1,\n      scaleY: -1\n    } : {\n      scaleX: itemAlign === 'left' ? 1 : -1\n    });\n  };\n  ContinuousView.prototype._updateHandle = function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    var itemSize = visualMapModel.itemSize;\n    var dataExtent = visualMapModel.getExtent();\n    var align = this._applyTransform('left', shapes.mainGroup);\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.y = handleEnds[handleIndex];\n      var val = linearMap(handleEnds[handleIndex], [0, itemSize[1]], dataExtent, true);\n      var symbolSize = this.getControllerVisual(val, 'symbolSize');\n      handleThumb.scaleX = handleThumb.scaleY = symbolSize / itemSize[0];\n      handleThumb.x = itemSize[0] - symbolSize / 2;\n      // Update handle label position.\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      if (this._orient === 'horizontal') {\n        // If visualMap controls symbol size, an additional offset needs to be added to labels to avoid collision at minimum size.\n        // Offset reaches value of 0 at \"maximum\" position, so maximum position is not altered at all.\n        var minimumOffset = align === 'left' || align === 'top' ? (itemSize[0] - symbolSize) / 2 : (itemSize[0] - symbolSize) / -2;\n        textPoint[1] += minimumOffset;\n      }\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        verticalAlign: 'middle',\n        align: this._orient === 'vertical' ? this._applyTransform('left', shapes.mainGroup) : 'center'\n      });\n    }, this);\n  };\n  ContinuousView.prototype._showIndicator = function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n    if (!indicator) {\n      return;\n    }\n    indicator.attr('invisible', false);\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    var symbolSize = this.getControllerVisual(cursorValue, 'symbolSize');\n    var y = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var x = itemSize[0] - symbolSize / 2;\n    var oldIndicatorPos = {\n      x: indicator.x,\n      y: indicator.y\n    };\n    // Update handle label position.\n    indicator.y = y;\n    indicator.x = x;\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n    var align = this._applyTransform('left', shapes.mainGroup);\n    var orient = this._orient;\n    var isHorizontal = orient === 'horizontal';\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      verticalAlign: isHorizontal ? align : 'middle',\n      align: isHorizontal ? 'center' : align\n    });\n    var indicatorNewProps = {\n      x: x,\n      y: y,\n      style: {\n        fill: color\n      }\n    };\n    var labelNewProps = {\n      style: {\n        x: textPoint[0],\n        y: textPoint[1]\n      }\n    };\n    if (visualMapModel.ecModel.isAnimationEnabled() && !this._firstShowIndicator) {\n      var animationCfg = {\n        duration: 100,\n        easing: 'cubicInOut',\n        additive: true\n      };\n      indicator.x = oldIndicatorPos.x;\n      indicator.y = oldIndicatorPos.y;\n      indicator.animateTo(indicatorNewProps, animationCfg);\n      indicatorLabel.animateTo(labelNewProps, animationCfg);\n    } else {\n      indicator.attr(indicatorNewProps);\n      indicatorLabel.attr(labelNewProps);\n    }\n    this._firstShowIndicator = false;\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.enterBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._enableHoverLinkToSeries = function () {\n    var self = this;\n    this._shapes.mainGroup.on('mousemove', function (e) {\n      self._hovering = true;\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.mainGroup, true, true);\n        // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  };\n  ContinuousView.prototype._enableHoverLinkFromSeries = function () {\n    var zr = this.api.getZr();\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  };\n  ContinuousView.prototype._doHoverLinkToSeries = function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent();\n    // For hover link show when hover handle, which might be below or upper than sizeExtent.\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)];\n    // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity);\n    // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, '≈ ', halfHoverLinkSize);\n      }\n    }\n    // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(resultBatches[0], visualMapModel));\n    this._dispatchHighDown('highlight', helper.makeHighDownBatch(resultBatches[1], visualMapModel));\n  };\n  ContinuousView.prototype._hoverLinkFromSeriesMouseOver = function (e) {\n    var ecData;\n    findEventDispatcher(e.target, function (target) {\n      var currECData = getECData(target);\n      if (currECData.dataIndex != null) {\n        ecData = currECData;\n        return true;\n      }\n    }, true);\n    if (!ecData) {\n      return;\n    }\n    var dataModel = this.ecModel.getSeriesByIndex(ecData.seriesIndex);\n    var visualMapModel = this.visualMapModel;\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n    var data = dataModel.getData(ecData.dataType);\n    var value = data.getStore().get(visualMapModel.getDataDimensionIndex(data), ecData.dataIndex);\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  };\n  ContinuousView.prototype._hideIndicator = function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n    var handleLabels = this._shapes.handleLabels;\n    if (handleLabels) {\n      for (var i = 0; i < handleLabels.length; i++) {\n        // Fade out handle labels.\n        // NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.\n        this.api.leaveBlur(handleLabels[i]);\n      }\n    }\n  };\n  ContinuousView.prototype._clearHoverLinkToSeries = function () {\n    this._hideIndicator();\n    var indices = this._hoverLinkDataIndices;\n    this._dispatchHighDown('downplay', helper.makeHighDownBatch(indices, this.visualMapModel));\n    indices.length = 0;\n  };\n  ContinuousView.prototype._clearHoverLinkFromSeries = function () {\n    this._hideIndicator();\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  };\n  ContinuousView.prototype._applyTransform = function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return zrUtil.isArray(vertex) ? graphic.applyTransform(vertex, transform, inverse) : graphic.transformDirection(vertex, transform, inverse);\n  };\n  // TODO: TYPE more specified payload types.\n  ContinuousView.prototype._dispatchHighDown = function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  };\n  /**\r\n   * @override\r\n   */\n  ContinuousView.prototype.dispose = function () {\n    this._clearHoverLinkFromSeries();\n    this._clearHoverLinkToSeries();\n  };\n  ContinuousView.type = 'visualMap.continuous';\n  return ContinuousView;\n}(VisualMapView);\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n  return halfHoverLinkSize;\n}\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default ContinuousView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nexport var visualMapActionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\nexport var visualMapActionHander = function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nexport var visualMapEncodingHandlers = [{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var resetDefines = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      var pipelineContext = seriesModel.pipelineContext;\n      if (!visualMapModel.isTargetSeries(seriesModel) || pipelineContext && pipelineContext.large) {\n        return;\n      }\n      resetDefines.push(visualSolution.incrementalApplyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, zrUtil.bind(visualMapModel.getValueState, visualMapModel), visualMapModel.getDataDimensionIndex(seriesModel.getData())));\n    });\n    return resetDefines;\n  }\n},\n// Only support color.\n{\n  createOnAllSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        var dimIdx = visualMapModel.getDataDimensionIndex(data);\n        if (dimIdx >= 0) {\n          // visualMeta.dimension should be dimension index, but not concrete dimension.\n          visualMeta.dimension = dimIdx;\n          visualMetaList.push(visualMeta);\n        }\n      }\n    });\n    // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  }\n}];\n// FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: getVisualFromData(seriesModel.getData(), 'color') // default color.\n  };\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n  return resultVisual.color;\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar each = zrUtil.each;\nexport default function visualMapPreprocessor(option) {\n  var visualMap = option && option.visualMap;\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    }\n    // rename splitList to pieces\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n    var pieces = opt.pieces;\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { visualMapActionInfo, visualMapActionHander } from './visualMapAction.js';\nimport { visualMapEncodingHandlers } from './visualEncoding.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport preprocessor from './preprocessor.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerSubTypeDefaulter('visualMap', function (option) {\n    // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n    return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n  });\n  registers.registerAction(visualMapActionInfo, visualMapActionHander);\n  each(visualMapEncodingHandlers, function (handler) {\n    registers.registerVisual(registers.PRIORITY.VISUAL.COMPONENT, handler);\n  });\n  registers.registerPreprocessor(preprocessor);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport ContinuousModel from './ContinuousModel.js';\nimport ContinuousView from './ContinuousView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(ContinuousModel);\n  registers.registerComponentView(ContinuousView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapModel from './VisualMapModel.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport { reformIntervals } from '../../util/number.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar PiecewiseModel = /** @class */function (_super) {\n  __extends(PiecewiseModel, _super);\n  function PiecewiseModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseModel.type;\n    /**\r\n     * The order is always [low, ..., high].\r\n     * [{text: string, interval: Array.<number>}, ...]\r\n     */\n    _this._pieceList = [];\n    return _this;\n  }\n  PiecewiseModel.prototype.optionUpdated = function (newOption, isInit) {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    this.resetExtent();\n    var mode = this._mode = this._determineMode();\n    this._pieceList = [];\n    resetMethods[this._mode].call(this, this._pieceList);\n    this._resetSelected(newOption, isInit);\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          piece = zrUtil.clone(piece);\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n          return piece;\n        });\n      }\n    });\n  };\n  /**\r\n   * @protected\r\n   * @override\r\n   */\n  PiecewiseModel.prototype.completeVisualOption = function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = false;\n      zrUtil.each(this.stateList, function (state) {\n        exists = exists || has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n    function has(obj, state, visualType) {\n      return obj && obj[state] && obj[state].hasOwnProperty(visualType);\n    }\n    _super.prototype.completeVisualOption.apply(this, arguments);\n  };\n  PiecewiseModel.prototype._resetSelected = function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    // Selected do not merge but all override.\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected;\n    // Consider 'not specified' means true.\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel_1 = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n        if (selected[key]) {\n          hasSel_1 ? selected[key] = false : hasSel_1 = true;\n        }\n      }, this);\n    }\n    // thisOption.selectedMode === 'multiple', default: all selected.\n  };\n  /**\r\n   * @public\r\n   */\n  PiecewiseModel.prototype.getItemSymbol = function () {\n    return this.get('itemSymbol');\n  };\n  /**\r\n   * @public\r\n   */\n  PiecewiseModel.prototype.getSelectedMapKey = function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  };\n  /**\r\n   * @public\r\n   */\n  PiecewiseModel.prototype.getPieceList = function () {\n    return this._pieceList;\n  };\n  /**\r\n   * @return {string}\r\n   */\n  PiecewiseModel.prototype._determineMode = function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  };\n  /**\r\n   * @override\r\n   */\n  PiecewiseModel.prototype.setSelected = function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  };\n  /**\r\n   * @override\r\n   */\n  PiecewiseModel.prototype.getValueState = function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  };\n  /**\r\n   * @public\r\n   * @param pieceIndex piece index in visualMapModel.getPieceList()\r\n   */\n  PiecewiseModel.prototype.findTargetDataIndices = function (pieceIndex) {\n    var result = [];\n    var pieceList = this._pieceList;\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimensionIndex(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  };\n  /**\r\n   * @private\r\n   * @param piece piece.value or piece.interval is required.\r\n   * @return  Can be Infinity or -Infinity\r\n   */\n  PiecewiseModel.prototype.getRepresentValue = function (piece) {\n    var representValue;\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n    return representValue;\n  };\n  PiecewiseModel.prototype.getVisualMeta = function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n    var stops = [];\n    var outerColors = ['', ''];\n    var visualMapModel = this;\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      }); // Not category\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n      var color = getColorVisual(representValue, valueState);\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    }\n    // Suplement\n    var pieceList = this._pieceList.slice();\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  };\n  PiecewiseModel.type = 'visualMap.piecewise';\n  PiecewiseModel.defaultOption = inheritDefaultOption(VisualMapModel.defaultOption, {\n    selected: null,\n    minOpen: false,\n    maxOpen: false,\n    align: 'auto',\n    itemWidth: 20,\n    itemHeight: 14,\n    itemSymbol: 'roundRect',\n    pieces: null,\n    categories: null,\n    splitNumber: 5,\n    selectedMode: 'multiple',\n    itemGap: 10,\n    hoverLink: true // Enable hover highlight.\n  });\n  return PiecewiseModel;\n}(VisualMapModel);\n;\n/**\r\n * Key is this._mode\r\n * @type {Object}\r\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\r\n */\nvar resetMethods = {\n  splitNumber: function (outPieceList) {\n    var thisOption = this.option;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber;\n    // Precision auto-adaption\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n    if (thisOption.minOpen) {\n      outPieceList.push({\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n    for (var index = 0, curr = dataExtent[0]; index < splitNumber; curr += splitStep, index++) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      outPieceList.push({\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n    if (thisOption.maxOpen) {\n      outPieceList.push({\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece, index) {\n      piece.index = index;\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME category模式也使用pieceList，但在visualMapping中不是使用pieceList。\n      // 是否改一致。\n      outPieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n  },\n  pieces: function (outPieceList) {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n      var item = {\n        text: '',\n        index: index\n      };\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommended.\n        var interval = item.interval = [];\n        var close_1 = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close_1[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n        useMinMax[0] && interval[1] === Infinity && (close_1[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close_1[1] = 0);\n        if (process.env.NODE_ENV !== 'production') {\n          if (interval[0] > interval[1]) {\n            console.warn('Piece ' + index + 'is illegal: ' + interval + ' lower bound should not greater then uppper bound.');\n          }\n        }\n        if (interval[0] === interval[1] && close_1[0] && close_1[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      outPieceList.push(item);\n    }, this);\n    // See \"Order Rule\".\n    normalizeReverse(thisOption, outPieceList);\n    // Only pieces\n    reformIntervals(outPieceList);\n    zrUtil.each(outPieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', '≤'][close[1]], ['>', '≥'][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\nexport default PiecewiseModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapView from './VisualMapView.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport * as layout from '../../util/layout.js';\nimport * as helper from './helper.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar PiecewiseVisualMapView = /** @class */function (_super) {\n  __extends(PiecewiseVisualMapView, _super);\n  function PiecewiseVisualMapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PiecewiseVisualMapView.type;\n    return _this;\n  }\n  PiecewiseVisualMapView.prototype.doRender = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var textFont = textStyleModel.getFont();\n    var textFill = textStyleModel.getTextColor();\n    var itemAlign = this._getItemAlign();\n    var itemSize = visualMapModel.itemSize;\n    var viewData = this._getViewData();\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    var silent = !visualMapModel.get('selectedMode');\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, function (item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n      // TODO Category\n      var representValue = visualMapModel.getRepresentValue(piece);\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]], silent);\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        itemGroup.add(new graphic.Text({\n          style: {\n            x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            verticalAlign: 'middle',\n            align: itemAlign,\n            font: textFont,\n            fill: textFill,\n            opacity: visualState === 'outOfRange' ? 0.5 : 1\n          },\n          silent: silent\n        }));\n      }\n      thisGroup.add(itemGroup);\n    }, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n  };\n  PiecewiseVisualMapView.prototype._enableHoverLink = function (itemGroup, pieceIndex) {\n    var _this = this;\n    itemGroup.on('mouseover', function () {\n      return onHoverLink('highlight');\n    }).on('mouseout', function () {\n      return onHoverLink('downplay');\n    });\n    var onHoverLink = function (method) {\n      var visualMapModel = _this.visualMapModel;\n      // TODO: TYPE More detailed action types\n      visualMapModel.option.hoverLink && _this.api.dispatchAction({\n        type: method,\n        batch: helper.makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex), visualMapModel)\n      });\n    };\n  };\n  PiecewiseVisualMapView.prototype._getItemAlign = function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n      return align;\n    }\n  };\n  PiecewiseVisualMapView.prototype._renderEndsText = function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        verticalAlign: 'middle',\n        align: showLabel ? itemAlign : 'center',\n        text: text\n      })\n    }));\n    group.add(itemGroup);\n  };\n  /**\r\n   * @private\r\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\r\n   */\n  PiecewiseVisualMapView.prototype._getViewData = function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text');\n    // Consider orient and inverse.\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse');\n    // Order of model pieceList is always [low, ..., high]\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    }\n    // Origin order of endsText is [high, low]\n    else if (endsText) {\n      endsText = endsText.slice().reverse();\n    }\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  };\n  PiecewiseVisualMapView.prototype._createItemSymbol = function (group, representValue, shapeParam, silent) {\n    var itemSymbol = createSymbol(\n    // symbol will be string\n    this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3],\n    // color will be string\n    this.getControllerVisual(representValue, 'color'));\n    itemSymbol.silent = silent;\n    group.add(itemSymbol);\n  };\n  PiecewiseVisualMapView.prototype._onItemClick = function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selectedMode = option.selectedMode;\n    if (!selectedMode) {\n      return;\n    }\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n    if (selectedMode === 'single' || selectedMode === true) {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  };\n  PiecewiseVisualMapView.type = 'visualMap.piecewise';\n  return PiecewiseVisualMapView;\n}(VisualMapView);\nexport default PiecewiseVisualMapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport PiecewiseModel from './PiecewiseModel.js';\nimport PiecewiseView from './PiecewiseView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(PiecewiseModel);\n  registers.registerComponentView(PiecewiseView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { use } from '../../extension.js';\nimport { install as installVisualMapContinuous } from './installVisualMapContinuous.js';\nimport { install as installVisualMapPiecewise } from './installVisualMapPiecewise.js';\nexport function install(registers) {\n  use(installVisualMapContinuous);\n  use(installVisualMapPiecewise);\n  // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}"],"names":["genTimelineStyle","token","componentCls","calc","Object","assign","resetComponent","margin","padding","listStyle","concat","position","paddingBottom","itemPaddingBottom","fontSize","insetBlockStart","itemHeadSize","insetInlineStart","sub","tailWidth","div","equal","height","unit","borderInlineStart","lineType","tailColor","fontSizeSM","backgroundColor","display","width","dotBg","border","dotBorderWidth","borderRadius","color","colorPrimary","borderColor","colorError","colorSuccess","colorTextDisabled","marginBlockStart","paddingBlock","customHeadPaddingVertical","lineHeight","textAlign","transform","mul","add","lineWidth","marginInlineStart","marginInlineEnd","marginBlockEnd","wordBreak","minHeight","controlHeightLG","marginXXS","marginSM","marginXS","direction","genStyleHooks","timeLineToken","mergeToken","paddingXXS","paddingInlineEnd","colorSplit","lineWidthBold","wireframe","colorBgContainer","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","_a","prefixCls","customizePrefixCls","className","dot","pending","label","children","restProps","getPrefixCls","React","ConfigContext","itemClassName","classNames","customColor","test","undefined","dotClassName","style","items","rootClassName","reverse","hashId","pendingDot","mode","getPositionCls","idx","mergedItems","_toConsumableArray","pendingNode","push","LoadingOutlined","itemsCount","lastCls","itemsList","filter","item","map","pendingClass","readyClass","itemProps","TimelineItem","key","hasLabelItem","some","classString","Array","isArray","toArray","ele","_b","props","Timeline","timeline","rootCls","useCSSVarCls","wrapCSSVar","cssVarCls","useStyle","useItems","TimelineItemList","Item","HeatmapLayer","this","blurSize","pointSize","maxOpacity","minOpacity","_gradientPixels","inRange","outOfRange","canvas","platformApi","createCanvas","update","data","normalize","colorFunc","isInRange","brush","_getBrush","gradientInRange","_getGradient","gradientOutOfRange","r","ctx","getContext","len","x","y","alpha","globalAlpha","drawImage","imageData","getImageData","pixels","offset","pixelLen","diffOpacity","gradientOffset","Math","floor","gradient","putImageData","brushCanvas","_brushCanvas","d","clearRect","shadowOffsetX","shadowBlur","shadowColor","beginPath","arc","PI","closePath","fill","state","gradientPixels","pixelsSingleState","Uint8ClampedArray","off","isGeoCoordSys","coordSys","dimensions","_super","HeatmapView","_this","apply","arguments","type","__extends","render","seriesModel","ecModel","api","visualMapOfThisSeries","eachComponent","visualMap","eachTargetSeries","targetSeries","_progressiveEls","group","removeAll","coordinateSystem","_renderOnCartesianAndCalendar","getData","count","_renderOnGeo","incrementalPrepareRender","incrementalRender","params","start","end","eachRendered","cb","graphic","traverseElements","incremental","xAxisExtent","yAxisExtent","isCartesian2d","isCoordinateSystemType","xAxis","getAxis","yAxis","process","getBandWidth","scale","getExtent","emphasisStyle","getModel","getItemStyle","blurStyle","selectStyle","get","labelStatesModels","getLabelStatesModels","emphasisModel","focus","blurScope","emphasisDisabled","dataDims","mapDimension","rect","getItemVisual","dataDimX","dataDimY","isNaN","point","dataToPoint","shape","z2","dataToRect","contentShape","hasItemOption","itemModel","getItemModel","emphasisModel_1","rawValue","getRawValue","defaultText","setLabelStyle","labelFetcher","labelDataIndex","defaultOpacity","opacity","ensureState","toggleHoverEmphasis","states","emphasis","hoverLayer","setItemGraphicEl","geo","visualMapModel","inRangeVisuals","targetVisuals","outOfRangeVisuals","hmLayer","_hmLayer","getViewRect","clone","roamTransform","getRoamTransform","applyTransform","max","x2","min","getWidth","y2","getHeight","dims","points","mapArray","lng","lat","value","pt","dataExtent","range","dataSpan","val","getIsInContinuousRange","option","pieceList","selected","zrUtil","piece","interval","lastIndex","getIsInPiecewiseRange","getPieceList","getNormalizer","getColorMapper","img","image","silent","ChartView","HeatmapSeriesModel","getInitialData","createSeriesData","generateCoord","preventIncremental","coordSysCreator","CoordinateSystem","dependencies","defaultOption","z","geoIndex","select","itemStyle","SeriesModel","install","registers","registerChartView","registerSeriesModel","mergeAndNormalizeLayoutParams","target","raw","cellSizeArr","cellSize","ignoreSize","hvIdx","sizeCalculable","mergeLayoutParam","CalendarModel","init","parentModel","inputPositionParams","getLayoutParams","mergeOption","getCellSize","left","top","orient","splitLine","show","lineStyle","borderWidth","dayLabel","firstDay","monthLabel","align","formatter","yearLabel","fontFamily","fontWeight","ComponentModel","CalendarView","calendarModel","rangeData","getRangeInfo","getOrient","localeModel","getLocaleModel","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","sw","getCellWidth","sh","getCellHeight","time","getNextNDay","tl","cursor","self","lineStyleModel","getLineStyle","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","addPoints","formatedDate","getDateInfo","m","date","setMonth","getMonth","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","slice","poyline","parsedDate","tmpD","day","_formatterLabel","isString","formatTplSimple","isFunction","nameMap","_yearTextPositionControl","textEl","aligns","rotate","rotation","verticalAlign","pos","xc","yc","posPoints","bottom","right","name","content","yearText","createTextStyle","text","attr","_monthTextPositionControl","isCenter","vAlign","termPoints","axis","labelSilent","tmp","firstDayPoints","name_1","yyyy","yy","MM","M","monthText","extend","_weekTextPositionControl","isStart","firstDayOfWeek","getFirstDayOfWeek","lweek","parsePercent","fweek","center","abs","weekText","ComponentView","PROXIMATE_ONE_DAY","getCoordSys","finder","Calendar","getDimensionsInfo","_model","_rangeInfo","getRect","_rect","_sw","_sh","_orient","_firstDayOfWeek","numberUtil","getFullYear","mStr","getDate","dStr","getDay","getTime","n","Date","setDate","_lineWidth","_getRangeInfo","_initRangeOption","weeks","whNames","layoutParams","getBoxLayoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","layout","clamp","dayInfo","NaN","week","nthWeek","pointToData","pointToDate","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","convertToPixel","convertFromPixel","pixel","containPoint","console","warn","normalizedRange","rangeStr","toString","reversed","parsedRange","allDay","startDateNum","endDateNum","dateNum","sign","rangeInfo","nthDay","create","calendarList","calendar","eachSeries","calendarSeries","registerComponentModel","registerComponentView","registerCoordinateSystem","visualDefault","visualType","isCategory","active","inactive","colorHue","colorSaturation","colorLightness","colorAlpha","symbol","symbolSize","each","isObject","CATEGORY_DEFAULT_VISUAL_INDEX","VisualMapping","mappingMethod","thisOption","_normalizeData","normalizers","visualHandler","visualHandlers","applyVisual","_normalizedToVisual","normalizeVisualRange","hasSpecialVisual","index","originIndex","visual","preprocessForPiecewise","categories","categoryMap","cate","visualArr_1","v","setVisualToOption","pop","preprocessForSpecifiedCategory","mapValueToVisual","normalized","listVisualTypes","isValidType","eachVisual","callback","context","mapVisual","isPrimary","newVisual","newVal","retrieveVisuals","obj","hasVisual","ret","h","prepareVisualTypes","visualTypes","types_1","sort","type1","type2","dependsOn","visualType1","visualType2","findPieceIndex","findClosestWhenOutside","possibleI","Infinity","pieceValue","updatePossible","close_1","close","littleThan","newAbs","makeApplyVisual","isNormalized","doMapCategory","out","returnRGBArray","zrColor","parsedVisual","linear","category","piecewise","result","getSpecifiedVisual","fixed","doMapFixed","makePartialColorVisualHandler","decal","createNormalizedToNumericVisual","liftZ","getter","setter","doMapToArray","visualArr","applyValue","colorChannel","round","linearMap","loop","sourceExtent","pieceIndex","a","b","hasKeys","createVisualMappings","stateList","supplementVisualOption","visualMappings","mappings","Creater","__hidden","createMappings","visualData","mappingOption","__alphaForOpacity","asc","VisualMapModel","replacableOptionKeys","layoutMode","dataBound","controllerVisuals","mergeDefaultAndTheme","optionUpdated","newOption","isInit","keys","has","visualSolution","textStyleModel","resetItemSize","completeVisualOption","resetVisual","controller","getItemSymbol","getTargetSeriesIndices","optionSeriesIndex","seriesIndex","seriesIndices","modelUtil","getSeriesByIndex","isTargetSeries","is","model","formatValueText","edgeSymbols","isMinMax","precision","textValue","toFixed","replace","resetExtent","extent","_dataExtent","getDataDimensionIndex","optDim","dimension","getDimensionIndex","dimNames","dimName","dimInfo","getDimensionInfo","isCalculationCoord","storeDimIndex","base","completeSingle","stateExist","stateAbsent","optExist","optAbsent","defa","symbolExists","symbolSizeExists","inactiveColor","defaultSymbol","itemSize","visuals","max_1","parseFloat","setSelected","getSelected","getValueState","getVisualMeta","getColorVisual","itemWidth","itemHeight","inverse","contentColor","textGap","textStyle","DEFAULT_BAR_BOUND","ContinuousModel","_resetRange","auto","dataInterval","findTargetDataIndices","dataIndices","dataIndex","seriesId","id","oVals","getColorStopValues","iVals","stops","setStop","valueState","iIdx","oIdx","iLen","oLen","first","stopsLen","outerColors","inheritDefaultOption","calculable","hoverLink","realtime","handleIcon","handleSize","handleStyle","indicatorIcon","indicatorSize","indicatorStyle","shadowOffsetY","step","stopValues","VisualMapView","autoPositionValues","payload","doRender","renderBackground","formatUtil","getBoundingRect","Rect","stroke","getControllerVisual","targetValue","visualCluster","opts","forceState","visualObj","defaultColor","visualMapping","convertOpacityToAlpha","positionGroup","getSpanSign","handleEnds","handleIndex","dist","span","restrict","paramsSet","getItemAlign","modelOption","itemAlign","ecSize","realIndex","reals","fakeValue","layoutInput","rParam","getLayoutRect","makeHighDownBatch","batch","batchItem","dataIndexInside","highlightKey","componentIndex","mathMin","mathMax","createPolygon","onDrift","onDragEnd","draggable","drift","onmousemove","eventTool","event","ondragend","useHoverLinkOnHandle","hoverLinkOnHandle","getCursor","ContinuousView","_shapes","_dataInterval","_handleEnds","_hoverLinkDataIndices","_hoverLinkFromSeriesMouseOver","_hideIndicator","from","uid","_buildView","thisGroup","_useHandle","_resetInterval","_renderBar","dataRangeText","_renderEndsText","_updateView","_enableHoverLinkToSeries","_enableHoverLinkFromSeries","endsIndex","barGroup","mainGroup","_applyTransform","targetGroup","shapes","useHandle","helper","_createBarGroup","gradientBarGroup","_dragHandle","setClipPath","textRect","getTextRect","textSize","handleThumbs","handleLabels","handleLabelPoints","_createHandle","_createIndicator","handleThumb","createSymbol","setStyle","strokeNoScale","strokeFirst","setAsHighDownDispatcher","handleLabel","stateTransition","duration","handleLabelPoint","indicator","invisible","ZRImage","pathStyle","indicatorLabel","indicatorLabelPoint","_firstShowIndicator","isEnd","dx","dy","_dragging","vertex","_updateInterval","dispatchAction","visualMapId","_hovering","_clearHoverLinkToSeries","_doHoverLinkToSeries","sizeExtent","delta","minSpan","maxSpan","extentSpan","handleSpan","originalDistSign","currDistSign","extentMinSpan","realExtent","sliderMove","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","_createBarVisual","visualOutOfRange","barColor","setShape","barPoints","_updateHandle","colorStops","_makeColorGradient","symbolSizes","_createBarPoints","LinearGradient","handlesColor","currValue","scaleX","scaleY","textPoint","getTransform","minimumOffset","_showIndicator","cursorValue","rangeSymbol","halfHoverLinkSize","oldIndicatorPos","isHorizontal","indicatorNewProps","labelNewProps","isAnimationEnabled","animationCfg","easing","additive","animateTo","enterBlur","on","offsetX","offsetY","zr","getZr","_clearHoverLinkFromSeries","cursorPos","hoverOnBar","HOVER_LINK_SIZE","hoverLinkDataSize","getHalfHoverLinkSize","hoverRange","valueRange","oldBatch","newBatch","resultBatches","_dispatchHighDown","ecData","findEventDispatcher","currECData","getECData","dataModel","dataType","getStore","leaveBlur","indices","element","global","transformDirection","dispose","visualMapActionInfo","visualMapActionHander","mainType","query","visualMapEncodingHandlers","createOnAllSeries","reset","resetDefines","pipelineContext","large","dim","visualTypesMap","progress","dimIndex","getVisual","getItemVisualFromData","setVisual","setItemVisualFromData","store","next","rawDataItem","getRawDataItem","visualMetaList","visualMeta","dimIdx","resultVisual","getVisualFromData","mapping","visualMapPreprocessor","opt","pieces","splitList","installed","installCommon","registerSubTypeDefaulter","splitNumber","registerAction","handler","registerVisual","PRIORITY","VISUAL","COMPONENT","registerPreprocessor","preprocessor","PiecewiseModel","_pieceList","_mode","_determineMode","resetMethods","_resetSelected","visualTypesInPieces","exists","getSelectedMapKey","selectedMode","hasSel_1","getRepresentValue","representValue","pieceInterval","edge","unshift","curr","minOpen","maxOpen","itemSymbol","itemGap","outPieceList","parseInt","splitStep","reformIntervals","normalizeReverse","pieceListItem","closeList","infinityList","useMinMax","lg","names","PiecewiseVisualMapView","textFont","getFont","textFill","getTextColor","_getItemAlign","viewData","_getViewData","endsText","showLabel","viewPieceList","itemGroup","onclick","_onItemClick","_enableHoverLink","indexInModelPieceList","_createItemSymbol","visualState","font","onHoverLink","method","shapeParam","newKey","o","PiecewiseView","use","installVisualMapContinuous","installVisualMapPiecewise"],"sourceRoot":""}