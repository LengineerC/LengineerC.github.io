{"version":3,"file":"static/js/933.0c2095bd.chunk.js","mappings":"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","sources":["../node_modules/echarts/lib/label/LabelManager.js","../node_modules/echarts/lib/label/installLabelLayout.js","../node_modules/echarts/lib/label/labelGuideHelper.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n// TODO: move labels out of viewport.\nimport { BoundingRect, updateProps, initProps, isElementRemoved } from '../util/graphic.js';\nimport { getECData } from '../util/innerStore.js';\nimport { parsePercent } from '../util/number.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { updateLabelLinePoints, setLabelLineStyle, getLabelLineStatesModels } from './labelGuideHelper.js';\nimport { makeInner } from '../util/model.js';\nimport { retrieve2, each, keys, isFunction, filter, indexOf } from 'zrender/lib/core/util.js';\nimport { prepareLayoutList, hideOverlap, shiftLayoutOnX, shiftLayoutOnY } from './labelLayoutHelper.js';\nimport { labelInner, animateLabelValue } from './labelStyle.js';\nimport { normalizeRadian } from 'zrender/lib/contain/util.js';\nfunction cloneArr(points) {\n  if (points) {\n    var newPoints = [];\n    for (var i = 0; i < points.length; i++) {\n      newPoints.push(points[i].slice());\n    }\n    return newPoints;\n  }\n}\nfunction prepareLayoutCallbackParams(labelItem, hostEl) {\n  var label = labelItem.label;\n  var labelLine = hostEl && hostEl.getTextGuideLine();\n  return {\n    dataIndex: labelItem.dataIndex,\n    dataType: labelItem.dataType,\n    seriesIndex: labelItem.seriesModel.seriesIndex,\n    text: labelItem.label.style.text,\n    rect: labelItem.hostRect,\n    labelRect: labelItem.rect,\n    // x: labelAttr.x,\n    // y: labelAttr.y,\n    align: label.style.align,\n    verticalAlign: label.style.verticalAlign,\n    labelLinePoints: cloneArr(labelLine && labelLine.shape.points)\n  };\n}\nvar LABEL_OPTION_TO_STYLE_KEYS = ['align', 'verticalAlign', 'width', 'height', 'fontSize'];\nvar dummyTransformable = new Transformable();\nvar labelLayoutInnerStore = makeInner();\nvar labelLineAnimationStore = makeInner();\nfunction extendWithKeys(target, source, keys) {\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (source[key] != null) {\n      target[key] = source[key];\n    }\n  }\n}\nvar LABEL_LAYOUT_PROPS = ['x', 'y', 'rotation'];\nvar LabelManager = /** @class */function () {\n  function LabelManager() {\n    this._labelList = [];\n    this._chartViewList = [];\n  }\n  LabelManager.prototype.clearLabels = function () {\n    this._labelList = [];\n    this._chartViewList = [];\n  };\n  /**\r\n   * Add label to manager\r\n   */\n  LabelManager.prototype._addLabel = function (dataIndex, dataType, seriesModel, label, layoutOption) {\n    var labelStyle = label.style;\n    var hostEl = label.__hostTarget;\n    var textConfig = hostEl.textConfig || {};\n    // TODO: If label is in other state.\n    var labelTransform = label.getComputedTransform();\n    var labelRect = label.getBoundingRect().plain();\n    BoundingRect.applyTransform(labelRect, labelRect, labelTransform);\n    if (labelTransform) {\n      dummyTransformable.setLocalTransform(labelTransform);\n    } else {\n      // Identity transform.\n      dummyTransformable.x = dummyTransformable.y = dummyTransformable.rotation = dummyTransformable.originX = dummyTransformable.originY = 0;\n      dummyTransformable.scaleX = dummyTransformable.scaleY = 1;\n    }\n    dummyTransformable.rotation = normalizeRadian(dummyTransformable.rotation);\n    var host = label.__hostTarget;\n    var hostRect;\n    if (host) {\n      hostRect = host.getBoundingRect().plain();\n      var transform = host.getComputedTransform();\n      BoundingRect.applyTransform(hostRect, hostRect, transform);\n    }\n    var labelGuide = hostRect && host.getTextGuideLine();\n    this._labelList.push({\n      label: label,\n      labelLine: labelGuide,\n      seriesModel: seriesModel,\n      dataIndex: dataIndex,\n      dataType: dataType,\n      layoutOption: layoutOption,\n      computedLayoutOption: null,\n      rect: labelRect,\n      hostRect: hostRect,\n      // Label with lower priority will be hidden when overlapped\n      // Use rect size as default priority\n      priority: hostRect ? hostRect.width * hostRect.height : 0,\n      // Save default label attributes.\n      // For restore if developers want get back to default value in callback.\n      defaultAttr: {\n        ignore: label.ignore,\n        labelGuideIgnore: labelGuide && labelGuide.ignore,\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY,\n        rotation: dummyTransformable.rotation,\n        style: {\n          x: labelStyle.x,\n          y: labelStyle.y,\n          align: labelStyle.align,\n          verticalAlign: labelStyle.verticalAlign,\n          width: labelStyle.width,\n          height: labelStyle.height,\n          fontSize: labelStyle.fontSize\n        },\n        cursor: label.cursor,\n        attachedPos: textConfig.position,\n        attachedRot: textConfig.rotation\n      }\n    });\n  };\n  LabelManager.prototype.addLabelsOfSeries = function (chartView) {\n    var _this = this;\n    this._chartViewList.push(chartView);\n    var seriesModel = chartView.__model;\n    var layoutOption = seriesModel.get('labelLayout');\n    /**\r\n     * Ignore layouting if it's not specified anything.\r\n     */\n    if (!(isFunction(layoutOption) || keys(layoutOption).length)) {\n      return;\n    }\n    chartView.group.traverse(function (child) {\n      if (child.ignore) {\n        return true; // Stop traverse descendants.\n      }\n      // Only support label being hosted on graphic elements.\n      var textEl = child.getTextContent();\n      var ecData = getECData(child);\n      // Can only attach the text on the element with dataIndex\n      if (textEl && !textEl.disableLabelLayout) {\n        _this._addLabel(ecData.dataIndex, ecData.dataType, seriesModel, textEl, layoutOption);\n      }\n    });\n  };\n  LabelManager.prototype.updateLayoutConfig = function (api) {\n    var width = api.getWidth();\n    var height = api.getHeight();\n    function createDragHandler(el, labelLineModel) {\n      return function () {\n        updateLabelLinePoints(el, labelLineModel);\n      };\n    }\n    for (var i = 0; i < this._labelList.length; i++) {\n      var labelItem = this._labelList[i];\n      var label = labelItem.label;\n      var hostEl = label.__hostTarget;\n      var defaultLabelAttr = labelItem.defaultAttr;\n      var layoutOption = void 0;\n      // TODO A global layout option?\n      if (isFunction(labelItem.layoutOption)) {\n        layoutOption = labelItem.layoutOption(prepareLayoutCallbackParams(labelItem, hostEl));\n      } else {\n        layoutOption = labelItem.layoutOption;\n      }\n      layoutOption = layoutOption || {};\n      labelItem.computedLayoutOption = layoutOption;\n      var degreeToRadian = Math.PI / 180;\n      // TODO hostEl should always exists.\n      // Or label should not have parent because the x, y is all in global space.\n      if (hostEl) {\n        hostEl.setTextConfig({\n          // Force to set local false.\n          local: false,\n          // Ignore position and rotation config on the host el if x or y is changed.\n          position: layoutOption.x != null || layoutOption.y != null ? null : defaultLabelAttr.attachedPos,\n          // Ignore rotation config on the host el if rotation is changed.\n          rotation: layoutOption.rotate != null ? layoutOption.rotate * degreeToRadian : defaultLabelAttr.attachedRot,\n          offset: [layoutOption.dx || 0, layoutOption.dy || 0]\n        });\n      }\n      var needsUpdateLabelLine = false;\n      if (layoutOption.x != null) {\n        // TODO width of chart view.\n        label.x = parsePercent(layoutOption.x, width);\n        label.setStyle('x', 0); // Ignore movement in style. TODO: origin.\n        needsUpdateLabelLine = true;\n      } else {\n        label.x = defaultLabelAttr.x;\n        label.setStyle('x', defaultLabelAttr.style.x);\n      }\n      if (layoutOption.y != null) {\n        // TODO height of chart view.\n        label.y = parsePercent(layoutOption.y, height);\n        label.setStyle('y', 0); // Ignore movement in style.\n        needsUpdateLabelLine = true;\n      } else {\n        label.y = defaultLabelAttr.y;\n        label.setStyle('y', defaultLabelAttr.style.y);\n      }\n      if (layoutOption.labelLinePoints) {\n        var guideLine = hostEl.getTextGuideLine();\n        if (guideLine) {\n          guideLine.setShape({\n            points: layoutOption.labelLinePoints\n          });\n          // Not update\n          needsUpdateLabelLine = false;\n        }\n      }\n      var labelLayoutStore = labelLayoutInnerStore(label);\n      labelLayoutStore.needsUpdateLabelLine = needsUpdateLabelLine;\n      label.rotation = layoutOption.rotate != null ? layoutOption.rotate * degreeToRadian : defaultLabelAttr.rotation;\n      label.scaleX = defaultLabelAttr.scaleX;\n      label.scaleY = defaultLabelAttr.scaleY;\n      for (var k = 0; k < LABEL_OPTION_TO_STYLE_KEYS.length; k++) {\n        var key = LABEL_OPTION_TO_STYLE_KEYS[k];\n        label.setStyle(key, layoutOption[key] != null ? layoutOption[key] : defaultLabelAttr.style[key]);\n      }\n      if (layoutOption.draggable) {\n        label.draggable = true;\n        label.cursor = 'move';\n        if (hostEl) {\n          var hostModel = labelItem.seriesModel;\n          if (labelItem.dataIndex != null) {\n            var data = labelItem.seriesModel.getData(labelItem.dataType);\n            hostModel = data.getItemModel(labelItem.dataIndex);\n          }\n          label.on('drag', createDragHandler(hostEl, hostModel.getModel('labelLine')));\n        }\n      } else {\n        // TODO Other drag functions?\n        label.off('drag');\n        label.cursor = defaultLabelAttr.cursor;\n      }\n    }\n  };\n  LabelManager.prototype.layout = function (api) {\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var labelList = prepareLayoutList(this._labelList);\n    var labelsNeedsAdjustOnX = filter(labelList, function (item) {\n      return item.layoutOption.moveOverlap === 'shiftX';\n    });\n    var labelsNeedsAdjustOnY = filter(labelList, function (item) {\n      return item.layoutOption.moveOverlap === 'shiftY';\n    });\n    shiftLayoutOnX(labelsNeedsAdjustOnX, 0, width);\n    shiftLayoutOnY(labelsNeedsAdjustOnY, 0, height);\n    var labelsNeedsHideOverlap = filter(labelList, function (item) {\n      return item.layoutOption.hideOverlap;\n    });\n    hideOverlap(labelsNeedsHideOverlap);\n  };\n  /**\r\n   * Process all labels. Not only labels with layoutOption.\r\n   */\n  LabelManager.prototype.processLabelsOverall = function () {\n    var _this = this;\n    each(this._chartViewList, function (chartView) {\n      var seriesModel = chartView.__model;\n      var ignoreLabelLineUpdate = chartView.ignoreLabelLineUpdate;\n      var animationEnabled = seriesModel.isAnimationEnabled();\n      chartView.group.traverse(function (child) {\n        if (child.ignore && !child.forceLabelAnimation) {\n          return true; // Stop traverse descendants.\n        }\n        var needsUpdateLabelLine = !ignoreLabelLineUpdate;\n        var label = child.getTextContent();\n        if (!needsUpdateLabelLine && label) {\n          needsUpdateLabelLine = labelLayoutInnerStore(label).needsUpdateLabelLine;\n        }\n        if (needsUpdateLabelLine) {\n          _this._updateLabelLine(child, seriesModel);\n        }\n        if (animationEnabled) {\n          _this._animateLabels(child, seriesModel);\n        }\n      });\n    });\n  };\n  LabelManager.prototype._updateLabelLine = function (el, seriesModel) {\n    // Only support label being hosted on graphic elements.\n    var textEl = el.getTextContent();\n    // Update label line style.\n    var ecData = getECData(el);\n    var dataIndex = ecData.dataIndex;\n    // Only support labelLine on the labels represent data.\n    if (textEl && dataIndex != null) {\n      var data = seriesModel.getData(ecData.dataType);\n      var itemModel = data.getItemModel(dataIndex);\n      var defaultStyle = {};\n      var visualStyle = data.getItemVisual(dataIndex, 'style');\n      if (visualStyle) {\n        var visualType = data.getVisual('drawType');\n        // Default to be same with main color\n        defaultStyle.stroke = visualStyle[visualType];\n      }\n      var labelLineModel = itemModel.getModel('labelLine');\n      setLabelLineStyle(el, getLabelLineStatesModels(itemModel), defaultStyle);\n      updateLabelLinePoints(el, labelLineModel);\n    }\n  };\n  LabelManager.prototype._animateLabels = function (el, seriesModel) {\n    var textEl = el.getTextContent();\n    var guideLine = el.getTextGuideLine();\n    // Animate\n    if (textEl\n    // `forceLabelAnimation` has the highest priority\n    && (el.forceLabelAnimation || !textEl.ignore && !textEl.invisible && !el.disableLabelAnimation && !isElementRemoved(el))) {\n      var layoutStore = labelLayoutInnerStore(textEl);\n      var oldLayout = layoutStore.oldLayout;\n      var ecData = getECData(el);\n      var dataIndex = ecData.dataIndex;\n      var newProps = {\n        x: textEl.x,\n        y: textEl.y,\n        rotation: textEl.rotation\n      };\n      var data = seriesModel.getData(ecData.dataType);\n      if (!oldLayout) {\n        textEl.attr(newProps);\n        // Disable fade in animation if value animation is enabled.\n        if (!labelInner(textEl).valueAnimation) {\n          var oldOpacity = retrieve2(textEl.style.opacity, 1);\n          // Fade in animation\n          textEl.style.opacity = 0;\n          initProps(textEl, {\n            style: {\n              opacity: oldOpacity\n            }\n          }, seriesModel, dataIndex);\n        }\n      } else {\n        textEl.attr(oldLayout);\n        // Make sure the animation from is in the right status.\n        var prevStates = el.prevStates;\n        if (prevStates) {\n          if (indexOf(prevStates, 'select') >= 0) {\n            textEl.attr(layoutStore.oldLayoutSelect);\n          }\n          if (indexOf(prevStates, 'emphasis') >= 0) {\n            textEl.attr(layoutStore.oldLayoutEmphasis);\n          }\n        }\n        updateProps(textEl, newProps, seriesModel, dataIndex);\n      }\n      layoutStore.oldLayout = newProps;\n      if (textEl.states.select) {\n        var layoutSelect = layoutStore.oldLayoutSelect = {};\n        extendWithKeys(layoutSelect, newProps, LABEL_LAYOUT_PROPS);\n        extendWithKeys(layoutSelect, textEl.states.select, LABEL_LAYOUT_PROPS);\n      }\n      if (textEl.states.emphasis) {\n        var layoutEmphasis = layoutStore.oldLayoutEmphasis = {};\n        extendWithKeys(layoutEmphasis, newProps, LABEL_LAYOUT_PROPS);\n        extendWithKeys(layoutEmphasis, textEl.states.emphasis, LABEL_LAYOUT_PROPS);\n      }\n      animateLabelValue(textEl, dataIndex, data, seriesModel, seriesModel);\n    }\n    if (guideLine && !guideLine.ignore && !guideLine.invisible) {\n      var layoutStore = labelLineAnimationStore(guideLine);\n      var oldLayout = layoutStore.oldLayout;\n      var newLayout = {\n        points: guideLine.shape.points\n      };\n      if (!oldLayout) {\n        guideLine.setShape(newLayout);\n        guideLine.style.strokePercent = 0;\n        initProps(guideLine, {\n          style: {\n            strokePercent: 1\n          }\n        }, seriesModel);\n      } else {\n        guideLine.attr({\n          shape: oldLayout\n        });\n        updateProps(guideLine, {\n          shape: newLayout\n        }, seriesModel);\n      }\n      layoutStore.oldLayout = newLayout;\n    }\n  };\n  return LabelManager;\n}();\nexport default LabelManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { makeInner } from '../util/model.js';\nimport LabelManager from './LabelManager.js';\nvar getLabelManager = makeInner();\nexport function installLabelLayout(registers) {\n  registers.registerUpdateLifecycle('series:beforeupdate', function (ecModel, api, params) {\n    // TODO api provide an namespace that can save stuff per instance\n    var labelManager = getLabelManager(api).labelManager;\n    if (!labelManager) {\n      labelManager = getLabelManager(api).labelManager = new LabelManager();\n    }\n    labelManager.clearLabels();\n  });\n  registers.registerUpdateLifecycle('series:layoutlabels', function (ecModel, api, params) {\n    var labelManager = getLabelManager(api).labelManager;\n    params.updatedSeries.forEach(function (series) {\n      labelManager.addLabelsOfSeries(api.getViewOfSeriesModel(series));\n    });\n    labelManager.updateLayoutConfig(api);\n    labelManager.layout(api);\n    labelManager.processLabelsOverall();\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { Point, Path, Polyline } from '../util/graphic.js';\nimport PathProxy from 'zrender/lib/core/PathProxy.js';\nimport { normalizeRadian } from 'zrender/lib/contain/util.js';\nimport { cubicProjectPoint, quadraticProjectPoint } from 'zrender/lib/core/curve.js';\nimport { defaults, retrieve2 } from 'zrender/lib/core/util.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport { DISPLAY_STATES, SPECIAL_STATES } from '../util/states.js';\nvar PI2 = Math.PI * 2;\nvar CMD = PathProxy.CMD;\nvar DEFAULT_SEARCH_SPACE = ['top', 'right', 'bottom', 'left'];\nfunction getCandidateAnchor(pos, distance, rect, outPt, outDir) {\n  var width = rect.width;\n  var height = rect.height;\n  switch (pos) {\n    case 'top':\n      outPt.set(rect.x + width / 2, rect.y - distance);\n      outDir.set(0, -1);\n      break;\n    case 'bottom':\n      outPt.set(rect.x + width / 2, rect.y + height + distance);\n      outDir.set(0, 1);\n      break;\n    case 'left':\n      outPt.set(rect.x - distance, rect.y + height / 2);\n      outDir.set(-1, 0);\n      break;\n    case 'right':\n      outPt.set(rect.x + width + distance, rect.y + height / 2);\n      outDir.set(1, 0);\n      break;\n  }\n}\nfunction projectPointToArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y, out) {\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n  x /= d;\n  y /= d;\n  // Intersect point.\n  var ox = x * r + cx;\n  var oy = y * r + cy;\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n  var angle = Math.atan2(y, x);\n  if (angle < 0) {\n    angle += PI2;\n  }\n  if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n    // Project point is on the arc.\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n  var x1 = r * Math.cos(startAngle) + cx;\n  var y1 = r * Math.sin(startAngle) + cy;\n  var x2 = r * Math.cos(endAngle) + cx;\n  var y2 = r * Math.sin(endAngle) + cy;\n  var d1 = (x1 - x) * (x1 - x) + (y1 - y) * (y1 - y);\n  var d2 = (x2 - x) * (x2 - x) + (y2 - y) * (y2 - y);\n  if (d1 < d2) {\n    out[0] = x1;\n    out[1] = y1;\n    return Math.sqrt(d1);\n  } else {\n    out[0] = x2;\n    out[1] = y2;\n    return Math.sqrt(d2);\n  }\n}\nfunction projectPointToLine(x1, y1, x2, y2, x, y, out, limitToEnds) {\n  var dx = x - x1;\n  var dy = y - y1;\n  var dx1 = x2 - x1;\n  var dy1 = y2 - y1;\n  var lineLen = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  dx1 /= lineLen;\n  dy1 /= lineLen;\n  // dot product\n  var projectedLen = dx * dx1 + dy * dy1;\n  var t = projectedLen / lineLen;\n  if (limitToEnds) {\n    t = Math.min(Math.max(t, 0), 1);\n  }\n  t *= lineLen;\n  var ox = out[0] = x1 + t * dx1;\n  var oy = out[1] = y1 + t * dy1;\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\nfunction projectPointToRect(x1, y1, width, height, x, y, out) {\n  if (width < 0) {\n    x1 = x1 + width;\n    width = -width;\n  }\n  if (height < 0) {\n    y1 = y1 + height;\n    height = -height;\n  }\n  var x2 = x1 + width;\n  var y2 = y1 + height;\n  var ox = out[0] = Math.min(Math.max(x, x1), x2);\n  var oy = out[1] = Math.min(Math.max(y, y1), y2);\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\nvar tmpPt = [];\nfunction nearestPointOnRect(pt, rect, out) {\n  var dist = projectPointToRect(rect.x, rect.y, rect.width, rect.height, pt.x, pt.y, tmpPt);\n  out.set(tmpPt[0], tmpPt[1]);\n  return dist;\n}\n/**\r\n * Calculate min distance corresponding point.\r\n * This method won't evaluate if point is in the path.\r\n */\nfunction nearestPointOnPath(pt, path, out) {\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n  var x1;\n  var y1;\n  var minDist = Infinity;\n  var data = path.data;\n  var x = pt.x;\n  var y = pt.y;\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++];\n    if (i === 1) {\n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n    var d = minDist;\n    switch (cmd) {\n      case CMD.M:\n        // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n        // 在 closePath 的时候使用\n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n      case CMD.L:\n        d = projectPointToLine(xi, yi, data[i], data[i + 1], x, y, tmpPt, true);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.C:\n        d = cubicProjectPoint(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.Q:\n        d = quadraticProjectPoint(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.A:\n        // TODO Arc 判断的开销比较大\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++];\n        // TODO Arc 旋转\n        i += 1;\n        var anticlockwise = !!(1 - data[i++]);\n        x1 = Math.cos(theta) * rx + cx;\n        y1 = Math.sin(theta) * ry + cy;\n        // 不是直接使用 arc 命令\n        if (i <= 1) {\n          // 第一个命令起点还未定义\n          x0 = x1;\n          y0 = y1;\n        }\n        // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放\n        var _x = (x - cx) * ry / rx + cx;\n        d = projectPointToArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y, tmpPt);\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        d = projectPointToRect(x0, y0, width, height, x, y, tmpPt);\n        break;\n      case CMD.Z:\n        d = projectPointToLine(xi, yi, x0, y0, x, y, tmpPt, true);\n        xi = x0;\n        yi = y0;\n        break;\n    }\n    if (d < minDist) {\n      minDist = d;\n      out.set(tmpPt[0], tmpPt[1]);\n    }\n  }\n  return minDist;\n}\n// Temporal variable for intermediate usage.\nvar pt0 = new Point();\nvar pt1 = new Point();\nvar pt2 = new Point();\nvar dir = new Point();\nvar dir2 = new Point();\n/**\r\n * Calculate a proper guide line based on the label position and graphic element definition\r\n * @param label\r\n * @param labelRect\r\n * @param target\r\n * @param targetRect\r\n */\nexport function updateLabelLinePoints(target, labelLineModel) {\n  if (!target) {\n    return;\n  }\n  var labelLine = target.getTextGuideLine();\n  var label = target.getTextContent();\n  // Needs to create text guide in each charts.\n  if (!(label && labelLine)) {\n    return;\n  }\n  var labelGuideConfig = target.textGuideLineConfig || {};\n  var points = [[0, 0], [0, 0], [0, 0]];\n  var searchSpace = labelGuideConfig.candidates || DEFAULT_SEARCH_SPACE;\n  var labelRect = label.getBoundingRect().clone();\n  labelRect.applyTransform(label.getComputedTransform());\n  var minDist = Infinity;\n  var anchorPoint = labelGuideConfig.anchor;\n  var targetTransform = target.getComputedTransform();\n  var targetInversedTransform = targetTransform && invert([], targetTransform);\n  var len = labelLineModel.get('length2') || 0;\n  if (anchorPoint) {\n    pt2.copy(anchorPoint);\n  }\n  for (var i = 0; i < searchSpace.length; i++) {\n    var candidate = searchSpace[i];\n    getCandidateAnchor(candidate, 0, labelRect, pt0, dir);\n    Point.scaleAndAdd(pt1, pt0, dir, len);\n    // Transform to target coord space.\n    pt1.transform(targetInversedTransform);\n    // Note: getBoundingRect will ensure the `path` being created.\n    var boundingRect = target.getBoundingRect();\n    var dist = anchorPoint ? anchorPoint.distance(pt1) : target instanceof Path ? nearestPointOnPath(pt1, target.path, pt2) : nearestPointOnRect(pt1, boundingRect, pt2);\n    // TODO pt2 is in the path\n    if (dist < minDist) {\n      minDist = dist;\n      // Transform back to global space.\n      pt1.transform(targetTransform);\n      pt2.transform(targetTransform);\n      pt2.toArray(points[0]);\n      pt1.toArray(points[1]);\n      pt0.toArray(points[2]);\n    }\n  }\n  limitTurnAngle(points, labelLineModel.get('minTurnAngle'));\n  labelLine.setShape({\n    points: points\n  });\n}\n// Temporal variable for the limitTurnAngle function\nvar tmpArr = [];\nvar tmpProjPoint = new Point();\n/**\r\n * Reduce the line segment attached to the label to limit the turn angle between two segments.\r\n * @param linePoints\r\n * @param minTurnAngle Radian of minimum turn angle. 0 - 180\r\n */\nexport function limitTurnAngle(linePoints, minTurnAngle) {\n  if (!(minTurnAngle <= 180 && minTurnAngle > 0)) {\n    return;\n  }\n  minTurnAngle = minTurnAngle / 180 * Math.PI;\n  // The line points can be\n  //      /pt1----pt2 (label)\n  //     /\n  // pt0/\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt0, pt1);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(dir2);\n  var minTurnAngleCos = Math.cos(minTurnAngle);\n  if (minTurnAngleCos < angleCos) {\n    // Smaller than minTurnAngle\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr);\n    // Calculate new projected length with limited minTurnAngle and get the new connect point\n    tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI - minTurnAngle));\n    // Limit the new calculated connect point between pt1 and pt2.\n    var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n    if (isNaN(t)) {\n      return;\n    }\n    if (t < 0) {\n      Point.copy(tmpProjPoint, pt1);\n    } else if (t > 1) {\n      Point.copy(tmpProjPoint, pt2);\n    }\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\n/**\r\n * Limit the angle of line and the surface\r\n * @param maxSurfaceAngle Radian of minimum turn angle. 0 - 180. 0 is same direction to normal. 180 is opposite\r\n */\nexport function limitSurfaceAngle(linePoints, surfaceNormal, maxSurfaceAngle) {\n  if (!(maxSurfaceAngle <= 180 && maxSurfaceAngle > 0)) {\n    return;\n  }\n  maxSurfaceAngle = maxSurfaceAngle / 180 * Math.PI;\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt1, pt0);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(surfaceNormal);\n  var maxSurfaceAngleCos = Math.cos(maxSurfaceAngle);\n  if (angleCos < maxSurfaceAngleCos) {\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr);\n    var HALF_PI = Math.PI / 2;\n    var angle2 = Math.acos(dir2.dot(surfaceNormal));\n    var newAngle = HALF_PI + angle2 - maxSurfaceAngle;\n    if (newAngle >= HALF_PI) {\n      // parallel\n      Point.copy(tmpProjPoint, pt2);\n    } else {\n      // Calculate new projected length with limited minTurnAngle and get the new connect point\n      tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI / 2 - newAngle));\n      // Limit the new calculated connect point between pt1 and pt2.\n      var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n      if (isNaN(t)) {\n        return;\n      }\n      if (t < 0) {\n        Point.copy(tmpProjPoint, pt1);\n      } else if (t > 1) {\n        Point.copy(tmpProjPoint, pt2);\n      }\n    }\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\nfunction setLabelLineState(labelLine, ignore, stateName, stateModel) {\n  var isNormal = stateName === 'normal';\n  var stateObj = isNormal ? labelLine : labelLine.ensureState(stateName);\n  // Make sure display.\n  stateObj.ignore = ignore;\n  // Set smooth\n  var smooth = stateModel.get('smooth');\n  if (smooth && smooth === true) {\n    smooth = 0.3;\n  }\n  stateObj.shape = stateObj.shape || {};\n  if (smooth > 0) {\n    stateObj.shape.smooth = smooth;\n  }\n  var styleObj = stateModel.getModel('lineStyle').getLineStyle();\n  isNormal ? labelLine.useStyle(styleObj) : stateObj.style = styleObj;\n}\nfunction buildLabelLinePath(path, shape) {\n  var smooth = shape.smooth;\n  var points = shape.points;\n  if (!points) {\n    return;\n  }\n  path.moveTo(points[0][0], points[0][1]);\n  if (smooth > 0 && points.length >= 3) {\n    var len1 = vector.dist(points[0], points[1]);\n    var len2 = vector.dist(points[1], points[2]);\n    if (!len1 || !len2) {\n      path.lineTo(points[1][0], points[1][1]);\n      path.lineTo(points[2][0], points[2][1]);\n      return;\n    }\n    var moveLen = Math.min(len1, len2) * smooth;\n    var midPoint0 = vector.lerp([], points[1], points[0], moveLen / len1);\n    var midPoint2 = vector.lerp([], points[1], points[2], moveLen / len2);\n    var midPoint1 = vector.lerp([], midPoint0, midPoint2, 0.5);\n    path.bezierCurveTo(midPoint0[0], midPoint0[1], midPoint0[0], midPoint0[1], midPoint1[0], midPoint1[1]);\n    path.bezierCurveTo(midPoint2[0], midPoint2[1], midPoint2[0], midPoint2[1], points[2][0], points[2][1]);\n  } else {\n    for (var i = 1; i < points.length; i++) {\n      path.lineTo(points[i][0], points[i][1]);\n    }\n  }\n}\n/**\r\n * Create a label line if necessary and set it's style.\r\n */\nexport function setLabelLineStyle(targetEl, statesModels, defaultStyle) {\n  var labelLine = targetEl.getTextGuideLine();\n  var label = targetEl.getTextContent();\n  if (!label) {\n    // Not show label line if there is no label.\n    if (labelLine) {\n      targetEl.removeTextGuideLine();\n    }\n    return;\n  }\n  var normalModel = statesModels.normal;\n  var showNormal = normalModel.get('show');\n  var labelIgnoreNormal = label.ignore;\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateName = DISPLAY_STATES[i];\n    var stateModel = statesModels[stateName];\n    var isNormal = stateName === 'normal';\n    if (stateModel) {\n      var stateShow = stateModel.get('show');\n      var isLabelIgnored = isNormal ? labelIgnoreNormal : retrieve2(label.states[stateName] && label.states[stateName].ignore, labelIgnoreNormal);\n      if (isLabelIgnored // Not show when label is not shown in this state.\n      || !retrieve2(stateShow, showNormal) // Use normal state by default if not set.\n      ) {\n        var stateObj = isNormal ? labelLine : labelLine && labelLine.states[stateName];\n        if (stateObj) {\n          stateObj.ignore = true;\n        }\n        if (!!labelLine) {\n          setLabelLineState(labelLine, true, stateName, stateModel);\n        }\n        continue;\n      }\n      // Create labelLine if not exists\n      if (!labelLine) {\n        labelLine = new Polyline();\n        targetEl.setTextGuideLine(labelLine);\n        // Reset state of normal because it's new created.\n        // NOTE: NORMAL should always been the first!\n        if (!isNormal && (labelIgnoreNormal || !showNormal)) {\n          setLabelLineState(labelLine, true, 'normal', statesModels.normal);\n        }\n        // Use same state proxy.\n        if (targetEl.stateProxy) {\n          labelLine.stateProxy = targetEl.stateProxy;\n        }\n      }\n      setLabelLineState(labelLine, false, stateName, stateModel);\n    }\n  }\n  if (labelLine) {\n    defaults(labelLine.style, defaultStyle);\n    // Not fill.\n    labelLine.style.fill = null;\n    var showAbove = normalModel.get('showAbove');\n    var labelLineConfig = targetEl.textGuideLineConfig = targetEl.textGuideLineConfig || {};\n    labelLineConfig.showAbove = showAbove || false;\n    // Custom the buildPath.\n    labelLine.buildPath = buildLabelLinePath;\n  }\n}\nexport function getLabelLineStatesModels(itemModel, labelLineName) {\n  labelLineName = labelLineName || 'labelLine';\n  var statesModels = {\n    normal: itemModel.getModel(labelLineName)\n  };\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelLineName]);\n  }\n  return statesModels;\n}"],"names":["cloneArr","points","newPoints","i","length","push","slice","prepareLayoutCallbackParams","labelItem","hostEl","label","labelLine","getTextGuideLine","dataIndex","dataType","seriesIndex","seriesModel","text","style","rect","hostRect","labelRect","align","verticalAlign","labelLinePoints","shape","LABEL_OPTION_TO_STYLE_KEYS","dummyTransformable","Transformable","labelLayoutInnerStore","makeInner","labelLineAnimationStore","extendWithKeys","target","source","keys","key","LABEL_LAYOUT_PROPS","LabelManager","this","_labelList","_chartViewList","prototype","clearLabels","_addLabel","layoutOption","labelStyle","textConfig","__hostTarget","labelTransform","getComputedTransform","getBoundingRect","plain","BoundingRect","applyTransform","setLocalTransform","x","y","rotation","originX","originY","scaleX","scaleY","normalizeRadian","host","transform","labelGuide","computedLayoutOption","priority","width","height","defaultAttr","ignore","labelGuideIgnore","fontSize","cursor","attachedPos","position","attachedRot","addLabelsOfSeries","chartView","_this","__model","get","isFunction","group","traverse","child","textEl","getTextContent","ecData","getECData","disableLabelLayout","updateLayoutConfig","api","getWidth","getHeight","createDragHandler","el","labelLineModel","updateLabelLinePoints","defaultLabelAttr","degreeToRadian","Math","PI","setTextConfig","local","rotate","offset","dx","dy","needsUpdateLabelLine","parsePercent","setStyle","guideLine","setShape","k","draggable","hostModel","getData","getItemModel","on","getModel","off","layout","labelList","prepareLayoutList","labelsNeedsAdjustOnX","filter","item","moveOverlap","labelsNeedsAdjustOnY","shiftLayoutOnX","shiftLayoutOnY","labelsNeedsHideOverlap","hideOverlap","processLabelsOverall","each","ignoreLabelLineUpdate","animationEnabled","isAnimationEnabled","forceLabelAnimation","_updateLabelLine","_animateLabels","data","itemModel","defaultStyle","visualStyle","getItemVisual","visualType","getVisual","stroke","setLabelLineStyle","getLabelLineStatesModels","invisible","disableLabelAnimation","isElementRemoved","oldLayout","layoutStore","newProps","attr","prevStates","indexOf","oldLayoutSelect","oldLayoutEmphasis","updateProps","labelInner","valueAnimation","oldOpacity","retrieve2","opacity","initProps","states","select","layoutSelect","emphasis","layoutEmphasis","animateLabelValue","newLayout","strokePercent","getLabelManager","installLabelLayout","registers","registerUpdateLifecycle","ecModel","params","labelManager","updatedSeries","forEach","series","getViewOfSeriesModel","PI2","CMD","PathProxy","DEFAULT_SEARCH_SPACE","getCandidateAnchor","pos","distance","outPt","outDir","set","projectPointToArc","cx","cy","r","startAngle","endAngle","anticlockwise","out","d","sqrt","ox","oy","abs","tmp","angle","atan2","x1","cos","y1","sin","x2","y2","d1","d2","projectPointToLine","limitToEnds","dx1","dy1","lineLen","t","min","max","projectPointToRect","tmpPt","nearestPointOnRect","pt","dist","nearestPointOnPath","path","xi","yi","x0","y0","minDist","Infinity","cmd","M","L","C","cubicProjectPoint","Q","quadraticProjectPoint","A","rx","ry","theta","dTheta","R","Z","pt0","Point","pt1","pt2","dir","dir2","labelGuideConfig","textGuideLineConfig","searchSpace","candidates","clone","anchorPoint","anchor","targetTransform","targetInversedTransform","invert","len","copy","scaleAndAdd","boundingRect","Path","toArray","limitTurnAngle","tmpArr","tmpProjPoint","linePoints","minTurnAngle","fromArray","sub","len1","len2","scale","angleCos","dot","tan","isNaN","limitSurfaceAngle","surfaceNormal","maxSurfaceAngle","HALF_PI","newAngle","acos","setLabelLineState","stateName","stateModel","isNormal","stateObj","ensureState","smooth","styleObj","getLineStyle","useStyle","buildLabelLinePath","moveTo","vector","lineTo","moveLen","midPoint0","midPoint2","midPoint1","bezierCurveTo","targetEl","statesModels","normalModel","normal","showNormal","labelIgnoreNormal","DISPLAY_STATES","stateShow","Polyline","setTextGuideLine","stateProxy","defaults","fill","showAbove","buildPath","removeTextGuideLine","labelLineName","SPECIAL_STATES"],"sourceRoot":""}