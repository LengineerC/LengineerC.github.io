"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[933],{933:(e,t,a)=>{a.d(t,{_:()=>T});var r=a(555),n=a(2759),o=a(9881),i=a(3821),l=a(8369),s=a(8893),u=a(7112),c=a(7653),d=a(2492),f=a(7533),y=a(220);function h(e){if(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].slice());return t}}function g(e,t){var a=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:h(r&&r.shape.points)}}var v=["align","verticalAlign","width","height","fontSize"],p=new s.Ay,b=(0,r.$r)(),x=(0,r.$r)();function L(e,t,a){for(var r=0;r<a.length;r++){var n=a[r];null!=t[n]&&(e[n]=t[n])}}var m=["x","y","rotation"];const A=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,a,r,o){var i=r.style,l=r.__hostTarget.textConfig||{},s=r.getComputedTransform(),u=r.getBoundingRect().plain();n.A.applyTransform(u,u,s),s?p.setLocalTransform(s):(p.x=p.y=p.rotation=p.originX=p.originY=0,p.scaleX=p.scaleY=1),p.rotation=(0,y.n)(p.rotation);var c,d=r.__hostTarget;if(d){c=d.getBoundingRect().plain();var f=d.getComputedTransform();n.A.applyTransform(c,c,f)}var h=c&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:h,seriesModel:a,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:h&&h.ignore,x:p.x,y:p.y,scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var a=e.__model,r=a.get("labelLayout");((0,c.Tn)(r)||(0,c.HP)(r).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var n=e.getTextContent(),o=(0,i.z)(e);n&&!n.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,a,n,r)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),a=e.getHeight();function r(e,t){return function(){(0,u.lB)(e,t)}}for(var n=0;n<this._labelList.length;n++){var o=this._labelList[n],i=o.label,s=i.__hostTarget,d=o.defaultAttr,f=void 0;f=(f=(0,c.Tn)(o.layoutOption)?o.layoutOption(g(o,s)):o.layoutOption)||{},o.computedLayoutOption=f;var y=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=f.x||null!=f.y?null:d.attachedPos,rotation:null!=f.rotate?f.rotate*y:d.attachedRot,offset:[f.dx||0,f.dy||0]});var h=!1;if(null!=f.x?(i.x=(0,l.lo)(f.x,t),i.setStyle("x",0),h=!0):(i.x=d.x,i.setStyle("x",d.style.x)),null!=f.y?(i.y=(0,l.lo)(f.y,a),i.setStyle("y",0),h=!0):(i.y=d.y,i.setStyle("y",d.style.y)),f.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:f.labelLinePoints}),h=!1)}b(i).needsUpdateLabelLine=h,i.rotation=null!=f.rotate?f.rotate*y:d.rotation,i.scaleX=d.scaleX,i.scaleY=d.scaleY;for(var x=0;x<v.length;x++){var L=v[x];i.setStyle(L,null!=f[L]?f[L]:d.style[L])}if(f.draggable){if(i.draggable=!0,i.cursor="move",s){var m=o.seriesModel;if(null!=o.dataIndex)m=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);i.on("drag",r(s,m.getModel("labelLine")))}}else i.off("drag"),i.cursor=d.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),a=e.getHeight(),r=(0,d.os)(this._labelList),n=(0,c.pb)(r,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),o=(0,c.pb)(r,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));(0,d.QX)(n,0,t),(0,d.Xe)(o,0,a);var i=(0,c.pb)(r,(function(e){return e.layoutOption.hideOverlap}));(0,d.If)(i)},e.prototype.processLabelsOverall=function(){var e=this;(0,c.__)(this._chartViewList,(function(t){var a=t.__model,r=t.ignoreLabelLineUpdate,n=a.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var o=!r,i=t.getTextContent();!o&&i&&(o=b(i).needsUpdateLabelLine),o&&e._updateLabelLine(t,a),n&&e._animateLabels(t,a)}))}))},e.prototype._updateLabelLine=function(e,t){var a=e.getTextContent(),r=(0,i.z)(e),n=r.dataIndex;if(a&&null!=n){var o=t.getData(r.dataType),l=o.getItemModel(n),s={},c=o.getItemVisual(n,"style");if(c){var d=o.getVisual("drawType");s.stroke=c[d]}var f=l.getModel("labelLine");(0,u.eR)(e,(0,u.rv)(l),s),(0,u.lB)(e,f)}},e.prototype._animateLabels=function(e,t){var a=e.getTextContent(),r=e.getTextGuideLine();if(a&&(e.forceLabelAnimation||!a.ignore&&!a.invisible&&!e.disableLabelAnimation&&!(0,o.LR)(e))){var n=(p=b(a)).oldLayout,l=(0,i.z)(e),s=l.dataIndex,u={x:a.x,y:a.y,rotation:a.rotation},d=t.getData(l.dataType);if(n){a.attr(n);var y=e.prevStates;y&&((0,c.qh)(y,"select")>=0&&a.attr(p.oldLayoutSelect),(0,c.qh)(y,"emphasis")>=0&&a.attr(p.oldLayoutEmphasis)),(0,o.oi)(a,u,t,s)}else if(a.attr(u),!(0,f.Lu)(a).valueAnimation){var h=(0,c.bZ)(a.style.opacity,1);a.style.opacity=0,(0,o.LW)(a,{style:{opacity:h}},t,s)}if(p.oldLayout=u,a.states.select){var g=p.oldLayoutSelect={};L(g,u,m),L(g,a.states.select,m)}if(a.states.emphasis){var v=p.oldLayoutEmphasis={};L(v,u,m),L(v,a.states.emphasis,m)}(0,f.xb)(a,s,d,t,t)}if(r&&!r.ignore&&!r.invisible){n=(p=x(r)).oldLayout;var p,A={points:r.shape.points};n?(r.attr({shape:n}),(0,o.oi)(r,{shape:A},t)):(r.setShape(A),r.style.strokePercent=0,(0,o.LW)(r,{style:{strokePercent:1}},t)),p.oldLayout=A}},e}();var M=(0,r.$r)();function T(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,a){var r=M(t).labelManager;r||(r=M(t).labelManager=new A),r.clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,a){var r=M(t).labelManager;a.updatedSeries.forEach((function(e){r.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()}))}},7112:(e,t,a)=>{a.d(t,{QK:()=>O,YI:()=>k,eR:()=>V,lB:()=>I,rv:()=>B});var r=a(3631),n=a(6504),o=a(82),i=a(8944),l=a(220),s=a(2042),u=a(7653),c=a(5472),d=a(2278),f=a(6402),y=2*Math.PI,h=i.A.CMD,g=["top","right","bottom","left"];function v(e,t,a,r,n){var o=a.width,i=a.height;switch(e){case"top":r.set(a.x+o/2,a.y-t),n.set(0,-1);break;case"bottom":r.set(a.x+o/2,a.y+i+t),n.set(0,1);break;case"left":r.set(a.x-t,a.y+i/2),n.set(-1,0);break;case"right":r.set(a.x+o+t,a.y+i/2),n.set(1,0)}}function p(e,t,a,r,n,o,i,s,u){i-=e,s-=t;var c=Math.sqrt(i*i+s*s),d=(i/=c)*a+e,f=(s/=c)*a+t;if(Math.abs(r-n)%y<1e-4)return u[0]=d,u[1]=f,c-a;if(o){var h=r;r=(0,l.n)(n),n=(0,l.n)(h)}else r=(0,l.n)(r),n=(0,l.n)(n);r>n&&(n+=y);var g=Math.atan2(s,i);if(g<0&&(g+=y),g>=r&&g<=n||g+y>=r&&g+y<=n)return u[0]=d,u[1]=f,c-a;var v=a*Math.cos(r)+e,p=a*Math.sin(r)+t,b=a*Math.cos(n)+e,x=a*Math.sin(n)+t,L=(v-i)*(v-i)+(p-s)*(p-s),m=(b-i)*(b-i)+(x-s)*(x-s);return L<m?(u[0]=v,u[1]=p,Math.sqrt(L)):(u[0]=b,u[1]=x,Math.sqrt(m))}function b(e,t,a,r,n,o,i,l){var s=n-e,u=o-t,c=a-e,d=r-t,f=Math.sqrt(c*c+d*d),y=(s*(c/=f)+u*(d/=f))/f;l&&(y=Math.min(Math.max(y,0),1)),y*=f;var h=i[0]=e+y*c,g=i[1]=t+y*d;return Math.sqrt((h-n)*(h-n)+(g-o)*(g-o))}function x(e,t,a,r,n,o,i){a<0&&(e+=a,a=-a),r<0&&(t+=r,r=-r);var l=e+a,s=t+r,u=i[0]=Math.min(Math.max(n,e),l),c=i[1]=Math.min(Math.max(o,t),s);return Math.sqrt((u-n)*(u-n)+(c-o)*(c-o))}var L=[];function m(e,t,a){var r=x(t.x,t.y,t.width,t.height,e.x,e.y,L);return a.set(L[0],L[1]),r}function A(e,t,a){for(var r,n,o=0,i=0,l=0,u=0,c=1/0,d=t.data,f=e.x,y=e.y,g=0;g<d.length;){var v=d[g++];1===g&&(l=o=d[g],u=i=d[g+1]);var m=c;switch(v){case h.M:o=l=d[g++],i=u=d[g++];break;case h.L:m=b(o,i,d[g],d[g+1],f,y,L,!0),o=d[g++],i=d[g++];break;case h.C:m=(0,s.Et)(o,i,d[g++],d[g++],d[g++],d[g++],d[g],d[g+1],f,y,L),o=d[g++],i=d[g++];break;case h.Q:m=(0,s.kh)(o,i,d[g++],d[g++],d[g],d[g+1],f,y,L),o=d[g++],i=d[g++];break;case h.A:var A=d[g++],M=d[g++],T=d[g++],w=d[g++],_=d[g++],C=d[g++];g+=1;var I=!!(1-d[g++]);r=Math.cos(_)*T+A,n=Math.sin(_)*w+M,g<=1&&(l=r,u=n),m=p(A,M,w,_,_+C,I,(f-A)*w/T+A,y,L),o=Math.cos(_+C)*T+A,i=Math.sin(_+C)*w+M;break;case h.R:m=x(l=o=d[g++],u=i=d[g++],d[g++],d[g++],f,y,L);break;case h.Z:m=b(o,i,l,u,f,y,L,!0),o=l,i=u}m<c&&(c=m,a.set(L[0],L[1]))}return c}var M=new r.A,T=new r.A,w=new r.A,_=new r.A,C=new r.A;function I(e,t){if(e){var a=e.getTextGuideLine(),o=e.getTextContent();if(o&&a){var i=e.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],s=i.candidates||g,u=o.getBoundingRect().clone();u.applyTransform(o.getComputedTransform());var d=1/0,f=i.anchor,y=e.getComputedTransform(),h=y&&(0,c.B8)([],y),p=t.get("length2")||0;f&&w.copy(f);for(var b=0;b<s.length;b++){v(s[b],0,u,M,_),r.A.scaleAndAdd(T,M,_,p),T.transform(h);var x=e.getBoundingRect(),L=f?f.distance(T):e instanceof n.Ay?A(T,e.path,w):m(T,x,w);L<d&&(d=L,T.transform(y),w.transform(y),w.toArray(l[0]),T.toArray(l[1]),M.toArray(l[2]))}k(l,t.get("minTurnAngle")),a.setShape({points:l})}}}var S=[],P=new r.A;function k(e,t){if(t<=180&&t>0){t=t/180*Math.PI,M.fromArray(e[0]),T.fromArray(e[1]),w.fromArray(e[2]),r.A.sub(_,M,T),r.A.sub(C,w,T);var a=_.len(),n=C.len();if(!(a<.001||n<.001)){_.scale(1/a),C.scale(1/n);var o=_.dot(C);if(Math.cos(t)<o){var i=b(T.x,T.y,w.x,w.y,M.x,M.y,S,!1);P.fromArray(S),P.scaleAndAdd(C,i/Math.tan(Math.PI-t));var l=w.x!==T.x?(P.x-T.x)/(w.x-T.x):(P.y-T.y)/(w.y-T.y);if(isNaN(l))return;l<0?r.A.copy(P,T):l>1&&r.A.copy(P,w),P.toArray(e[1])}}}}function O(e,t,a){if(a<=180&&a>0){a=a/180*Math.PI,M.fromArray(e[0]),T.fromArray(e[1]),w.fromArray(e[2]),r.A.sub(_,T,M),r.A.sub(C,w,T);var n=_.len(),o=C.len();if(!(n<.001||o<.001))if(_.scale(1/n),C.scale(1/o),_.dot(t)<Math.cos(a)){var i=b(T.x,T.y,w.x,w.y,M.x,M.y,S,!1);P.fromArray(S);var l=Math.PI/2,s=l+Math.acos(C.dot(t))-a;if(s>=l)r.A.copy(P,w);else{P.scaleAndAdd(C,i/Math.tan(Math.PI/2-s));var u=w.x!==T.x?(P.x-T.x)/(w.x-T.x):(P.y-T.y)/(w.y-T.y);if(isNaN(u))return;u<0?r.A.copy(P,T):u>1&&r.A.copy(P,w)}P.toArray(e[1])}}}function R(e,t,a,r){var n="normal"===a,o=n?e:e.ensureState(a);o.ignore=t;var i=r.get("smooth");i&&!0===i&&(i=.3),o.shape=o.shape||{},i>0&&(o.shape.smooth=i);var l=r.getModel("lineStyle").getLineStyle();n?e.useStyle(l):o.style=l}function G(e,t){var a=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),a>0&&r.length>=3){var n=d.xg(r[0],r[1]),o=d.xg(r[1],r[2]);if(!n||!o)return e.lineTo(r[1][0],r[1][1]),void e.lineTo(r[2][0],r[2][1]);var i=Math.min(n,o)*a,l=d.Cc([],r[1],r[0],i/n),s=d.Cc([],r[1],r[2],i/o),u=d.Cc([],l,s,.5);e.bezierCurveTo(l[0],l[1],l[0],l[1],u[0],u[1]),e.bezierCurveTo(s[0],s[1],s[0],s[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function V(e,t,a){var r=e.getTextGuideLine(),n=e.getTextContent();if(n){for(var i=t.normal,l=i.get("show"),s=n.ignore,c=0;c<f.wV.length;c++){var d=f.wV[c],y=t[d],h="normal"===d;if(y){var g=y.get("show");if((h?s:(0,u.bZ)(n.states[d]&&n.states[d].ignore,s))||!(0,u.bZ)(g,l)){var v=h?r:r&&r.states[d];v&&(v.ignore=!0),r&&R(r,!0,d,y);continue}r||(r=new o.A,e.setTextGuideLine(r),h||!s&&l||R(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),R(r,!1,d,y)}}if(r){(0,u.NT)(r.style,a),r.style.fill=null;var p=i.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=p||!1,r.buildPath=G}}else r&&e.removeTextGuideLine()}function B(e,t){t=t||"labelLine";for(var a={normal:e.getModel(t)},r=0;r<f.BV.length;r++){var n=f.BV[r];a[n]=e.getModel([n,t])}return a}}}]);
//# sourceMappingURL=933.0c2095bd.chunk.js.map