{"version":3,"file":"static/js/727.5293ab22.chunk.js","mappings":"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","sources":["components/Category/index.tsx","components/MDRenderer/index.tsx","components/Tag/index.tsx","pages/Post/TOC/MarkdownNavBar/index.jsx","pages/Post/TOC/index.tsx","pages/Post/LockCard/index.tsx","pages/Post/index.tsx"],"sourcesContent":["import { NavLink } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faBookmark } from \"@fortawesome/free-solid-svg-icons\"\r\n\r\nimport \"./index.scss\"\r\n\r\ntype Props = {\r\n    category:string,\r\n}\r\n\r\nexport default function Category({category}: Props) {\r\n  return (\r\n    <div className='category-main'>\r\n      <NavLink to={`/categories/${category}`} style={{ textDecoration: \"none\" }}>\r\n        <div className='category-container'>\r\n          <FontAwesomeIcon icon={faBookmark}/>\r\n          <span style={{marginLeft:\"5px\"}}>{category}</span>\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}","import {useEffect, useState} from 'react'\r\nimport { Marked } from 'marked'\r\nimport { markedHighlight } from 'marked-highlight'\r\nimport hljs from 'highlight.js'\r\nimport markedKatex from 'marked-katex-extension'\r\n\r\nimport \"highlight.js/scss/atom-one-dark.scss\"\r\nimport \"./index.scss\"\r\n// import store from '../../redux/store'\r\n// import { saveSelectedPostHtml } from '../../redux/actions'\r\n// import './hljs.scss'\r\n\r\ntype Props = {\r\n  markdown: string,\r\n  limit?:number,\r\n  showLimitContent:boolean,\r\n  darkMode:boolean,\r\n}\r\n\r\nconst marked = new Marked(\r\n  markedHighlight({\r\n    langPrefix: 'hljs language-',\r\n    highlight(code, lang, info) {\r\n      const language = hljs.getLanguage(lang) ? lang : 'plaintext';\r\n      const highlightedCode= hljs.highlight(code, { language }).value;\r\n      // return `<pre data-lang=\"${language}\"><code class=\"hljs ${language}\">${highlightedCode}</code></pre>`;\r\n      // return `<code class=\"hljs ${language}>${highlightedCode}</code>`\r\n      return highlightedCode;\r\n    }\r\n  }),\r\n);\r\nmarked.use(markedKatex());\r\n\r\n// 用于自定义目录跳转，使用markdown-navbar可删\r\n// let headerIndex = 0;\r\n// marked.use({\r\n//   extensions:[\r\n//     {\r\n//       name:\"heading\",\r\n//       renderer(token){\r\n//         return `<h${token.depth} id=\"heading-${headerIndex++}\">${token.text}</h${token.depth}>`\r\n//       }\r\n//     },\r\n//   ]\r\n// })\r\n\r\nexport default function MDRenderer({ markdown,limit=100,showLimitContent,darkMode }: Props) {\r\n  const [content, setContent] = useState<any>('');\r\n\r\n  useEffect(() => {\r\n    // 去掉 yaml front matter\r\n    let cleanedMarkdown: string = markdown.replace(/^-{3}[\\s\\S]*?-{3}/, '');\r\n    \r\n    if (showLimitContent && markdown!=='') {\r\n      // 移除 HTML 标签\r\n      let plainText = cleanedMarkdown.replace(/<[^>]*>/g, '');\r\n      // console.log(plainText);\r\n\r\n      if (plainText.length > limit) {\r\n        plainText = plainText.substring(0, limit) + '...';\r\n        // console.log(plainText);\r\n        \r\n      }\r\n      setContent(plainText);\r\n    } else {\r\n      // pre标签添加hljs标签，匹配自定义hljs样式\r\n      // let html = marked.parse(cleanedMarkdown).toString().replace(/<pre>/g,\"<pre id='hljs'>\");\r\n      \r\n      let html = marked.parse(cleanedMarkdown) as string;\r\n      // console.log(html);\r\n\r\n      //如果自实现目录取消注释\r\n      // store.dispatch(saveSelectedPostHtml(html));\r\n      \r\n      setContent(html);\r\n    }\r\n  }, [markdown, limit, showLimitContent]);\r\n\r\n  return (\r\n    <div className={showLimitContent?\"\":`${darkMode?'markdown-body-dark':'markdown-body'}`}>\r\n      {showLimitContent ? (\r\n        <div>{content}</div> \r\n      ) : (\r\n        <div dangerouslySetInnerHTML={{ __html: content }} /> \r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import {useEffect, useState} from 'react'\r\n\r\nimport \"./index.scss\"\r\nimport { NavLink } from 'react-router-dom'\r\n\r\ntype Props = {\r\n  tag: string,\r\n  reload?:boolean,\r\n}\r\n\r\nexport default function Tag({ tag,reload=false }: Props) {\r\n  const [bgColor,setBgColor]=useState<number>(0)\r\n\r\n  useEffect(()=>{\r\n    let color=Math.floor(Math.random()*3);\r\n    // console.log(color);\r\n    setBgColor(color)\r\n    \r\n  },[])\r\n\r\n  const colorChooser=(color:number):string=>{\r\n    let style=\"tag-bg-color-\";\r\n    return style+color;\r\n  }\r\n\r\n  const reloadPage=()=>{\r\n    if(reload){\r\n      window.location.reload();\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"tag-main\">\r\n      <NavLink onClick={reloadPage} to={`/tags/${tag}`} style={{ textDecoration: \"none\" }}>\r\n        <div className={colorChooser(bgColor)}>\r\n          {tag}\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { throttle } from 'lodash';\r\n\r\n/**\r\n * 个人修改后的MarkdownNavbar，以适配HashRoute\r\n * \r\n * 仓库原链接 {@link https://github.com/parksben/markdown-navbar/tree/master MarkdownNavbar}\r\n * \r\n * 遵循MIT Licens\r\n */\r\nexport class MarkdownNavbar extends Component {\r\n  static propTypes = {\r\n    source: PropTypes.string.isRequired,\r\n    ordered: PropTypes.bool,\r\n    headingTopOffset: PropTypes.number,\r\n    updateHashAuto: PropTypes.bool,\r\n    declarative: PropTypes.bool,\r\n    className: PropTypes.string,\r\n    onNavItemClick: PropTypes.func,\r\n    onHashChange: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    source: '',\r\n    ordered: true,\r\n    headingTopOffset: 0,\r\n    updateHashAuto: true,\r\n    declarative: false,\r\n    className: '',\r\n    onNavItemClick: () => { },\r\n    onHashChange: () => { },\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentListNo: '',\r\n      navStructure: []\r\n    };\r\n  }\r\n\r\n  safeScrollTo(element, top, left = 0, smooth) {\r\n    if (!element) return\r\n    if (typeof element.scrollTo === 'function') {\r\n      const scrollConfig = {\r\n        top,\r\n        left,\r\n      }\r\n      if (smooth) {\r\n        scrollConfig.behavior = \"smooth\"\r\n      }\r\n      element.scrollTo(scrollConfig)\r\n    } else {\r\n      if (element === window) {\r\n        document.documentElement.scrollTop = top\r\n        document.documentElement.scrollLeft = left\r\n      } else {\r\n        element.scrollTop = top\r\n        element.scrollLeft = left\r\n      }\r\n    }\r\n  }\r\n  refreshNav(source) {\r\n    if (this.addTargetTimeout) {\r\n      clearTimeout(this.addTargetTimeout);\r\n    }\r\n    const currentListNo=this.state.currentListNo;\r\n\r\n    this.setState({ navStructure: this.getNavStructure(source) }, () => {\r\n      this.addTargetTimeout = setTimeout(() => {\r\n        this.initHeadingsId();\r\n\r\n          if(currentListNo) {\r\n            this.setState({currentListNo:currentListNo})\r\n          }\r\n          else if (this.state.navStructure.length) {\r\n            // console.log(this.state.navStructure);\r\n\r\n            const { listNo } = this.state.navStructure[0]\r\n            this.setState({\r\n              currentListNo: listNo\r\n            })\r\n          }\r\n        document.addEventListener('scroll', this.winScroll, false);\r\n        window.addEventListener('hashchange', this.winHashChange, false);\r\n      }, 500);\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 初始化列表数据\r\n    const { source } = this.props\r\n\r\n    this.refreshNav(source)\r\n  }\r\n  componentWillReceiveProps(newProps) {\r\n    // 复用时开启，用于在source更新时刷新列表\r\n    const { source } = newProps\r\n    // if(source!=source)\r\n    this.refreshNav(source)\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    if (nextProps.source !== this.props.source) {\r\n      if (this.scrollEventLockTimer) {\r\n        clearTimeout(this.scrollEventLockTimer);\r\n      }\r\n      this.scrollEventLock = true;\r\n\r\n      this.safeScrollTo(window, 0, 0)\r\n      this.safeScrollTo(this.refs.container, 0, 0)\r\n      this.setState({\r\n        currentListNo: '',\r\n      });\r\n      const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');\r\n      Array.prototype.slice.apply(headings).forEach((h) => (h.dataset.id = ''));\r\n\r\n      this.scrollEventLockTimer = setTimeout(() => {\r\n        this.initHeadingsId();\r\n        this.scrollEventLock = false;\r\n      }, 500);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.addTargetTimeout) {\r\n      clearTimeout(this.addTargetTimeout);\r\n    }\r\n    if (this.scrollTimeout) {\r\n      clearTimeout(this.scrollTimeout);\r\n    }\r\n    document.removeEventListener('scroll', this.winScroll, false);\r\n    window.removeEventListener('hashchange', this.winHashChange, false);\r\n  }\r\n  trimArrZero(arr) {\r\n    let start, end\r\n    for (start = 0; start < arr.length; start++) {\r\n      if (arr[start]) {\r\n        break\r\n      }\r\n    }\r\n    for (end = arr.length - 1; end >= 0; end--) {\r\n      if (arr[end]) {\r\n        break\r\n      }\r\n    }\r\n    return arr.slice(start, end + 1)\r\n  }\r\n\r\n  getNavStructure(source) {\r\n    const contentWithoutCode = source\r\n      ?.replace(/^[^#]+\\n/g, '')\r\n      .replace(/(?:[^\\n#]+)#+\\s([^#\\n]+)\\n*/g, '') // 匹配行内出现 # 号的情况\r\n      .replace(/^#\\s[^#\\n]*\\n+/, '')\r\n      .replace(/```[^`\\n]*\\n+[^```]+```\\n+/g, '')\r\n      .replace(/`([^`\\n]+)`/g, '$1')\r\n      .replace(/\\*\\*?([^*\\n]+)\\*\\*?/g, '$1')\r\n      .replace(/__?([^_\\n]+)__?/g, '$1')\r\n      .trim();\r\n\r\n    const pattOfTitle = /#+\\s([^#\\n]+)\\n*/g;\r\n    const matchResult = contentWithoutCode?.match(pattOfTitle);\r\n\r\n    if (!matchResult) {\r\n      return [];\r\n    }\r\n\r\n    const navData = matchResult.map((r, i) => ({\r\n      index: i,\r\n      level: r.match(/^#+/g)[0].length,\r\n      text: r.replace(pattOfTitle, '$1'),\r\n    }));\r\n\r\n    let maxLevel = 0;\r\n    navData.forEach((t) => {\r\n      if (t.level > maxLevel) {\r\n        maxLevel = t.level\r\n      }\r\n    })\r\n    let matchStack = [];\r\n    // 此部分重构，原有方法会出现次级标题后再次出现高级标题时，listNo重复的bug\r\n    for (let i = 0; i < navData.length; i++) {\r\n      const t = navData[i];\r\n      const { level } = t\r\n      while (matchStack.length && matchStack[matchStack.length - 1].level > level) {\r\n        matchStack.pop();\r\n      }\r\n      if (matchStack.length === 0) {\r\n        const arr = new Array(maxLevel).fill(0);\r\n        arr[level - 1] += 1;\r\n        matchStack.push({\r\n          level,\r\n          arr,\r\n        })\r\n        t.listNo = this.trimArrZero(arr).join(\".\")\r\n        continue;\r\n      }\r\n      const { arr } = matchStack[matchStack.length - 1];\r\n      const newArr = arr.slice()\r\n      newArr[level - 1] += 1;\r\n      matchStack.push({\r\n        level,\r\n        arr: newArr\r\n      })\r\n      t.listNo = this.trimArrZero(newArr).join(\".\")\r\n    };\r\n    return navData;\r\n  }\r\n\r\n  scrollToTarget(dataId) {\r\n    if (this.scrollTimeout) {\r\n      clearTimeout(this.scrollTimeout);\r\n    }\r\n\r\n    this.scrollTimeout = setTimeout(() => {\r\n      const target = document.querySelector(`[data-id=\"${dataId}\"]`);\r\n      if (target && typeof target.offsetTop === 'number') {\r\n        this.safeScrollTo(window, target.offsetTop - this.props.headingTopOffset, 0)\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  initHeadingsId() {\r\n    const headingId = decodeURIComponent(\r\n      this.props.declarative\r\n        ? window.location.hash.replace(/^#/, '').trim()\r\n        : (window.location.hash.match(/heading-\\d+/g) || [])[0]\r\n    );\r\n\r\n    this.state.navStructure.forEach((t) => {\r\n      const headings = document.querySelectorAll(`h${t.level}`);\r\n      const curHeading = Array.prototype.slice\r\n        .apply(headings)\r\n        .find(\r\n          (h) =>\r\n            h.innerText.trim() === t.text.trim() &&\r\n            (!h.dataset || !h.dataset.id)\r\n        );\r\n\r\n      if (curHeading) {\r\n        curHeading.dataset.id = this.props.declarative\r\n          ? `${t.listNo}-${t.text}`\r\n          : `heading-${t.index}`;\r\n\r\n        if (headingId && headingId === curHeading.dataset.id) {\r\n          this.scrollToTarget(headingId);\r\n          this.setState({\r\n            currentListNo: t.listNo,\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getHeadingList() {\r\n    const headingList = [];\r\n\r\n    this.state.navStructure.forEach((t) => {\r\n      const headings = document.querySelectorAll(`h${t.level}`);\r\n      const curHeading = Array.prototype.slice\r\n        .apply(headings)\r\n        .find(\r\n          (h) =>\r\n            h.innerText.trim() === t.text.trim() &&\r\n            !headingList.find((x) => x.offsetTop === h.offsetTop)\r\n        );\r\n      if (curHeading) {\r\n        headingList.push({\r\n          dataId: this.props.declarative ? t.text : `heading-${t.index}`,\r\n          listNo: t.listNo,\r\n          offsetTop: curHeading.offsetTop,\r\n        });\r\n      }\r\n    });\r\n\r\n    return headingList;\r\n  }\r\n\r\n  getCurrentHashValue = () =>\r\n    decodeURIComponent(window.location.hash.replace(/^#/, ''));\r\n\r\n  winScroll = throttle(() => {\r\n    if (this.scrollEventLock) return;\r\n\r\n    const scrollTop =\r\n      window.pageYOffset ||\r\n      document.documentElement.scrollTop ||\r\n      document.body.scrollTop ||\r\n      0;\r\n\r\n    const newHeadingList = this.getHeadingList().map((h) => ({\r\n      ...h,\r\n      distanceToTop: Math.abs(\r\n        scrollTop + this.props.headingTopOffset - h.offsetTop\r\n      ),\r\n    }));\r\n    const distanceList = newHeadingList.map((h) => h.distanceToTop);\r\n    const minDistance = Math.min(...distanceList);\r\n    const curHeading = newHeadingList.find(\r\n      (h) => h.distanceToTop === minDistance\r\n    );\r\n\r\n    if (!curHeading) return;\r\n\r\n    if (this.props.updateHashAuto) {\r\n      // Hash changing callback\r\n      if (curHeading.dataId !== this.getCurrentHashValue()) {\r\n        this.props.onHashChange(curHeading.dataId, this.getCurrentHashValue());\r\n      }\r\n\r\n      this.updateHash(curHeading.dataId);\r\n    }\r\n    // const currentNavElement=document.querySelector(\".active\");\r\n\r\n    // if (currentNavElement) {\r\n    //   const { container } = this.refs\r\n    //   const { offsetTop } = currentNavElement\r\n    //   const { scrollTop: containerScrollTop, offsetHeight: containerOffsetHeight } = container\r\n    //   const min = containerScrollTop + 0.3 * containerOffsetHeight\r\n    //   const max = containerScrollTop + 0.7 * containerOffsetHeight\r\n    //   if (offsetTop < min || offsetTop > max) {\r\n    //     const targetTop = offsetTop - 0.2 * containerOffsetHeight\r\n    //     this.safeScrollTo(container, targetTop, 0, true)\r\n    //   }\r\n    // }\r\n    this.setState({\r\n      currentListNo: curHeading.listNo,\r\n    });\r\n  }, 300);\r\n\r\n  winHashChange = () => {\r\n    this.scrollToTarget(this.state.navStructure);\r\n  };\r\n\r\n  updateHash(value) {\r\n    // if (this.updateHashTimeout) {\r\n    //   clearTimeout(this.updateHashTimeout);\r\n    // }\r\n\r\n    // const baseUrl=window.location.href.replace(/(?<=#)[^/]*/g,'');\r\n\r\n    // this.updateHashTimeout = setTimeout(() => {\r\n    //   window.history.replaceState(\r\n    //     {},\r\n    //     '',\r\n    //     `${window.location.pathname}${window.location.search}#${value}`\r\n    //   );\r\n\r\n    //   window.history.replaceState(null,\"\",baseUrl+value);\r\n    // }, 0);\r\n  }\r\n\r\n  render() {\r\n    const {source}=this.props;\r\n    const tBlocks = this.getNavStructure(source).map((t) => {\r\n      const cls = `title-anchor title-level${t.level} ${this.state.currentListNo === t.listNo ? 'active' : ''\r\n        }`;\r\n\r\n      return (\r\n        <div\r\n          className={cls}\r\n          onClick={(evt) => {\r\n            const currentHash = this.props.declarative\r\n              ? `${t.listNo}-${t.text}` // 加入listNo确保hash唯一ZZ\r\n              : `heading-${t.index}`;\r\n\r\n            // Avoid execution the callback `onHashChange` when clicking current nav item\r\n            if (t.listNo !== this.state.currentListNo) {\r\n              // Hash changing callback\r\n              this.props.onHashChange(currentHash, this.getCurrentHashValue());\r\n            }\r\n\r\n            // Nav item clicking callback\r\n            this.props.onNavItemClick(evt, evt.target, currentHash);\r\n\r\n            this.updateHash(currentHash);\r\n            this.scrollToTarget(currentHash);\r\n            this.setState({\r\n              currentListNo: t.listNo,\r\n            });\r\n          }}\r\n          key={`title_anchor_${Math.random().toString(36).substring(2)}`}>\r\n          {this.props.ordered ? <small>{t.listNo}</small> : null}\r\n          {t.text}\r\n        </div>);\r\n    });\r\n\r\n    return (\r\n      <div className={`markdown-navigation ${this.props.className}`}>\r\n        {tBlocks}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MarkdownNavbar;","// import { useEffect, useRef, useState } from 'react'\r\nimport Card from '../../../components/Card'\r\n// import store from '../../../redux/store'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faList } from '@fortawesome/free-solid-svg-icons'\r\n// import { TOC_HEADING_CONFIG, MAX_TOC_HEADING } from '../../../utils/constants'\r\nimport MarkdownNavbar from './MarkdownNavBar/index'\r\n// import MarkdownNavbar from 'markdown-navbar'\r\nimport { ConfigProvider, Drawer } from 'antd'\r\nimport { useEffect, useState } from 'react'\r\nimport { MOBILE_MAX_WIDTH } from '../../../utils/constants'\r\nimport store from '../../../redux/store'\r\nimport { useAppSelector } from '../../../redux/hooks'\r\n\r\nimport \"./index.scss\"\r\n\r\n//#region 手动实现 有bug\r\n// type Props={\r\n//   markdown:'';\r\n// }\r\n\r\n// type TOCItem={\r\n//   level: number,\r\n//   text: string,\r\n//   anchor: string,\r\n// }\r\n\r\n// export default function TOC() {\r\n//   const [TOCItems,setTOCItems]=useState<TOCItem[]>([]);\r\n//   const [activeId,setActiveId]=useState<string>();\r\n//   // const {activeId}=useHeadingObserver();\r\n\r\n//   const generateToc=(html:string)=>{\r\n//     const parser=new DOMParser();\r\n//     const doc=parser.parseFromString(html,\"text/html\");\r\n//     // console.log(doc);\r\n//     const headings=doc.querySelectorAll(TOC_HEADING_CONFIG);\r\n//     const toc:TOCItem[]=[];\r\n//     headings.forEach(heading=>{\r\n//       const level=parseInt(heading.tagName[1]);\r\n//       const text=heading.textContent || '';\r\n//       const anchor=heading.id;\r\n//       toc.push({level,text,anchor});\r\n//     })\r\n//     // console.log(headings);\r\n//     return toc;\r\n//   }\r\n\r\n//   useEffect(()=>{\r\n//     //调用两次防止bug\r\n//     const {selectedPostHtmlReducer}=store.getState();\r\n//     const toc=generateToc(selectedPostHtmlReducer);\r\n//     setTOCItems(toc);\r\n    \r\n//     const unsubscribe=store.subscribe(()=>{\r\n//       const {selectedPostHtmlReducer}=store.getState();\r\n//       if(selectedPostHtmlReducer!==''){\r\n//         const toc=generateToc(selectedPostHtmlReducer);\r\n//         setTOCItems(toc);\r\n//       }\r\n//     })\r\n\r\n//     return ()=>{\r\n//       unsubscribe();\r\n//     }\r\n//   },[])\r\n\r\n//   useEffect(() => {\r\n//     const observer = new IntersectionObserver(entries => {\r\n//       const visibleEntries = entries.filter(entry => entry.isIntersecting);\r\n//       if (visibleEntries.length > 0) {\r\n//         // Sort by intersection ratio\r\n//         visibleEntries.sort((a, b) => b.intersectionRatio - a.intersectionRatio);\r\n//         console.log(visibleEntries);\r\n        \r\n//         setActiveId(visibleEntries[0].target.id);\r\n//       }\r\n//     }, { \r\n//       threshold: [0.1,0.5,1.0],\r\n//      });\r\n\r\n//     if (TOCItems.length > 0) {\r\n//       TOCItems.forEach(item => {\r\n//         const element = document.getElementById(item.anchor);\r\n//         if (element) {\r\n//           observer.observe(element);\r\n//         }\r\n//       });\r\n//     }\r\n\r\n//     return () => {\r\n//       TOCItems.forEach(item => {\r\n//         const element = document.getElementById(item.anchor);\r\n//         if (element) {\r\n//           observer.unobserve(element);\r\n//         }\r\n//       });\r\n//     };\r\n//   }, [TOCItems]);\r\n\r\n//   const scrollToHeading=(id:string)=>{\r\n//     let element=document.getElementById(id);\r\n//     element?.scrollIntoView({behavior:\"smooth\"});\r\n//     setActiveId(id);\r\n//   }\r\n\r\n//   const createTOC=()=>{\r\n//     if(TOCItems.length!==0){\r\n//       return TOCItems.map(item=>{\r\n//         return (\r\n//           <li key={item.anchor} style={{marginLeft: (item.level-MAX_TOC_HEADING)*10}}>\r\n//             <p \r\n//             onClick={()=>scrollToHeading(item.anchor)}\r\n//             className={activeId===item.anchor?\"active\":\"\"}\r\n//             >\r\n//               {item.text}\r\n//             </p>          \r\n//           </li>\r\n//         )\r\n//       })\r\n//     }\r\n//   }\r\n\r\n//   return (\r\n//     <Card className=\"aside-card\">\r\n//       <div className='toc-header'>\r\n//         <FontAwesomeIcon icon={faList} />&nbsp;目录\r\n//         <hr/>\r\n//       </div>\r\n//       <div className='toc-content'>\r\n//         <ul>\r\n//           {createTOC()}\r\n//         </ul>\r\n//       </div>\r\n\r\n\r\n//     </Card>\r\n//   )\r\n// }\r\n//#endregion\r\n\r\n\r\ntype Props={\r\n  markdown:string;\r\n  showDrawer:boolean,\r\n  callbackOnClose:Function,\r\n}\r\n\r\nexport default function TOC({markdown, showDrawer,callbackOnClose}:Props) {\r\n  const [open,setOpen]=useState<boolean>(showDrawer);\r\n  const [drawerVisible,setDrawerVisible]=useState<boolean>(window.innerWidth<=MOBILE_MAX_WIDTH);\r\n  // const [isDarkMode,setIsDarkMode]=useState<boolean>(store.getState().darkMode);\r\n  const darkMode=useAppSelector(state=>state.darkMode);\r\n\r\n  useEffect(()=>{\r\n    setOpen(showDrawer);\r\n  },[showDrawer])\r\n  \r\n  const onClose=()=>{\r\n    setOpen(false);\r\n    callbackOnClose();\r\n  }\r\n\r\n  useEffect(()=>{\r\n    // const unsubscribe=store.subscribe(()=>{\r\n    //   const {darkMode}=store.getState();\r\n    //   setIsDarkMode(darkMode);\r\n    // })\r\n\r\n    const handleResize=()=>{\r\n      setDrawerVisible(window.innerWidth<=MOBILE_MAX_WIDTH);\r\n    }\r\n\r\n    window.addEventListener(\"resize\",handleResize);\r\n\r\n    return ()=>{\r\n      // unsubscribe();\r\n      window.removeEventListener(\"resize\",handleResize);\r\n    }\r\n  },[])\r\n\r\n  const getColorBgElevated=():string=>{\r\n    return darkMode?\"#1c1c2c99\":\"#ffffffcc\";\r\n  }\r\n\r\n  // const onHashChange=(newHash:any, oldHash:any)=>{\r\n  //   console.log(newHash,oldHash);\r\n    \r\n  //   window.history.replaceState(null,\"\",`${window.location.href}#${newHash}`);\r\n  // }\r\n\r\n  // const onNavItemClick=(event:any,element:any,hashValue:any)=>{\r\n  //   // console.log(event,element,hashValue);\r\n  //   console.log(window.location);\r\n  //   window.history.replaceState(null,\"\",`${window.location.href}#${hashValue}`);\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        !drawerVisible ?(\r\n        <Card className=\"aside-card\" darkMode={darkMode}>\r\n          <div className={darkMode?\"toc-header-dark\":'toc-header'}>\r\n            <FontAwesomeIcon icon={faList} />&nbsp;目录\r\n            <hr/>\r\n          </div>\r\n          <div className={darkMode?\"toc-content-dark\":'toc-content'}>\r\n              <MarkdownNavbar \r\n              source={markdown} \r\n              // updateHashAuto={false}\r\n              headingTopOffset={60}\r\n              ordered={true}\r\n              />\r\n          </div>\r\n\r\n        </Card>):(\r\n          <div className='toc-drawer-block'>\r\n          <ConfigProvider\r\n          theme={{\r\n            token:{\r\n              padding:0,\r\n              paddingLG:0,\r\n              paddingXS:0,\r\n              colorBgElevated:getColorBgElevated()\r\n            }\r\n          }}\r\n          >\r\n            <Drawer\r\n            className={darkMode?\"toc-drawer-dark\":'toc-drawer'}\r\n            placement=\"right\"\r\n            open={open}\r\n            onClose={onClose}\r\n            width={250}\r\n            closeIcon={null}\r\n            // destroyOnClose  //不加此项测试运行手机端不显示目录时滑动过快报错，正式运行不影响，但性能会受损 \r\n            >\r\n              <div className={darkMode?\"toc-header-dark\":'toc-header'}>\r\n                <FontAwesomeIcon icon={faList} />&nbsp;目录\r\n                <hr/>\r\n              </div>\r\n              <div className='toc-content'>\r\n                <MarkdownNavbar \r\n                // onNavItemClick={(event,element,hash)=>handleClick(event,element,hash)} \r\n                source={markdown} \r\n                // updateHashAuto={false}\r\n                headingTopOffset={60}\r\n                ordered={true}\r\n                />\r\n              </div>\r\n\r\n            </Drawer>\r\n          </ConfigProvider>\r\n        </div>)\r\n      }\r\n    </>\r\n  )\r\n}","import { Button, ConfigProvider, Input, message, Space } from \"antd\"\r\nimport Card from \"../../../components/Card\"\r\nimport { useRef, useState, useEffect } from \"react\"\r\n\r\nimport \"./index.scss\"\r\nimport store from \"../../../redux/store\"\r\nimport { useAppSelector } from \"../../../redux/hooks\"\r\n\r\ntype Props = {\r\n  onClose:Function\r\n  password:string\r\n}\r\n\r\nexport default function LockCard({onClose,password}: Props) {\r\n  const [messageApi, contextHolder] = message.useMessage();\r\n  // const [isDarkMode,setIsDarkMode]=useState<boolean>(store.getState().darkMode);\r\n  const darkMode=useAppSelector(state=>state.darkMode);\r\n\r\n  const inputRef=useRef<any>(null);\r\n\r\n  const verifyPassword=()=>{\r\n    const inputContent=inputRef.current?.input.value;\r\n    if(inputContent==password){\r\n      onClose();\r\n    }else{\r\n      messageApi.open({\r\n        type:\"error\",\r\n        content:\"密码错误！\"\r\n      });\r\n    }\r\n  }\r\n\r\n  const getToken=()=>{\r\n    if(darkMode){\r\n      return ({\r\n        colorPrimary:'#393958',\r\n      })\r\n    }else{\r\n      return ({\r\n        colorPrimary:\"#4086db\"\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card darkMode={darkMode}>\r\n      <div className=\"lock-card-main\">\r\n        <div className={darkMode?\"lock-card-title-dark\":\"lock-card-title\"}>\r\n          请输入密码\r\n        </div>\r\n\r\n        <div className=\"wave-divider\"/>\r\n\r\n        <div className=\"lock-card-input-line\">\r\n          <ConfigProvider\r\n          theme={{\r\n            components:{\r\n              Input:{\r\n                activeBg:\"#f6f6f6aa\"\r\n              },\r\n              Message:{\r\n                contentBg:\"#ffffffda\"\r\n              }\r\n            },\r\n            token:getToken()\r\n          }}\r\n          >\r\n            {contextHolder}\r\n            <Space.Compact style={{width:\"100%\"}}>\r\n              <Input ref={inputRef} type=\"password\" placeholder=\"password\"/>\r\n              <Button onClick={verifyPassword} type=\"primary\">Submit</Button>\r\n            </Space.Compact>\r\n          </ConfigProvider>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  )\r\n}","import { useState, useEffect } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Card from '../../components/Card';\r\nimport MDRenderer from '../../components/MDRenderer';\r\n// import store from '../../redux/store';\r\nimport { ConfigProvider, FloatButton, Skeleton, message } from 'antd';\r\nimport { PostConfig } from '../../utils/types';\r\nimport PageTitle from '../../components/PageTitle';\r\nimport { \r\n  UserOutlined, \r\n  ClockCircleOutlined, \r\n  FileWordOutlined,\r\n  CopyrightOutlined, \r\n  LinkOutlined, \r\n  CopyFilled,\r\n  UnorderedListOutlined, } from '@ant-design/icons';\r\nimport Tag from '../../components/Tag';\r\nimport Category from '../../components/Category';\r\nimport { AUTHOR, DEFAULT_SHOW_TOC, DEPLOY_ON_GITHUB_PAGES } from '../../utils/constants';\r\nimport TOC from './TOC';\r\nimport { clearSelectedPostConfig, clearSelectedPostHtml } from '../../redux/actions';\r\nimport LockCard from './LockCard';\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\r\nimport store from '../../redux/store';\r\nimport './index.scss'\r\n\r\nexport default function Post() {\r\n  const {id}=useParams();\r\n  const [markdown,setMarkdown]=useState<string>(\"\");\r\n  const [postConfig,setPostConfig]=useState<PostConfig>();\r\n  const [mdLen,setMdLen]=useState<number>(0);\r\n  const [locked,setLocked]=useState<boolean>(false);\r\n  const [showTOC,setShowTOC]=useState<boolean>(DEFAULT_SHOW_TOC);\r\n  //显示移动端TOC Drawer\r\n  const [showTOCDrawer,setShowTOCDrawer]=useState<boolean>(false);\r\n\r\n  const [messageApi, contextHolder] = message.useMessage();\r\n  const [url,setUrl]=useState<string>(window.location.href);\r\n\r\n  // const [isDarkMode,setIsDarkMode]=useState<boolean>(store.getState().darkMode);\r\n  const darkMode=useAppSelector(state=>state.darkMode);\r\n  const dispatch=useAppDispatch();\r\n  const postList=useAppSelector(state=>state.postList);\r\n\r\n  const navigate=useNavigate();\r\n\r\n  useEffect(()=>{\r\n    if(postList.length>0){\r\n      postList.forEach(pc=>{\r\n        if(pc.id===id){\r\n          setPostConfig(pc);\r\n        }\r\n      });\r\n    }\r\n\r\n  },[postList])\r\n\r\n  useEffect(()=>{\r\n    if(!id){\r\n      navigate('/');\r\n    }\r\n\r\n    axios.get(`/posts/${id}.md`)\r\n    .then(response=>{\r\n      // console.log(response);\r\n      setMarkdown(response.data);\r\n      setMdLen(response.data.length);\r\n      \r\n      const {postList}=store.getState();\r\n      let initPostConfig={} as PostConfig;\r\n      for(let pc of postList){\r\n        if(pc.id===id){\r\n          initPostConfig=pc;\r\n          break;\r\n        }\r\n      }\r\n      \r\n      setLocked(initPostConfig.lock);\r\n      // setPostConfig(initPostConfig);\r\n    })\r\n    .catch(err=>{\r\n      console.log(\"Post: 文章获取失败\",err);\r\n      console.log(window.location.pathname);\r\n      \r\n      navigate(`/articles/${id}`);\r\n    });\r\n\r\n    //处理因锚点导致的复制链接出错的问题\r\n    if(!DEPLOY_ON_GITHUB_PAGES){\r\n      const url=window.location.href;\r\n      const hashIndex=url.indexOf('#');\r\n      if(hashIndex!==-1){\r\n        const newUrl=url.substring(0,hashIndex);\r\n        setUrl(newUrl);\r\n      }\r\n    }\r\n\r\n    return ()=>{\r\n      // unsubscribe();\r\n      dispatch(clearSelectedPostConfig());\r\n      dispatch(clearSelectedPostHtml());\r\n    }\r\n\r\n  },[])\r\n\r\n  const createTags=()=>{\r\n    if(postConfig){\r\n      const {tags=[]}=postConfig;\r\n      return tags.map((item,index)=>{\r\n        return(\r\n          <div key={index} className='post-page-card-header-symbol-tag-block'>\r\n            <Tag tag={item} />\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  const createCategories=()=>{\r\n    if(postConfig){\r\n      const {categories=[]}=postConfig;\r\n      return categories.map((item,index)=>{\r\n        return(\r\n          <div key={index} className='post-page-card-header-symbol-category-block'>\r\n            <Category category={item} />\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  const copyLink=async ()=>{\r\n    const link=url;\r\n    try{\r\n      if(navigator.clipboard && navigator.clipboard.writeText){\r\n        await navigator.clipboard.writeText(link);\r\n        messageApi.open({\r\n          type:\"success\",\r\n          content:\"已复制到剪贴板\",\r\n        })\r\n      }else{\r\n        const textArea = document.createElement(\"textarea\");\r\n        textArea.value = link;\r\n        \r\n        textArea.style.position = \"fixed\"; \r\n        textArea.style.top = \"-9999px\";\r\n        textArea.style.left = \"-9999px\";\r\n        \r\n        document.body.appendChild(textArea);\r\n        textArea.focus();\r\n        textArea.select();\r\n        \r\n        try {\r\n          const successful = document.execCommand(\"copy\");\r\n          if (successful) {\r\n            messageApi.open({\r\n              type: \"success\",\r\n              content: \"已复制到剪贴板\",\r\n            });\r\n          } else {\r\n            throw new Error(\"复制失败\");\r\n          }\r\n        } catch (err) {\r\n          message.error(\"复制链接出错\");\r\n          console.log(\"复制链接出错\", err);\r\n        }\r\n  \r\n        document.body.removeChild(textArea);\r\n      }\r\n      \r\n    }catch(e){\r\n      message.error(\"复制链接出错\");\r\n      console.log(\"复制链接出错\",e);\r\n    }\r\n  }\r\n\r\n  const handleShowTOC=()=>{\r\n    setShowTOC(!showTOC);\r\n    setShowTOCDrawer(!showTOCDrawer);\r\n  }\r\n\r\n  const callbackCloseDrawer=()=>{\r\n    setShowTOCDrawer(false);\r\n  }\r\n\r\n  const getTocBtnToken=()=>{\r\n    let colorBgElevated=darkMode?'#46466c7b':'#ffffff7b';\r\n    let colorFillContent=darkMode?'#686894bb':'#ffffffbb';\r\n    let colorText='#ffffff99';\r\n    let token:any={\r\n      colorBgElevated,\r\n      colorFillContent\r\n    };\r\n    if(darkMode){\r\n      if(!token.hasOwnProperty('colorText')){\r\n        token['colorText']=colorText;\r\n      }\r\n    }\r\n    return token;\r\n  }\r\n\r\n  return (\r\n    <div className='post-page-main'>\r\n      <ConfigProvider\r\n      theme={{\r\n        token:{\r\n          colorBgElevated:\"#ffffff80\",\r\n          colorFillContent:\"#ffffffbb\",\r\n        },\r\n        components:{\r\n          Message:{\r\n            contentBg:\"#ffffffda\"\r\n          }\r\n        }\r\n      }}\r\n      >\r\n      {contextHolder}\r\n      {\r\n        postConfig ?\r\n        <>\r\n          <div className='post-page-title'>\r\n            <PageTitle title={postConfig.title}/>\r\n          </div>\r\n\r\n          <div className='post-page-body'>\r\n            {\r\n              !locked?\r\n              <>\r\n                <div className={showTOC?\"post-page-body-content-container-showtoc\":'post-page-body-content-container'}>\r\n                  <Card darkMode={darkMode}>\r\n                    <div className='post-page-card-header'>\r\n                      <div className='post-page-card-header-symbol'>\r\n                        <div className='post-page-card-header-symbol-tags'>\r\n                          {createTags()}\r\n                        </div>\r\n\r\n                        <div className='post-page-card-header-symbol-categories'>\r\n                          {createCategories()}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className='post-page-card-header-info'>\r\n                        <div style={darkMode?{color:\"#ffffffcc\"}:{}}>\r\n                          <span style={{fontWeight:\"bolder\"}}><UserOutlined/>&nbsp;作者：</span>\r\n                          {postConfig?.author}\r\n                        </div>\r\n\r\n                        <div style={darkMode?{color:\"#ffffffcc\"}:{}}>\r\n                        <span style={{fontWeight:\"bold\"}}><ClockCircleOutlined/>&nbsp;发布时间：</span>\r\n                          {postConfig?.time}\r\n                        </div>\r\n\r\n                        <div style={darkMode?{color:\"#ffffffcc\"}:{}}>\r\n                        <span style={{fontWeight:\"bold\"}}><FileWordOutlined />&nbsp;文章字数：</span>\r\n                          {mdLen}\r\n                        </div>\r\n                      </div>\r\n\r\n                    </div>\r\n                    \r\n                    <hr className='hr-twill'/>\r\n                    \r\n                    <div className={'post-page-card-container'}>\r\n                      <MDRenderer darkMode={darkMode} markdown={markdown} showLimitContent={false} />\r\n                    </div>\r\n\r\n                    <hr className='hr-twill'/>\r\n\r\n                    <div className={darkMode?'post-page-card-footer-dark':'post-page-card-footer'}>\r\n                      <div style={{marginBottom:\"5px\"}}>\r\n                        <span style={{fontWeight:\"bold\"}}>\r\n                          <LinkOutlined/>文章链接：\r\n                          <CopyFilled className={darkMode?'copy-button-dark':'copy-button'} onClick={copyLink}/>\r\n                        </span>\r\n                        <a href={url}>{url}</a>\r\n                      </div>\r\n                      <div style={{marginBottom:\"5px\"}}>\r\n                        <span style={{fontWeight:\"bold\"}}>\r\n                          <CopyrightOutlined />\r\n                          版权声明：本博客所有文章除特別声明外，均采用 <a href='https://creativecommons.org/licenses/by-nc-sa/4.0/'>CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href='/'>{AUTHOR}</a> !\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                </div>\r\n                \r\n                <div \r\n                className={`toc-container ${showTOC?'fade-in':'fade-out'}`} \r\n                // style={showTOC?{}:{display:\"none\"}}\r\n                >\r\n                  <TOC \r\n                  showDrawer={showTOCDrawer} \r\n                  markdown={markdown}\r\n                  callbackOnClose={callbackCloseDrawer}\r\n                  />\r\n                </div>\r\n              </>:<LockCard \r\n                  onClose={()=>{setLocked(false)}}\r\n                  password={postConfig?.password}\r\n                  />\r\n            }\r\n          </div>\r\n        </>:(\r\n          <div className='post-page-body'>\r\n            <Card darkMode={darkMode}>\r\n              <Skeleton active/>\r\n            </Card>\r\n          </div>\r\n        )\r\n      }\r\n      {\r\n        !locked &&\r\n        <ConfigProvider\r\n        theme={{\r\n          token:getTocBtnToken()\r\n        }}\r\n        >\r\n          <FloatButton \r\n          className='toc-btn' \r\n          icon={<UnorderedListOutlined/>}\r\n          onClick={handleShowTOC}\r\n          />\r\n        </ConfigProvider>\r\n      }\r\n      </ConfigProvider>\r\n    </div>\r\n  )\r\n}"],"names":["Category","_ref","category","_jsx","className","children","NavLink","to","concat","style","textDecoration","_jsxs","FontAwesomeIcon","icon","faBookmark","marginLeft","marked","Marked","markedHighlight","langPrefix","highlight","code","lang","info","language","hljs","getLanguage","value","MDRenderer","markdown","limit","showLimitContent","darkMode","content","setContent","useState","useEffect","cleanedMarkdown","replace","plainText","length","substring","html","parse","dangerouslySetInnerHTML","__html","use","markedKatex","Tag","tag","reload","bgColor","setBgColor","color","Math","floor","random","onClick","reloadPage","window","location","MarkdownNavbar","Component","constructor","props","super","getCurrentHashValue","decodeURIComponent","hash","winScroll","throttle","this","scrollEventLock","scrollTop","pageYOffset","document","documentElement","body","newHeadingList","getHeadingList","map","h","_objectSpread","distanceToTop","abs","headingTopOffset","offsetTop","distanceList","minDistance","min","curHeading","find","updateHashAuto","dataId","onHashChange","updateHash","setState","currentListNo","listNo","winHashChange","scrollToTarget","state","navStructure","safeScrollTo","element","top","left","arguments","undefined","smooth","scrollTo","scrollConfig","behavior","scrollLeft","refreshNav","source","addTargetTimeout","clearTimeout","getNavStructure","setTimeout","initHeadingsId","addEventListener","componentDidMount","componentWillReceiveProps","newProps","shouldComponentUpdate","nextProps","scrollEventLockTimer","refs","container","headings","querySelectorAll","Array","prototype","slice","apply","forEach","dataset","id","componentWillUnmount","scrollTimeout","removeEventListener","trimArrZero","arr","start","end","contentWithoutCode","trim","pattOfTitle","matchResult","match","navData","r","i","index","level","text","maxLevel","t","matchStack","pop","fill","push","join","newArr","target","querySelector","headingId","declarative","innerText","headingList","x","render","tBlocks","cls","evt","currentHash","onNavItemClick","ordered","toString","defaultProps","TOC","showDrawer","callbackOnClose","open","setOpen","drawerVisible","setDrawerVisible","innerWidth","MOBILE_MAX_WIDTH","useAppSelector","handleResize","_Fragment","ConfigProvider","theme","token","padding","paddingLG","paddingXS","colorBgElevated","Drawer","placement","onClose","width","closeIcon","faList","Card","LockCard","password","messageApi","contextHolder","message","useMessage","inputRef","useRef","components","Input","activeBg","Message","contentBg","colorPrimary","Space","Compact","ref","type","placeholder","Button","verifyPassword","_inputRef$current","current","input","Post","useParams","setMarkdown","postConfig","setPostConfig","mdLen","setMdLen","locked","setLocked","showTOC","setShowTOC","DEFAULT_SHOW_TOC","showTOCDrawer","setShowTOCDrawer","url","setUrl","href","dispatch","useAppDispatch","postList","navigate","useNavigate","pc","axios","get","then","response","data","store","getState","initPostConfig","lock","catch","err","console","log","pathname","DEPLOY_ON_GITHUB_PAGES","hashIndex","indexOf","newUrl","clearSelectedPostConfig","clearSelectedPostHtml","colorFillContent","PageTitle","title","createTags","tags","item","createCategories","categories","fontWeight","UserOutlined","author","ClockCircleOutlined","time","FileWordOutlined","marginBottom","LinkOutlined","CopyFilled","async","link","navigator","clipboard","writeText","textArea","createElement","position","appendChild","focus","select","execCommand","Error","error","removeChild","e","CopyrightOutlined","AUTHOR","callbackCloseDrawer","Skeleton","active","getTocBtnToken","hasOwnProperty","FloatButton","UnorderedListOutlined","handleShowTOC"],"sourceRoot":""}