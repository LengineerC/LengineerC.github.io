{"version":3,"file":"static/js/488.801afe64.chunk.js","mappings":"yMAWA,MAAMA,EAAS,CACb,sEACA,sEACA,sEACA,sEACA,sEACA,uEAEIC,EAAmB,sEAEV,SAASC,IAEtB,MAAMC,GAAeC,EAAAA,EAAAA,IAAeC,GAAOA,EAAMF,iBAE3CG,GAASF,EAAAA,EAAAA,IAAeC,GAAOA,EAAMC,WACrCC,GAASC,EAAAA,EAAAA,MAEfC,EAAAA,EAAAA,YAAU,KAQmB,IAAxBN,EAAeO,QAChBC,EAAAA,EAAMC,IAAI,sBACTC,MAAMC,IACL,MAAM,KAACC,GAAMD,EAEbP,GAASS,EAAAA,EAAAA,IAAmBD,GAAM,IAEnCE,OAAOC,IACNC,QAAQC,IAAI,mDAAWF,EAAI,GAE/B,GASA,IAqCF,OACEG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAC9BC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,MAAM,eAGnBF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,UAChCC,EAAAA,EAAAA,KAACG,EAAAA,EAAI,CAACrB,SAAUA,EAASiB,UACvBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAcC,SA3CTK,MAC1B,GAAGzB,EAAeO,OAAO,EACvB,OAAOP,EAAe0B,KAAI,CAACC,EAAKC,KAE5BP,EAAAA,EAAAA,KAAA,OAAiBF,UAAU,iBAAgBC,UACzCC,EAAAA,EAAAA,KAAA,KAAGQ,KAAMF,EAAKG,IAAIV,UAChBC,EAAAA,EAAAA,KAACG,EAAAA,EAAI,CACLO,OAAO,EACPZ,UAAU,aACVhB,SAAUA,EACV6B,WAAY7B,EAASL,EAAYD,EAAS,GAAGuB,UAE3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,OAAKF,UAAWhB,EAAS,wBAAwB,mBAAmBiB,UAClEC,EAAAA,EAAAA,KAAA,OAAKY,IAAKN,EAAKO,YAGjBhB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,OAAKF,UAAWhB,EAAS,kCAAkC,6BAA6BiB,SACrFO,EAAKJ,SAGRF,EAAAA,EAAAA,KAAA,OAAKF,UAAWhB,EAAS,wCAAwC,mCAAmCiB,SACjGO,EAAKQ,yBAnBRP,IA4BhB,EAYSH,WAMb,C","sources":["pages/Friends/index.tsx"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport PageTitle from '../../components/PageTitle'\r\nimport Card from '../../components/Card'\r\nimport axios from 'axios'\r\nimport { FriendUrl } from '../../utils/types'\r\nimport store from '../../redux/store'\r\nimport { saveFriendsUrlData } from '../../redux/actions'\r\n\r\nimport './index.scss'\r\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks'\r\n\r\nconst bgColors=[\r\n  'linear-gradient(to right,#ffb7b7aa 0%,#ff4c4caa 50%,#ffb7b7aa 100%)',\r\n  'linear-gradient(to right,#bbdcf5aa 0%,#9accf9aa 50%,#bbdcf5aa 100%)',\r\n  'linear-gradient(to right,#f7ff89aa 0%,#f6ff47aa 50%,#f7ff89aa 100%)',\r\n  'linear-gradient(to right,#8aff73aa 0%,#49ff38aa 50%,#8aff73aa 100%)',\r\n  'linear-gradient(to right,#71fffaaa 0%,#38e4ffaa 50%,#71fffaaa 100%)',\r\n  'linear-gradient(to right,#c57affaa 0%,#b436e1aa 50%,#c57affaa 100%)',\r\n]\r\nconst darkBgColor:string=\"linear-gradient(to right,#ffffff55 0%,#c0c0c055 50%,#ffffff55 100%)\";\r\n\r\nexport default function Friends() {\r\n  // const [friendsUrlData,setFriendsUrlData]=useState<FriendUrl[]>([]);\r\n  const friendsUrlData=useAppSelector(state=>state.friendsUrlData);\r\n  // const [isDarkMode,setIsDarkMode]=useState<boolean>(store.getState().darkMode);\r\n  const darkMode=useAppSelector(state=>state.darkMode);\r\n  const dispatch=useAppDispatch();\r\n\r\n  useEffect(()=>{\r\n    // const {friendsUrlData}=store.getState();\r\n    \r\n    // const unsubscribe=store.subscribe(()=>{\r\n    //   const {darkMode}=store.getState();\r\n    //   setIsDarkMode(darkMode);\r\n    // });\r\n\r\n    if(friendsUrlData.length===0){\r\n      axios.get('/json/friends.json')\r\n      .then((response=>{\r\n        const {data}=response;\r\n        // setFriendsUrlData(data);\r\n        dispatch(saveFriendsUrlData(data));\r\n      }))\r\n      .catch((err)=>{\r\n        console.log(\"获取友链数据失败\",err);\r\n      });\r\n    }\r\n    // else{\r\n    //   setFriendsUrlData(friendsUrlData);\r\n    // }\r\n\r\n    // return ()=>{\r\n    //   unsubscribe();\r\n    // }\r\n\r\n  },[])\r\n\r\n  const createFriendsUrlCards=()=>{\r\n    if(friendsUrlData.length>0){\r\n      return friendsUrlData.map((item,index)=>{\r\n        return(\r\n          <div key={index} className='card-container'>\r\n            <a href={item.url}>\r\n              <Card\r\n              scale={true}\r\n              className='aside-card'\r\n              darkMode={darkMode}\r\n              background={darkMode?darkBgColor:bgColors[1]}\r\n              >\r\n                <div className='friends-card'>\r\n                  <div className={darkMode?'friends-card-img-dark':'friends-card-img'}>\r\n                    <img src={item.avatar}/>\r\n                  </div>\r\n\r\n                  <div className='friends-card-content'>\r\n                    <div className={darkMode?'friends-card-content-title-dark':'friends-card-content-title'}>\r\n                      {item.title}\r\n                    </div>\r\n\r\n                    <div className={darkMode?'friends-card-content-description-dark':'friends-card-content-description'}>\r\n                      {item.description}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            </a>\r\n          </div>\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='page-main'>\r\n      <div className='page-main-title'>\r\n        <PageTitle title='Friends'/>\r\n      </div>\r\n\r\n      <div className='page-main-content'>\r\n        <Card darkMode={darkMode}>\r\n          <div className='friends-main'>\r\n            {createFriendsUrlCards()}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["bgColors","darkBgColor","Friends","friendsUrlData","useAppSelector","state","darkMode","dispatch","useAppDispatch","useEffect","length","axios","get","then","response","data","saveFriendsUrlData","catch","err","console","log","_jsxs","className","children","_jsx","PageTitle","title","Card","createFriendsUrlCards","map","item","index","href","url","scale","background","src","avatar","description"],"sourceRoot":""}